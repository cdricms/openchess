var Vd=Object.defineProperty,zd=Object.defineProperties;var Hd=Object.getOwnPropertyDescriptors;var ms=Object.getOwnPropertySymbols;var Au=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable;var Ea=(_,s,f)=>s in _?Vd(_,s,{enumerable:!0,configurable:!0,writable:!0,value:f}):_[s]=f,Mt=(_,s)=>{for(var f in s||(s={}))Au.call(s,f)&&Ea(_,f,s[f]);if(ms)for(var f of ms(s))Iu.call(s,f)&&Ea(_,f,s[f]);return _},Yt=(_,s)=>zd(_,Hd(s));var Nu=(_,s)=>{var f={};for(var e in _)Au.call(_,e)&&s.indexOf(e)<0&&(f[e]=_[e]);if(_!=null&&ms)for(var e of ms(_))s.indexOf(e)<0&&Iu.call(_,e)&&(f[e]=_[e]);return f};var bt=(_,s,f)=>(Ea(_,typeof s!="symbol"?s+"":s,f),f),ja=(_,s,f)=>{if(!s.has(_))throw TypeError("Cannot "+f)};var Ma=(_,s,f)=>(ja(_,s,"read from private field"),f?f.call(_):s.get(_)),En=(_,s,f)=>{if(s.has(_))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(_):s.set(_,f)},_i=(_,s,f,e)=>(ja(_,s,"write to private field"),e?e.call(_,f):s.set(_,f),f);var sn=(_,s,f)=>(ja(_,s,"access private method"),f);const qd=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))e(y);new MutationObserver(y=>{for(const p of y)if(p.type==="childList")for(const h of p.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function f(y){const p={};return y.integrity&&(p.integrity=y.integrity),y.referrerpolicy&&(p.referrerPolicy=y.referrerpolicy),y.crossorigin==="use-credentials"?p.credentials="include":y.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function e(y){if(y.ep)return;y.ep=!0;const p=f(y);fetch(y.href,p)}};qd();function Os(){}function rc(_){return _()}function Uu(){return Object.create(null)}function Xi(_){_.forEach(rc)}function Wd(_){return typeof _=="function"}function gl(_,s){return _!=_?s==s:_!==s||_&&typeof _=="object"||typeof _=="function"}function Yd(_){return Object.keys(_).length===0}function _r(_,s){_.appendChild(s)}function Qs(_,s,f){_.insertBefore(s,f||null)}function Zi(_){_.parentNode.removeChild(_)}function $d(_,s){for(let f=0;f<_.length;f+=1)_[f]&&_[f].d(s)}function fn(_){return document.createElement(_)}function ki(_){return document.createTextNode(_)}function Qn(){return ki(" ")}function Fu(_,s,f,e){return _.addEventListener(s,f,e),()=>_.removeEventListener(s,f,e)}function In(_,s,f){f==null?_.removeAttribute(s):_.getAttribute(s)!==f&&_.setAttribute(s,f)}function Xd(_){return Array.from(_.childNodes)}function Ia(_,s){s=""+s,_.wholeText!==s&&(_.data=s)}function Bu(_,s,f,e){f===null?_.style.removeProperty(s):_.style.setProperty(s,f,e?"important":"")}let vl;function Mi(_){vl=_}const ji=[],Gu=[],Ss=[],Vu=[],Zd=Promise.resolve();let Na=!1;function Kd(){Na||(Na=!0,Zd.then(nc))}function Ua(_){Ss.push(_)}const Ca=new Set;let ys=0;function nc(){const _=vl;do{for(;ys<ji.length;){const s=ji[ys];ys++,Mi(s),Qd(s.$$)}for(Mi(null),ji.length=0,ys=0;Gu.length;)Gu.pop()();for(let s=0;s<Ss.length;s+=1){const f=Ss[s];Ca.has(f)||(Ca.add(f),f())}Ss.length=0}while(ji.length);for(;Vu.length;)Vu.pop()();Na=!1,Ca.clear(),Mi(_)}function Qd(_){if(_.fragment!==null){_.update(),Xi(_.before_update);const s=_.dirty;_.dirty=[-1],_.fragment&&_.fragment.p(_.ctx,s),_.after_update.forEach(Ua)}}const Es=new Set;let Jd;function ks(_,s){_&&_.i&&(Es.delete(_),_.i(s))}function Fa(_,s,f,e){if(_&&_.o){if(Es.has(_))return;Es.add(_),Jd.c.push(()=>{Es.delete(_),e&&(f&&_.d(1),e())}),_.o(s)}}function Ba(_){_&&_.c()}function Ps(_,s,f,e){const{fragment:y,on_mount:p,on_destroy:h,after_update:t}=_.$$;y&&y.m(s,f),e||Ua(()=>{const c=p.map(rc).filter(Wd);h?h.push(...c):Xi(c),_.$$.on_mount=[]}),t.forEach(Ua)}function Ls(_,s){const f=_.$$;f.fragment!==null&&(Xi(f.on_destroy),f.fragment&&f.fragment.d(s),f.on_destroy=f.fragment=null,f.ctx=[])}function eh(_,s){_.$$.dirty[0]===-1&&(ji.push(_),Kd(),_.$$.dirty.fill(0)),_.$$.dirty[s/31|0]|=1<<s%31}function bl(_,s,f,e,y,p,h,t=[-1]){const c=vl;Mi(_);const u=_.$$={fragment:null,ctx:null,props:p,update:Os,not_equal:y,bound:Uu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(c?c.$$.context:[])),callbacks:Uu(),dirty:t,skip_bound:!1,root:s.target||c.$$.root};h&&h(u.root);let d=!1;if(u.ctx=f?f(_,s.props||{},(l,n,...r)=>{const o=r.length?r[0]:n;return u.ctx&&y(u.ctx[l],u.ctx[l]=o)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](o),d&&eh(_,l)),n}):[],u.update(),d=!0,Xi(u.before_update),u.fragment=e?e(u.ctx):!1,s.target){if(s.hydrate){const l=Xd(s.target);u.fragment&&u.fragment.l(l),l.forEach(Zi)}else u.fragment&&u.fragment.c();s.intro&&ks(_.$$.fragment),Ps(_,s.target,s.anchor,s.customElement),nc()}Mi(c)}class wl{$destroy(){Ls(this,1),this.$destroy=Os}$on(s,f){const e=this.$$.callbacks[s]||(this.$$.callbacks[s]=[]);return e.push(f),()=>{const y=e.indexOf(f);y!==-1&&e.splice(y,1)}}$set(s){this.$$set&&!Yd(s)&&(this.$$.skip_bound=!0,this.$$set(s),this.$$.skip_bound=!1)}}var ln;(function(_){_.LightKing="\u2654",_.LightQueen="\u2655",_.LightRook="\u2656",_.LightBishop="\u2657",_.LightKnight="\u2658",_.LightPawn="\u2659",_.DarkKing="\u265A",_.DarkQueen="\u265B",_.DarkRook="\u265C",_.DarkBishop="\u265D",_.DarkKnight="\u265E",_.DarkPawn="\u265F"})(ln||(ln={}));function _l(_,s){var e;const f=this.shade==="dark"?_.lightKing:_.darkKing;if(f){let y=!1;for(const p of s)if(((e=p.piece)==null?void 0:e.uuid)===f.uuid){y=!0;break}y&&(this.pathToEnemyKing=s)}return s}var Ct;(function(_){_[_.NORTH=0]="NORTH",_[_.NE=1]="NE",_[_.EAST=2]="EAST",_[_.SE=3]="SE",_[_.SOUTH=4]="SOUTH",_[_.SW=5]="SW",_[_.WEST=6]="WEST",_[_.NW=7]="NW"})(Ct||(Ct={}));function oc(_){switch(_){case Ct.NORTH:return{rank:1,file:0};case Ct.NE:return{rank:1,file:1};case Ct.EAST:return{rank:0,file:1};case Ct.SE:return{rank:-1,file:1};case Ct.SOUTH:return{rank:-1,file:0};case Ct.SW:return{rank:-1,file:-1};case Ct.WEST:return{rank:0,file:-1};case Ct.NW:return{rank:1,file:-1}}}function ic(_,s){return ac(this,_,s)}function sc(_,s){return ac(this,_,s)}function ac(_,s,f){var h,t;const e=[],y=oc(s);let p=f.getSquare((h=_.pos)==null?void 0:h.rank,(t=_.pos)==null?void 0:t.file);for(;p&&(p=f.getSquare(p.pos.rank+y.rank,p.pos.file+y.file));)e.push(p);return e}var gs,th=new Uint8Array(16);function rh(){if(!gs&&(gs=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gs(th)}var nh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function oh(_){return typeof _=="string"&&nh.test(_)}var Zr=[];for(var Da=0;Da<256;++Da)Zr.push((Da+256).toString(16).substr(1));function ih(_){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(Zr[_[s+0]]+Zr[_[s+1]]+Zr[_[s+2]]+Zr[_[s+3]]+"-"+Zr[_[s+4]]+Zr[_[s+5]]+"-"+Zr[_[s+6]]+Zr[_[s+7]]+"-"+Zr[_[s+8]]+Zr[_[s+9]]+"-"+Zr[_[s+10]]+Zr[_[s+11]]+Zr[_[s+12]]+Zr[_[s+13]]+Zr[_[s+14]]+Zr[_[s+15]]).toLowerCase();if(!oh(f))throw TypeError("Stringified UUID is invalid");return f}function lc(_,s,f){_=_||{};var e=_.random||(_.rng||rh)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,s){f=f||0;for(var y=0;y<16;++y)s[f+y]=e[y];return s}return ih(e)}class uc{constructor(s,f){bt(this,"piece",null);bt(this,"shade");bt(this,"pos");bt(this,"chessPosition");this.shade=s,this.pos=f,this.chessPosition=this.getChessPosition()}getChessPosition(){const f=["A","B","C","D","E","F","G","H"][this.pos.file];return{rank:this.pos.rank+1,file:f}}}var zi,$s,cc;class li{constructor(s,f,e,y,p){En(this,$s);bt(this,"type");bt(this,"shade");bt(this,"pos");bt(this,"unicodeChar");bt(this,"fenChar");bt(this,"defaultMoves",[]);bt(this,"legalMoves",[]);bt(this,"coverage",[]);bt(this,"threatens",new Set);bt(this,"threatenedBy",new Set);bt(this,"protects",new Set);bt(this,"protectedBy",new Set);bt(this,"uuid",lc());bt(this,"myKingIsUnderCheck",!1);En(this,zi,[]);bt(this,"timesMoved",0);bt(this,"canBeEaten",!0);this.type=s,this.shade=f,this.pos=y;const{unicode:h,fenChar:t}=sn(this,$s,cc).call(this);this.unicodeChar=h,this.fenChar=t,this.defaultMoves=this.getDefaultMoves(e),this.legalMoves=this.getLegalMoves(e),this.initialSquares=p||[]}get initialSquares(){return Ma(this,zi)}set initialSquares(s){_i(this,zi,s)}getDefaultMoves(s){return[]}getLegalMoves(s){return[]}getCoverageMoves(s){return this.legalMoves}moveConditions(s){return!1}isMoveLegal(s){return this.legalMoves.includes(s)}threaten(){this.coverage.forEach(s=>{s.piece&&s.piece.shade!==this.shade&&(this.threatens.add(s.piece),s.piece.threatenedBy.add(this))})}doIIntersect(){const s=this.threatenedBy;for(const f of s)if(f.type==="Bishop"||f.type==="Queen"||f.type==="Rook"){const e=f;for(const y of e.pathToEnemyKing)if(y.piece===this)return!0}return!1}findMovesToProtectKing(s){const f=this.shade==="dark"?s.darkKing:s.lightKing;if(f&&f.threatenedBy.size<=1)for(const e of f.threatenedBy)"getPathToEnemyKing"in e?this.legalMoves=this.legalMoves.filter(y=>{var p;return e.pathToEnemyKing.includes(y)||y.pos.rank===((p=e.pos)==null?void 0:p.rank)&&y.pos.file===e.pos.file}):this.legalMoves=this.legalMoves.filter(y=>{var p;return y.pos.rank===((p=e.pos)==null?void 0:p.rank)&&y.pos.file===e.pos.file});else this.legalMoves=[]}checkMoveLegality(s,f,e){if(s instanceof uc){let y=!1;return s.piece?(y=!1,s.piece.shade!==this.shade?y=!0:(y=!1,this.protects.add(s.piece),s.piece.protectedBy.add(this))):y=!0,e&&(y=e()),y}else{const y=[];for(const p of s)if(!p.piece)y.push(p);else if(p.piece.shade!==this.shade){y.push(p);break}else{this.protects.add(p.piece),p.piece.protectedBy.add(this);break}return y}}move(s,f){var c,u,d,l,n,r,o,i,a,m,v,b,x,S,M,C;let e=`${this.type==="Pawn"?"":this.fenChar.toUpperCase()}`;const y=this.shade==="dark"?-1:1,p=f.getSquare(s.rank,s.file);if(!p)return!1;const h=p==null?void 0:p.piece;if(p&&!this.isMoveLegal(p)||h&&!(h!=null&&h.canBeEaten))return!1;if(this.pos&&f.setPiece(null,this.pos.rank,this.pos.file),h&&h.canBeEaten){const O=f.getPiece(s.rank,s.file);f.pieces=f.pieces.filter(R=>R!==O),f.setPiece(null,s.rank,s.file),e+=`x${p.chessPosition.file.toLowerCase()}${p.chessPosition.rank}`}else if(this.type==="Pawn"){const O=this;if(((u=(c=O.canTakeEnPassant)==null?void 0:c.pos)==null?void 0:u.file)===s.file&&O.canTakeEnPassant.pos.rank===s.rank-y){const R=f.getSquare((d=O.pos)==null?void 0:d.rank,(l=O.pos)==null?void 0:l.file);f.setPiece(null,O.canTakeEnPassant.pos.rank,O.canTakeEnPassant.pos.file),f.pieces=f.pieces.filter(P=>P!==O.canTakeEnPassant),O.canTakeEnPassant=null,O.timesEnPassant=O.timesEnPassant+1,e=`${R==null?void 0:R.chessPosition.file.toLowerCase()}x${p.chessPosition.file.toLowerCase()}${p.chessPosition.rank} e.p`}else e=`${p.chessPosition.file.toLowerCase()}${p.chessPosition.rank}`}else if(this.type==="King"&&this.timesMoved===0){const O=this.legalMoves.find(P=>{var L,U;return P.pos.file===((L=this.pos)==null?void 0:L.file)+2&&P.pos.rank===((U=this.pos)==null?void 0:U.rank)}),R=this.legalMoves.find(P=>{var L,U;return P.pos.file===((L=this.pos)==null?void 0:L.file)-2&&P.pos.rank===((U=this.pos)==null?void 0:U.rank)});if(O||R){if(O){const P=f.getPiece((n=this.pos)==null?void 0:n.rank,((r=this.pos)==null?void 0:r.file)+3);P&&(f.setPiece(null,(o=P.pos)==null?void 0:o.rank,(i=P.pos)==null?void 0:i.file),f.setPiece(P,(a=this.pos)==null?void 0:a.rank,((m=this.pos)==null?void 0:m.file)+1),e="O-O")}if(R){const P=f.getPiece((v=this.pos)==null?void 0:v.rank,((b=this.pos)==null?void 0:b.file)-4);P&&(f.setPiece(null,(x=P.pos)==null?void 0:x.rank,(S=P.pos)==null?void 0:S.file),f.setPiece(P,(M=this.pos)==null?void 0:M.rank,((C=this.pos)==null?void 0:C.file)-1),e="O-O-O")}}else e+=`${p.chessPosition.file.toLowerCase()}${p.chessPosition.rank}`}else e+=`${p.chessPosition.file.toLowerCase()}${p.chessPosition.rank}`;f.setPiece(this,s.rank,s.file),this.timesMoved++;let t=f.pieceHistory.get(this.uuid);return f.pieceHistory.set(this.uuid,t+1),f.totalMoves++,f.history.push({uuid:this.uuid,an:e}),!0}}zi=new WeakMap,$s=new WeakSet,cc=function(){switch(this.shade){case"dark":switch(this.type){case"King":return{unicode:ln.DarkKing,fenChar:"k"};case"Queen":return{unicode:ln.DarkQueen,fenChar:"q"};case"Rook":return{unicode:ln.DarkRook,fenChar:"r"};case"Bishop":return{unicode:ln.DarkBishop,fenChar:"b"};case"Knight":return{unicode:ln.DarkKnight,fenChar:"n"};case"Pawn":return{unicode:ln.DarkPawn,fenChar:"p"}}case"light":switch(this.type){case"King":return{unicode:ln.LightKing,fenChar:"K"};case"Queen":return{unicode:ln.LightQueen,fenChar:"Q"};case"Rook":return{unicode:ln.LightRook,fenChar:"R"};case"Bishop":return{unicode:ln.LightBishop,fenChar:"B"};case"Knight":return{unicode:ln.LightKnight,fenChar:"N"};case"Pawn":return{unicode:ln.LightPawn,fenChar:"P"}}}};class dc extends li{constructor(f,e,y){const p=f==="dark"?7:0;super("Rook",f,e,y,[{rank:p,file:0},{rank:p,file:7}]);bt(this,"pathToEnemyKing",[])}getPathToEnemyKing(f,e){return[]}straightMove(f,e){return[]}getLegalMoves(f){const e=this.getPathToEnemyKing(f,this.checkMoveLegality(this.straightMove(Ct.NORTH,f))),y=this.getPathToEnemyKing(f,this.checkMoveLegality(this.straightMove(Ct.EAST,f))),p=this.getPathToEnemyKing(f,this.checkMoveLegality(this.straightMove(Ct.SOUTH,f))),h=this.getPathToEnemyKing(f,this.checkMoveLegality(this.straightMove(Ct.WEST,f)));return[...e,...y,...p,...h]}getDefaultMoves(f){const e=this.straightMove(Ct.NORTH,f),y=this.straightMove(Ct.EAST,f),p=this.straightMove(Ct.SOUTH,f),h=this.straightMove(Ct.WEST,f);return[...e,...y,...p,...h]}}Object.assign(dc.prototype,{straightMove:sc,getPathToEnemyKing:_l});class hc extends li{constructor(f,e,y){const p=f==="dark"?7:0;super("Bishop",f,e,y,[{rank:p,file:2},{rank:p,file:5}]);bt(this,"pathToEnemyKing",[])}getPathToEnemyKing(f,e){return[]}diagonalMove(f,e){return[]}getLegalMoves(f){const e=this.getPathToEnemyKing(f,this.checkMoveLegality(this.diagonalMove(Ct.NE,f))),y=this.getPathToEnemyKing(f,this.checkMoveLegality(this.diagonalMove(Ct.SE,f))),p=this.getPathToEnemyKing(f,this.checkMoveLegality(this.diagonalMove(Ct.SW,f))),h=this.getPathToEnemyKing(f,this.checkMoveLegality(this.diagonalMove(Ct.NW,f)));return[...e,...y,...p,...h]}getDefaultMoves(f){const e=this.diagonalMove(Ct.NE,f),y=this.diagonalMove(Ct.SE,f),p=this.diagonalMove(Ct.SW,f),h=this.diagonalMove(Ct.NW,f);return[...e,...y,...p,...h]}}Object.assign(hc.prototype,{diagonalMove:ic,getPathToEnemyKing:_l});var Xs,fc,Zs,pc;class zu extends li{constructor(f,e,y){super("King",f,e,y,[{rank:f==="dark"?7:0,file:4}]);En(this,Xs);En(this,Zs);this.canBeEaten=!1}getLegalMoves(f){const e=this.shade==="dark"?f.lightCoverage:f.darkCoverage,y=[];return this.defaultMoves.forEach(p=>{this.checkMoveLegality(p)&&!e.has(p)&&!sn(this,Xs,fc).call(this,p.piece)&&!sn(this,Zs,pc).call(this,p)&&y.push(p)}),y}get isUnderCheck(){return this.threatenedBy.size>0}getDefaultMoves(f){var p,h,t,c,u,d,l,n,r,o,i,a,m,v;const e=[],y=["NORTH","NE","EAST","SE","SOUTH","SW","WEST","NW"];for(let b=0;b<8;b++){const x=oc(Ct[y[b]]),S=f.getSquare(((p=this.pos)==null?void 0:p.rank)+x.rank,((h=this.pos)==null?void 0:h.file)+x.file);S&&e.push(S)}if(this.timesMoved===0){const b=f.getPiece((t=this.pos)==null?void 0:t.rank,((c=this.pos)==null?void 0:c.file)+3),x=f.getPiece((u=this.pos)==null?void 0:u.rank,((d=this.pos)==null?void 0:d.file)-4);if(b&&b.type==="Rook"&&b.shade===this.shade){let S=!0;for(let M=1;M<3;M++)if(f.getPiece((l=this.pos)==null?void 0:l.rank,((n=this.pos)==null?void 0:n.file)+M)){S=!1;break}if(S){const M=f.getSquare((r=this.pos)==null?void 0:r.rank,((o=this.pos)==null?void 0:o.file)+2);M&&e.push(M)}}if(x&&x.type==="Rook"&&x.shade===this.shade){let S=!0;for(let M=1;M<4;M++)if(f.getPiece((i=this.pos)==null?void 0:i.rank,((a=this.pos)==null?void 0:a.file)-M)){S=!1;break}if(S){const M=f.getSquare((m=this.pos)==null?void 0:m.rank,((v=this.pos)==null?void 0:v.file)-2);M&&e.push(M)}}}return e}}Xs=new WeakSet,fc=function(f){return f?this.threatenedBy.has(f)&&f.protectedBy.size>0:!1},Zs=new WeakSet,pc=function(f){for(const e of this.threatenedBy)if("getPathToEnemyKing"in e)return e.pathToEnemyKing.includes(f);return!1};class Ga extends li{constructor(f,e,y){super("Queen",f,e,y,[{rank:f==="dark"?7:0,file:3}]);bt(this,"pathToEnemyKing",[])}diagonalMove(f,e){return[]}straightMove(f,e){return[]}getPathToEnemyKing(f,e){return[]}getLegalMoves(f){const e=this.checkMoveLegality(this.getPathToEnemyKing(f,this.straightMove(Ct.NORTH,f)),f),y=this.checkMoveLegality(this.getPathToEnemyKing(f,this.straightMove(Ct.EAST,f)),f),p=this.checkMoveLegality(this.getPathToEnemyKing(f,this.straightMove(Ct.SOUTH,f)),f),h=this.checkMoveLegality(this.getPathToEnemyKing(f,this.straightMove(Ct.WEST,f)),f),t=this.checkMoveLegality(this.getPathToEnemyKing(f,this.diagonalMove(Ct.NE,f)),f),c=this.checkMoveLegality(this.getPathToEnemyKing(f,this.diagonalMove(Ct.SE,f)),f),u=this.checkMoveLegality(this.getPathToEnemyKing(f,this.diagonalMove(Ct.SW,f)),f),d=this.checkMoveLegality(this.getPathToEnemyKing(f,this.diagonalMove(Ct.NW,f)),f);return[...e,...t,...y,...c,...p,...u,...h,...d]}getDefaultMoves(f){const e=this.straightMove(Ct.NORTH,f),y=this.straightMove(Ct.EAST,f),p=this.straightMove(Ct.SOUTH,f),h=this.straightMove(Ct.WEST,f),t=this.diagonalMove(Ct.NE,f),c=this.diagonalMove(Ct.SE,f),u=this.diagonalMove(Ct.SW,f),d=this.diagonalMove(Ct.NW,f);return[...e,...t,...y,...c,...p,...u,...h,...d]}}Object.assign(Ga.prototype,{diagonalMove:ic,straightMove:sc,getPathToEnemyKing:_l});class sh extends li{constructor(s,f,e){const y=s==="dark"?7:0,p=[{rank:y,file:1},{rank:y,file:6}];super("Knight",s,f,e,p)}getDefaultMoves(s){const f=[];return this.pos&&[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]].forEach(y=>{const p=s.getSquare(this.pos.rank+y[0],this.pos.file+y[1]);p&&f.push(p)}),f}getLegalMoves(s){const f=this.defaultMoves,e=[];return f.forEach(y=>{y&&this.checkMoveLegality(y)&&e.push(y)}),e}}var Hi,za;const Ks=class extends li{constructor(f,e,y){const p=f==="light"?1:6,t=[0,1,2,3,4,5,6,7].map(c=>({rank:p,file:c}));super("Pawn",f,e,y,t);En(this,Hi);bt(this,"canTakeEnPassant",null);bt(this,"timesEnPassant",0)}getLegalMoves(f){const e=this.defaultMoves,y=[];return e.forEach(p=>{p&&this.checkMoveLegality(p,f,()=>this.moveConditions(p))&&y.push(p)}),y}moveConditions(f){var y,p,h,t,c,u;const e=this.shade==="light"?1:-1;return this.canTakeEnPassant&&f.pos.rank-e===((y=this.canTakeEnPassant.pos)==null?void 0:y.rank)&&f.pos.file===this.canTakeEnPassant.pos.file?!0:f.pos.rank===((p=this.pos)==null?void 0:p.rank)+e||f.pos.rank===((h=this.pos)==null?void 0:h.rank)+e*2?f.pos.rank!==((t=this.pos)==null?void 0:t.rank)+e*2&&(f.pos.file===((c=this.pos)==null?void 0:c.file)+e||f.pos.file===((u=this.pos)==null?void 0:u.file)-e)?f.piece!==null&&f.piece.shade!==this.shade:!f.piece:!1}getCoverageMoves(f){const e=this.shade==="light"?1:-1;return this.defaultMoves.filter(y=>{var p,h;return!(y.pos.file===((p=this.pos)==null?void 0:p.file)&&(y.pos.rank===((h=this.pos)==null?void 0:h.rank)+e||y.pos.rank===this.pos.rank+e*2))})}getDefaultMoves(f){const e=[];if(this.pos){this.canTakeEnPassant=null;const y=this.shade==="light"?1:-1,p=f.getSquare(this.pos.rank+y,this.pos.file),h=f.getSquare(this.pos.rank+y*2,this.pos.file),t=f.getSquare(this.pos.rank+y,this.pos.file+y),c=f.getSquare(this.pos.rank+y,this.pos.file-y);if(p&&!(p!=null&&p.piece)&&(e.push(p),this.timesMoved===0&&this.initialSquares.find(u=>{var d,l;return u.rank===((d=this.pos)==null?void 0:d.rank)&&u.file===((l=this.pos)==null?void 0:l.file)})&&h&&!(h!=null&&h.piece)&&e.push(h)),t&&e.push(t),c&&e.push(c),this.timesEnPassant===0){const u=f.getSquare(this.pos.rank,this.pos.file+y),d=f.getSquare(this.pos.rank,this.pos.file-y);t&&!t.piece&&u&&u.piece instanceof Ks&&sn(this,Hi,za).call(this,u.piece,f)&&(e.includes(t)||e.push(t)),c&&!c.piece&&d&&d.piece instanceof Ks&&sn(this,Hi,za).call(this,d.piece,f)&&(e.includes(c)||e.push(c))}}return e}};let Va=Ks;Hi=new WeakSet,za=function(f,e){return f.timesMoved===1&&e.history[e.history.length-1].uuid===f.uuid?(this.canTakeEnPassant=f,console.log(f),!0):!1};var Do,qi,Ha,Wi,qa,Yi,Wa,$i,Ya;class ah{constructor(s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"){En(this,qi);En(this,Wi);En(this,Yi);En(this,$i);bt(this,"board");En(this,Do,void 0);bt(this,"pieces",[]);bt(this,"lightKing",null);bt(this,"darkKing",null);bt(this,"darkCoverage",new Set);bt(this,"lightCoverage",new Set);bt(this,"pieceHistory",new Map);bt(this,"totalMoves",0);bt(this,"whoWon",null);bt(this,"history",[]);bt(this,"game",null);bt(this,"strict",!0);this.board=sn(this,Yi,Wa).call(this),_i(this,Do,s)}get fen(){return Ma(this,Do)}set fen(s){this.legalFEN(s)&&(_i(this,Do,s),this.emptyBoard(),this.loadPieces())}legalFEN(s){let f=0,e=0;for(const y of s){const p=parseInt(y);y==="/"?f++:isNaN(p)?e++:e+=p}return f===7&&e===64}emptyBoard(){this.pieces=[],this.board=sn(this,Yi,Wa).call(this)}loadPieces(s){s&&this.legalFEN(s)&&(this.fen=s);let f=this.board.length-1,e=0,y=0,p="";for(;f>=0&&(p=this.fen[y]);){const h=parseInt(p);if(p==="/")f--,e=0;else if(isNaN(h)){let t=null;switch(p){case"K":this.lightKing=t=new zu("light",this);break;case"k":this.darkKing=t=new zu("dark",this);break;case"Q":case"q":t=new Ga(p==="q"?"dark":"light",this);break;case"R":case"r":t=new dc(p==="r"?"dark":"light",this);break;case"N":case"n":t=new sh(p==="n"?"dark":"light",this);break;case"B":case"b":t=new hc(p==="b"?"dark":"light",this);break;case"P":case"p":t=new Va(p==="p"?"dark":"light",this);break}this.board[f][e].piece=t,t&&(t.pos=this.board[f][e].pos,this.pieces.push(t),this.pieceHistory.set(t.uuid,0)),e++}else e+=h;y++}sn(this,qi,Ha).call(this)}getKing(s){return this.pieces.find(e=>e.shade===s&&e.type==="King")||null}generateFEN(){let s="",f=0;return this.forEach((e,y,p)=>{!e||!e.piece?f++:(f>0&&(s+=f,f=0),s+=e.piece.fenChar),p===this.board[y].length-1&&(f>0&&(s+=f,f=0),y!=0&&(s+="/"))}),s}forEach(s){for(let f=this.board.length-1;f>=0;f--)for(let e=0;e<this.board[f].length;e++)s(this.getSquare(f,e),f,e)}setPiece(s,f,e){return sn(this,$i,Ya).call(this,f,e)?(this.board[f][e].piece=s,s&&(s.pos=this.board[f][e].pos),_i(this,Do,this.generateFEN()),!0):!1}getPiece(s,f){const e=this.getSquare(s,f);return e?e.piece:null}getSquare(s,f){return sn(this,$i,Ya).call(this,s,f)?this.board[s][f]:null}movePiece(s,f){var e,y,p,h,t;if(((e=this.game)==null?void 0:e.hasStarted)&&!((y=this.game)!=null&&y.isPaused)&&f){if(this.strict&&this.game&&f.shade!==this.game.currentPlayer.shade)return!1;const c=Mt({},f.pos),u=f.move(s,this);u&&(this.history.length===1&&this.game.start(),(p=this.game)==null||p.switch());const d=f.shade==="dark"?-1:1;if(f.type==="Pawn"&&s.rank===c.rank+d&&s.rank===(f.shade==="dark"?0:7)){const l=new Ga(f.shade,this,f.pos);l.uuid=f.uuid,this.setPiece(l,(h=l.pos)==null?void 0:h.rank,(t=l.pos)==null?void 0:t.file),this.pieces=this.pieces.filter(n=>n!==f),this.pieces.push(l)}return sn(this,qi,Ha).call(this),u}return!1}displayInConsole(){const s="\u2502",f="  \u250C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2510",e="  \u251C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u253C\u2500\u2500\u2500\u2524",y="  \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518",p=["a","b","c","d","e","f","g","h"];for(let h=this.board.length-1;h>=0;h--){let t=`${h+1} ${s} `;for(let c=0;c<this.board[h].length;c++){const u=this.getPiece(h,c);u?t+=u.unicodeChar:t+=" ",t+=` ${s} `}console.log(h===7?f:e),console.log(t),h===0&&console.log(y)}console.log(`  ${s} `+p.join(` ${s} `)+` ${s}`)}}Do=new WeakMap,qi=new WeakSet,Ha=function(){this.lightCoverage.clear(),this.darkCoverage.clear(),this.pieces.forEach(s=>{s.threatenedBy.clear(),s.threatens.clear(),s.protects.clear(),s.protectedBy.clear(),s.myKingIsUnderCheck=!1,"pathToEnemyKing"in s&&(s.pathToEnemyKing=[])}),this.pieces.forEach(s=>{s.defaultMoves=s.getDefaultMoves(this),s.legalMoves=s.getLegalMoves(this),s.coverage=s.getCoverageMoves(this),s.threaten()}),this.pieces.forEach(s=>{s.doIIntersect()&&s.threatenedBy.forEach(f=>{s.legalMoves=s.legalMoves.filter(e=>e.piece===f)}),s.shade==="light"?s.coverage.forEach(f=>this.lightCoverage.add(f)):s.coverage.forEach(f=>this.darkCoverage.add(f))}),this.darkKing&&(this.darkKing.legalMoves=this.darkKing.getLegalMoves(this),this.darkKing.isUnderCheck&&sn(this,Wi,qa).call(this,this.darkKing)),this.lightKing&&(this.lightKing.legalMoves=this.lightKing.getLegalMoves(this),this.lightKing.isUnderCheck&&sn(this,Wi,qa).call(this,this.lightKing)),this.darkCoverage.size===0&&(this.whoWon="light"),this.lightCoverage.size===0&&(this.whoWon="dark")},Wi=new WeakSet,qa=function(s){const f=s.shade==="dark"?this.darkCoverage:this.lightCoverage;this.pieces.forEach(e=>{e.shade===s.shade&&e.type!=="King"&&(e.myKingIsUnderCheck=!0,e.findMovesToProtectKing(this))}),f.clear(),this.pieces.forEach(e=>{e.shade===s.shade&&e.coverage.forEach(y=>{f.add(y)})})},Yi=new WeakSet,Wa=function(){const s=new Array(8);for(let f=0;f<s.length;f++)s[f]=new Array(8);for(let f=s.length-1;f>=0;f--)for(let e=0;e<s[f].length;e++)s[f][e]=new uc((e+f)%2===1?"light":"dark",{rank:f,file:e});return s},$i=new WeakSet,Ya=function(s,f){return 0<=s&&s<this.board.length&&0<=f&&f<this.board[s].length};class k extends Array{constructor(s,f){if(super(s),this.sign=f,Object.setPrototypeOf(this,k.prototype),s>k.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(s){var f=Math.floor,e=Number.isFinite;if(typeof s=="number"){if(s===0)return k.__zero();if(k.__isOneDigitInt(s))return 0>s?k.__oneDigit(-s,!0):k.__oneDigit(s,!1);if(!e(s)||f(s)!==s)throw new RangeError("The number "+s+" cannot be converted to BigInt because it is not an integer");return k.__fromDouble(s)}if(typeof s=="string"){const y=k.__fromString(s);if(y===null)throw new SyntaxError("Cannot convert "+s+" to a BigInt");return y}if(typeof s=="boolean")return s===!0?k.__oneDigit(1,!1):k.__zero();if(typeof s=="object"){if(s.constructor===k)return s;const y=k.__toPrimitive(s);return k.BigInt(y)}throw new TypeError("Cannot convert "+s+" to a BigInt")}toDebugString(){const s=["BigInt["];for(const f of this)s.push((f&&(f>>>0).toString(16))+", ");return s.push("]"),s.join("")}toString(s=10){if(2>s||36<s)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(s&s-1)==0?k.__toStringBasePowerOfTwo(this,s):k.__toStringGeneric(this,s,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(s){const f=s.length;if(f===0)return 0;if(f===1){const a=s.__unsignedDigit(0);return s.sign?-a:a}const e=s.__digit(f-1),y=k.__clz30(e),p=30*f-y;if(1024<p)return s.sign?-1/0:1/0;let h=p-1,t=e,c=f-1;const u=y+3;let d=u===32?0:t<<u;d>>>=12;const l=u-12;let n=12<=u?0:t<<20+u,r=20+u;for(0<l&&0<c&&(c--,t=s.__digit(c),d|=t>>>30-l,n=t<<l+2,r=l+2);0<r&&0<c;)c--,t=s.__digit(c),n|=30<=r?t<<r-30:t>>>30-r,r-=30;const o=k.__decideRounding(s,r,c,t);if((o===1||o===0&&(1&n)==1)&&(n=n+1>>>0,n===0&&(d++,d>>>20!=0&&(d=0,h++,1023<h))))return s.sign?-1/0:1/0;const i=s.sign?-2147483648:0;return h=h+1023<<20,k.__kBitConversionInts[1]=i|h|d,k.__kBitConversionInts[0]=n,k.__kBitConversionDouble[0]}static unaryMinus(s){if(s.length===0)return s;const f=s.__copy();return f.sign=!s.sign,f}static bitwiseNot(s){return s.sign?k.__absoluteSubOne(s).__trim():k.__absoluteAddOne(s,!0)}static exponentiate(s,f){if(f.sign)throw new RangeError("Exponent must be positive");if(f.length===0)return k.__oneDigit(1,!1);if(s.length===0)return s;if(s.length===1&&s.__digit(0)===1)return s.sign&&(1&f.__digit(0))==0?k.unaryMinus(s):s;if(1<f.length)throw new RangeError("BigInt too big");let e=f.__unsignedDigit(0);if(e===1)return s;if(e>=k.__kMaxLengthBits)throw new RangeError("BigInt too big");if(s.length===1&&s.__digit(0)===2){const h=1+(0|e/30),t=s.sign&&(1&e)!=0,c=new k(h,t);c.__initializeDigits();const u=1<<e%30;return c.__setDigit(h-1,u),c}let y=null,p=s;for((1&e)!=0&&(y=s),e>>=1;e!==0;e>>=1)p=k.multiply(p,p),(1&e)!=0&&(y===null?y=p:y=k.multiply(y,p));return y}static multiply(s,f){if(s.length===0)return s;if(f.length===0)return f;let e=s.length+f.length;30<=s.__clzmsd()+f.__clzmsd()&&e--;const y=new k(e,s.sign!==f.sign);y.__initializeDigits();for(let p=0;p<s.length;p++)k.__multiplyAccumulate(f,s.__digit(p),y,p);return y.__trim()}static divide(s,f){if(f.length===0)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(s,f))return k.__zero();const e=s.sign!==f.sign,y=f.__unsignedDigit(0);let p;if(f.length===1&&32767>=y){if(y===1)return e===s.sign?s:k.unaryMinus(s);p=k.__absoluteDivSmall(s,y,null)}else p=k.__absoluteDivLarge(s,f,!0,!1);return p.sign=e,p.__trim()}static remainder(s,f){if(f.length===0)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(s,f))return s;const e=f.__unsignedDigit(0);if(f.length===1&&32767>=e){if(e===1)return k.__zero();const p=k.__absoluteModSmall(s,e);return p===0?k.__zero():k.__oneDigit(p,s.sign)}const y=k.__absoluteDivLarge(s,f,!1,!0);return y.sign=s.sign,y.__trim()}static add(s,f){const e=s.sign;return e===f.sign?k.__absoluteAdd(s,f,e):0<=k.__absoluteCompare(s,f)?k.__absoluteSub(s,f,e):k.__absoluteSub(f,s,!e)}static subtract(s,f){const e=s.sign;return e===f.sign?0<=k.__absoluteCompare(s,f)?k.__absoluteSub(s,f,e):k.__absoluteSub(f,s,!e):k.__absoluteAdd(s,f,e)}static leftShift(s,f){return f.length===0||s.length===0?s:f.sign?k.__rightShiftByAbsolute(s,f):k.__leftShiftByAbsolute(s,f)}static signedRightShift(s,f){return f.length===0||s.length===0?s:f.sign?k.__leftShiftByAbsolute(s,f):k.__rightShiftByAbsolute(s,f)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(s,f){return 0>k.__compareToBigInt(s,f)}static lessThanOrEqual(s,f){return 0>=k.__compareToBigInt(s,f)}static greaterThan(s,f){return 0<k.__compareToBigInt(s,f)}static greaterThanOrEqual(s,f){return 0<=k.__compareToBigInt(s,f)}static equal(s,f){if(s.sign!==f.sign||s.length!==f.length)return!1;for(let e=0;e<s.length;e++)if(s.__digit(e)!==f.__digit(e))return!1;return!0}static notEqual(s,f){return!k.equal(s,f)}static bitwiseAnd(s,f){var e=Math.max;if(!s.sign&&!f.sign)return k.__absoluteAnd(s,f).__trim();if(s.sign&&f.sign){const y=e(s.length,f.length)+1;let p=k.__absoluteSubOne(s,y);const h=k.__absoluteSubOne(f);return p=k.__absoluteOr(p,h,p),k.__absoluteAddOne(p,!0,p).__trim()}return s.sign&&([s,f]=[f,s]),k.__absoluteAndNot(s,k.__absoluteSubOne(f)).__trim()}static bitwiseXor(s,f){var e=Math.max;if(!s.sign&&!f.sign)return k.__absoluteXor(s,f).__trim();if(s.sign&&f.sign){const h=e(s.length,f.length),t=k.__absoluteSubOne(s,h),c=k.__absoluteSubOne(f);return k.__absoluteXor(t,c,t).__trim()}const y=e(s.length,f.length)+1;s.sign&&([s,f]=[f,s]);let p=k.__absoluteSubOne(f,y);return p=k.__absoluteXor(p,s,p),k.__absoluteAddOne(p,!0,p).__trim()}static bitwiseOr(s,f){var e=Math.max;const y=e(s.length,f.length);if(!s.sign&&!f.sign)return k.__absoluteOr(s,f).__trim();if(s.sign&&f.sign){let h=k.__absoluteSubOne(s,y);const t=k.__absoluteSubOne(f);return h=k.__absoluteAnd(h,t,h),k.__absoluteAddOne(h,!0,h).__trim()}s.sign&&([s,f]=[f,s]);let p=k.__absoluteSubOne(f,y);return p=k.__absoluteAndNot(p,s,p),k.__absoluteAddOne(p,!0,p).__trim()}static asIntN(s,f){var e=Math.floor;if(f.length===0)return f;if(s=e(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return k.__zero();if(s>=k.__kMaxLengthBits)return f;const y=0|(s+29)/30;if(f.length<y)return f;const p=f.__unsignedDigit(y-1),h=1<<(s-1)%30;if(f.length===y&&p<h)return f;if((p&h)!==h)return k.__truncateToNBits(s,f);if(!f.sign)return k.__truncateAndSubFromPowerOfTwo(s,f,!0);if((p&h-1)==0){for(let t=y-2;0<=t;t--)if(f.__digit(t)!==0)return k.__truncateAndSubFromPowerOfTwo(s,f,!1);return f.length===y&&p===h?f:k.__truncateToNBits(s,f)}return k.__truncateAndSubFromPowerOfTwo(s,f,!1)}static asUintN(s,f){var e=Math.floor;if(f.length===0)return f;if(s=e(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return k.__zero();if(f.sign){if(s>k.__kMaxLengthBits)throw new RangeError("BigInt too big");return k.__truncateAndSubFromPowerOfTwo(s,f,!1)}if(s>=k.__kMaxLengthBits)return f;const y=0|(s+29)/30;if(f.length<y)return f;const p=s%30;return f.length==y&&(p===0||f.__digit(y-1)>>>p==0)?f:k.__truncateToNBits(s,f)}static ADD(s,f){if(s=k.__toPrimitive(s),f=k.__toPrimitive(f),typeof s=="string")return typeof f!="string"&&(f=f.toString()),s+f;if(typeof f=="string")return s.toString()+f;if(s=k.__toNumeric(s),f=k.__toNumeric(f),k.__isBigInt(s)&&k.__isBigInt(f))return k.add(s,f);if(typeof s=="number"&&typeof f=="number")return s+f;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(s,f){return k.__compare(s,f,0)}static LE(s,f){return k.__compare(s,f,1)}static GT(s,f){return k.__compare(s,f,2)}static GE(s,f){return k.__compare(s,f,3)}static EQ(s,f){for(;;){if(k.__isBigInt(s))return k.__isBigInt(f)?k.equal(s,f):k.EQ(f,s);if(typeof s=="number"){if(k.__isBigInt(f))return k.__equalToNumber(f,s);if(typeof f!="object")return s==f;f=k.__toPrimitive(f)}else if(typeof s=="string"){if(k.__isBigInt(f))return s=k.__fromString(s),s!==null&&k.equal(s,f);if(typeof f!="object")return s==f;f=k.__toPrimitive(f)}else if(typeof s=="boolean"){if(k.__isBigInt(f))return k.__equalToNumber(f,+s);if(typeof f!="object")return s==f;f=k.__toPrimitive(f)}else if(typeof s=="symbol"){if(k.__isBigInt(f))return!1;if(typeof f!="object")return s==f;f=k.__toPrimitive(f)}else if(typeof s=="object"){if(typeof f=="object"&&f.constructor!==k)return s==f;s=k.__toPrimitive(s)}else return s==f}}static NE(s,f){return!k.EQ(s,f)}static DataViewGetBigInt64(s,f,e=!1){return k.asIntN(64,k.DataViewGetBigUint64(s,f,e))}static DataViewGetBigUint64(s,f,e=!1){const[y,p]=e?[4,0]:[0,4],h=s.getUint32(f+y,e),t=s.getUint32(f+p,e),c=new k(3,!1);return c.__setDigit(0,1073741823&t),c.__setDigit(1,(268435455&h)<<2|t>>>30),c.__setDigit(2,h>>>28),c.__trim()}static DataViewSetBigInt64(s,f,e,y=!1){k.DataViewSetBigUint64(s,f,e,y)}static DataViewSetBigUint64(s,f,e,y=!1){e=k.asUintN(64,e);let p=0,h=0;if(0<e.length&&(h=e.__digit(0),1<e.length)){const u=e.__digit(1);h|=u<<30,p=u>>>2,2<e.length&&(p|=e.__digit(2)<<28)}const[t,c]=y?[4,0]:[0,4];s.setUint32(f+t,p,y),s.setUint32(f+c,h,y)}static __zero(){return new k(0,!1)}static __oneDigit(s,f){const e=new k(1,f);return e.__setDigit(0,s),e}__copy(){const s=new k(this.length,this.sign);for(let f=0;f<this.length;f++)s[f]=this[f];return s}__trim(){let s=this.length,f=this[s-1];for(;f===0;)s--,f=this[s-1],this.pop();return s===0&&(this.sign=!1),this}__initializeDigits(){for(let s=0;s<this.length;s++)this[s]=0}static __decideRounding(s,f,e,y){if(0<f)return-1;let p;if(0>f)p=-f-1;else{if(e===0)return-1;e--,y=s.__digit(e),p=29}let h=1<<p;if((y&h)==0)return-1;if(h-=1,(y&h)!=0)return 1;for(;0<e;)if(e--,s.__digit(e)!==0)return 1;return 0}static __fromDouble(s){k.__kBitConversionDouble[0]=s;const f=2047&k.__kBitConversionInts[1]>>>20,e=f-1023,y=(0|e/30)+1,p=new k(y,0>s);let h=1048575&k.__kBitConversionInts[1]|1048576,t=k.__kBitConversionInts[0];const c=20,u=e%30;let d,l=0;if(u<20){const n=c-u;l=n+32,d=h>>>n,h=h<<32-n|t>>>n,t<<=32-n}else if(u===20)l=32,d=h,h=t,t=0;else{const n=u-c;l=32-n,d=h<<n|t>>>32-n,h=t<<n,t=0}p.__setDigit(y-1,d);for(let n=y-2;0<=n;n--)0<l?(l-=30,d=h>>>2,h=h<<30|t>>>2,t<<=30):d=0,p.__setDigit(n,d);return p.__trim()}static __isWhitespace(s){return 13>=s&&9<=s||(159>=s?s==32:131071>=s?s==160||s==5760:196607>=s?(s&=131071,10>=s||s==40||s==41||s==47||s==95||s==4096):s==65279)}static __fromString(s,f=0){let e=0;const y=s.length;let p=0;if(p===y)return k.__zero();let h=s.charCodeAt(p);for(;k.__isWhitespace(h);){if(++p===y)return k.__zero();h=s.charCodeAt(p)}if(h===43){if(++p===y)return null;h=s.charCodeAt(p),e=1}else if(h===45){if(++p===y)return null;h=s.charCodeAt(p),e=-1}if(f===0){if(f=10,h===48){if(++p===y)return k.__zero();if(h=s.charCodeAt(p),h===88||h===120){if(f=16,++p===y)return null;h=s.charCodeAt(p)}else if(h===79||h===111){if(f=8,++p===y)return null;h=s.charCodeAt(p)}else if(h===66||h===98){if(f=2,++p===y)return null;h=s.charCodeAt(p)}}}else if(f===16&&h===48){if(++p===y)return k.__zero();if(h=s.charCodeAt(p),h===88||h===120){if(++p===y)return null;h=s.charCodeAt(p)}}if(e!=0&&f!==10)return null;for(;h===48;){if(++p===y)return k.__zero();h=s.charCodeAt(p)}const t=y-p;let c=k.__kMaxBitsPerChar[f],u=k.__kBitsPerCharTableMultiplier-1;if(t>1073741824/c)return null;const d=c*t+u>>>k.__kBitsPerCharTableShift,l=new k(0|(d+29)/30,!1),n=10>f?f:10,r=10<f?f-10:0;if((f&f-1)==0){c>>=k.__kBitsPerCharTableShift;const o=[],i=[];let a=!1;do{let m=0,v=0;for(;;){let b;if(h-48>>>0<n)b=h-48;else if((32|h)-97>>>0<r)b=(32|h)-87;else{a=!0;break}if(v+=c,m=m<<c|b,++p===y){a=!0;break}if(h=s.charCodeAt(p),30<v+c)break}o.push(m),i.push(v)}while(!a);k.__fillFromParts(l,o,i)}else{l.__initializeDigits();let o=!1,i=0;do{let a=0,m=1;for(;;){let b;if(h-48>>>0<n)b=h-48;else if((32|h)-97>>>0<r)b=(32|h)-87;else{o=!0;break}const x=m*f;if(1073741823<x)break;if(m=x,a=a*f+b,i++,++p===y){o=!0;break}h=s.charCodeAt(p)}u=30*k.__kBitsPerCharTableMultiplier-1;const v=0|(c*i+u>>>k.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(m,a,v)}while(!o)}if(p!==y){if(!k.__isWhitespace(h))return null;for(p++;p<y;p++)if(h=s.charCodeAt(p),!k.__isWhitespace(h))return null}return l.sign=e==-1,l.__trim()}static __fillFromParts(s,f,e){let y=0,p=0,h=0;for(let t=f.length-1;0<=t;t--){const c=f[t],u=e[t];p|=c<<h,h+=u,h===30?(s.__setDigit(y++,p),h=0,p=0):30<h&&(s.__setDigit(y++,1073741823&p),h-=30,p=c>>>u-h)}if(p!==0){if(y>=s.length)throw new Error("implementation bug");s.__setDigit(y++,p)}for(;y<s.length;y++)s.__setDigit(y,0)}static __toStringBasePowerOfTwo(s,f){const e=s.length;let y=f-1;y=(85&y>>>1)+(85&y),y=(51&y>>>2)+(51&y),y=(15&y>>>4)+(15&y);const p=y,h=f-1,t=s.__digit(e-1),c=k.__clz30(t);let u=0|(30*e-c+p-1)/p;if(s.sign&&u++,268435456<u)throw new Error("string too long");const d=Array(u);let l=u-1,n=0,r=0;for(let i=0;i<e-1;i++){const a=s.__digit(i),m=(n|a<<r)&h;d[l--]=k.__kConversionChars[m];const v=p-r;for(n=a>>>v,r=30-v;r>=p;)d[l--]=k.__kConversionChars[n&h],n>>>=p,r-=p}const o=(n|t<<r)&h;for(d[l--]=k.__kConversionChars[o],n=t>>>p-r;n!==0;)d[l--]=k.__kConversionChars[n&h],n>>>=p;if(s.sign&&(d[l--]="-"),l!=-1)throw new Error("implementation bug");return d.join("")}static __toStringGeneric(s,f,e){const y=s.length;if(y===0)return"";if(y===1){let i=s.__unsignedDigit(0).toString(f);return e===!1&&s.sign&&(i="-"+i),i}const p=30*y-k.__clz30(s.__digit(y-1)),h=k.__kMaxBitsPerChar[f],t=h-1;let c=p*k.__kBitsPerCharTableMultiplier;c+=t-1,c=0|c/t;const u=c+1>>1,d=k.exponentiate(k.__oneDigit(f,!1),k.__oneDigit(u,!1));let l,n;const r=d.__unsignedDigit(0);if(d.length===1&&32767>=r){l=new k(s.length,!1),l.__initializeDigits();let i=0;for(let a=2*s.length-1;0<=a;a--){const m=i<<15|s.__halfDigit(a);l.__setHalfDigit(a,0|m/r),i=0|m%r}n=i.toString(f)}else{const i=k.__absoluteDivLarge(s,d,!0,!0);l=i.quotient;const a=i.remainder.__trim();n=k.__toStringGeneric(a,f,!0)}l.__trim();let o=k.__toStringGeneric(l,f,!0);for(;n.length<u;)n="0"+n;return e===!1&&s.sign&&(o="-"+o),o+n}static __unequalSign(s){return s?-1:1}static __absoluteGreater(s){return s?-1:1}static __absoluteLess(s){return s?1:-1}static __compareToBigInt(s,f){const e=s.sign;if(e!==f.sign)return k.__unequalSign(e);const y=k.__absoluteCompare(s,f);return 0<y?k.__absoluteGreater(e):0>y?k.__absoluteLess(e):0}static __compareToNumber(s,f){if(k.__isOneDigitInt(f)){const e=s.sign,y=0>f;if(e!==y)return k.__unequalSign(e);if(s.length===0){if(y)throw new Error("implementation bug");return f===0?0:-1}if(1<s.length)return k.__absoluteGreater(e);const p=Math.abs(f),h=s.__unsignedDigit(0);return h>p?k.__absoluteGreater(e):h<p?k.__absoluteLess(e):0}return k.__compareToDouble(s,f)}static __compareToDouble(s,f){if(f!==f)return f;if(f===1/0)return-1;if(f===-1/0)return 1;const e=s.sign;if(e!==0>f)return k.__unequalSign(e);if(f===0)throw new Error("implementation bug: should be handled elsewhere");if(s.length===0)return-1;k.__kBitConversionDouble[0]=f;const y=2047&k.__kBitConversionInts[1]>>>20;if(y==2047)throw new Error("implementation bug: handled elsewhere");const p=y-1023;if(0>p)return k.__absoluteGreater(e);const h=s.length;let t=s.__digit(h-1);const c=k.__clz30(t),u=30*h-c,d=p+1;if(u<d)return k.__absoluteLess(e);if(u>d)return k.__absoluteGreater(e);let l=1048576|1048575&k.__kBitConversionInts[1],n=k.__kBitConversionInts[0];const r=20,o=29-c;if(o!==(0|(u-1)%30))throw new Error("implementation bug");let i,a=0;if(20>o){const m=r-o;a=m+32,i=l>>>m,l=l<<32-m|n>>>m,n<<=32-m}else if(o===20)a=32,i=l,l=n,n=0;else{const m=o-r;a=32-m,i=l<<m|n>>>32-m,l=n<<m,n=0}if(t>>>=0,i>>>=0,t>i)return k.__absoluteGreater(e);if(t<i)return k.__absoluteLess(e);for(let m=h-2;0<=m;m--){0<a?(a-=30,i=l>>>2,l=l<<30|n>>>2,n<<=30):i=0;const v=s.__unsignedDigit(m);if(v>i)return k.__absoluteGreater(e);if(v<i)return k.__absoluteLess(e)}if(l!==0||n!==0){if(a===0)throw new Error("implementation bug");return k.__absoluteLess(e)}return 0}static __equalToNumber(s,f){var e=Math.abs;return k.__isOneDigitInt(f)?f===0?s.length===0:s.length===1&&s.sign===0>f&&s.__unsignedDigit(0)===e(f):k.__compareToDouble(s,f)===0}static __comparisonResultToBool(s,f){return f===0?0>s:f===1?0>=s:f===2?0<s:f===3?0<=s:void 0}static __compare(s,f,e){if(s=k.__toPrimitive(s),f=k.__toPrimitive(f),typeof s=="string"&&typeof f=="string")switch(e){case 0:return s<f;case 1:return s<=f;case 2:return s>f;case 3:return s>=f}if(k.__isBigInt(s)&&typeof f=="string")return f=k.__fromString(f),f!==null&&k.__comparisonResultToBool(k.__compareToBigInt(s,f),e);if(typeof s=="string"&&k.__isBigInt(f))return s=k.__fromString(s),s!==null&&k.__comparisonResultToBool(k.__compareToBigInt(s,f),e);if(s=k.__toNumeric(s),f=k.__toNumeric(f),k.__isBigInt(s)){if(k.__isBigInt(f))return k.__comparisonResultToBool(k.__compareToBigInt(s,f),e);if(typeof f!="number")throw new Error("implementation bug");return k.__comparisonResultToBool(k.__compareToNumber(s,f),e)}if(typeof s!="number")throw new Error("implementation bug");if(k.__isBigInt(f))return k.__comparisonResultToBool(k.__compareToNumber(f,s),2^e);if(typeof f!="number")throw new Error("implementation bug");return e===0?s<f:e===1?s<=f:e===2?s>f:e===3?s>=f:void 0}__clzmsd(){return k.__clz30(this.__digit(this.length-1))}static __absoluteAdd(s,f,e){if(s.length<f.length)return k.__absoluteAdd(f,s,e);if(s.length===0)return s;if(f.length===0)return s.sign===e?s:k.unaryMinus(s);let y=s.length;(s.__clzmsd()===0||f.length===s.length&&f.__clzmsd()===0)&&y++;const p=new k(y,e);let h=0,t=0;for(;t<f.length;t++){const c=s.__digit(t)+f.__digit(t)+h;h=c>>>30,p.__setDigit(t,1073741823&c)}for(;t<s.length;t++){const c=s.__digit(t)+h;h=c>>>30,p.__setDigit(t,1073741823&c)}return t<p.length&&p.__setDigit(t,h),p.__trim()}static __absoluteSub(s,f,e){if(s.length===0)return s;if(f.length===0)return s.sign===e?s:k.unaryMinus(s);const y=new k(s.length,e);let p=0,h=0;for(;h<f.length;h++){const t=s.__digit(h)-f.__digit(h)-p;p=1&t>>>30,y.__setDigit(h,1073741823&t)}for(;h<s.length;h++){const t=s.__digit(h)-p;p=1&t>>>30,y.__setDigit(h,1073741823&t)}return y.__trim()}static __absoluteAddOne(s,f,e=null){const y=s.length;e===null?e=new k(y,f):e.sign=f;let p=1;for(let h=0;h<y;h++){const t=s.__digit(h)+p;p=t>>>30,e.__setDigit(h,1073741823&t)}return p!=0&&e.__setDigitGrow(y,1),e}static __absoluteSubOne(s,f){const e=s.length;f=f||e;const y=new k(f,!1);let p=1;for(let h=0;h<e;h++){const t=s.__digit(h)-p;p=1&t>>>30,y.__setDigit(h,1073741823&t)}if(p!=0)throw new Error("implementation bug");for(let h=e;h<f;h++)y.__setDigit(h,0);return y}static __absoluteAnd(s,f,e=null){let y=s.length,p=f.length,h=p;if(y<p){h=y;const u=s,d=y;s=f,y=p,f=u,p=d}let t=h;e===null?e=new k(t,!1):t=e.length;let c=0;for(;c<h;c++)e.__setDigit(c,s.__digit(c)&f.__digit(c));for(;c<t;c++)e.__setDigit(c,0);return e}static __absoluteAndNot(s,f,e=null){const y=s.length,p=f.length;let h=p;y<p&&(h=y);let t=y;e===null?e=new k(t,!1):t=e.length;let c=0;for(;c<h;c++)e.__setDigit(c,s.__digit(c)&~f.__digit(c));for(;c<y;c++)e.__setDigit(c,s.__digit(c));for(;c<t;c++)e.__setDigit(c,0);return e}static __absoluteOr(s,f,e=null){let y=s.length,p=f.length,h=p;if(y<p){h=y;const u=s,d=y;s=f,y=p,f=u,p=d}let t=y;e===null?e=new k(t,!1):t=e.length;let c=0;for(;c<h;c++)e.__setDigit(c,s.__digit(c)|f.__digit(c));for(;c<y;c++)e.__setDigit(c,s.__digit(c));for(;c<t;c++)e.__setDigit(c,0);return e}static __absoluteXor(s,f,e=null){let y=s.length,p=f.length,h=p;if(y<p){h=y;const u=s,d=y;s=f,y=p,f=u,p=d}let t=y;e===null?e=new k(t,!1):t=e.length;let c=0;for(;c<h;c++)e.__setDigit(c,s.__digit(c)^f.__digit(c));for(;c<y;c++)e.__setDigit(c,s.__digit(c));for(;c<t;c++)e.__setDigit(c,0);return e}static __absoluteCompare(s,f){const e=s.length-f.length;if(e!=0)return e;let y=s.length-1;for(;0<=y&&s.__digit(y)===f.__digit(y);)y--;return 0>y?0:s.__unsignedDigit(y)>f.__unsignedDigit(y)?1:-1}static __multiplyAccumulate(s,f,e,y){if(f===0)return;const p=32767&f,h=f>>>15;let t=0,c=0;for(let u,d=0;d<s.length;d++,y++){u=e.__digit(y);const l=s.__digit(d),n=32767&l,r=l>>>15,o=k.__imul(n,p),i=k.__imul(n,h),a=k.__imul(r,p),m=k.__imul(r,h);u+=c+o+t,t=u>>>30,u&=1073741823,u+=((32767&i)<<15)+((32767&a)<<15),t+=u>>>30,c=m+(i>>>15)+(a>>>15),e.__setDigit(y,1073741823&u)}for(;t!=0||c!==0;y++){let u=e.__digit(y);u+=t+c,c=0,t=u>>>30,e.__setDigit(y,1073741823&u)}}static __internalMultiplyAdd(s,f,e,y,p){let h=e,t=0;for(let c=0;c<y;c++){const u=s.__digit(c),d=k.__imul(32767&u,f),l=k.__imul(u>>>15,f),n=d+((32767&l)<<15)+t+h;h=n>>>30,t=l>>>15,p.__setDigit(c,1073741823&n)}if(p.length>y)for(p.__setDigit(y++,h+t);y<p.length;)p.__setDigit(y++,0);else if(h+t!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(s,f,e){e>this.length&&(e=this.length);const y=32767&s,p=s>>>15;let h=0,t=f;for(let c=0;c<e;c++){const u=this.__digit(c),d=32767&u,l=u>>>15,n=k.__imul(d,y),r=k.__imul(d,p),o=k.__imul(l,y),i=k.__imul(l,p);let a=t+n+h;h=a>>>30,a&=1073741823,a+=((32767&r)<<15)+((32767&o)<<15),h+=a>>>30,t=i+(r>>>15)+(o>>>15),this.__setDigit(c,1073741823&a)}if(h!=0||t!==0)throw new Error("implementation bug")}static __absoluteDivSmall(s,f,e=null){e===null&&(e=new k(s.length,!1));let y=0;for(let p,h=2*s.length-1;0<=h;h-=2){p=(y<<15|s.__halfDigit(h))>>>0;const t=0|p/f;y=0|p%f,p=(y<<15|s.__halfDigit(h-1))>>>0;const c=0|p/f;y=0|p%f,e.__setDigit(h>>>1,t<<15|c)}return e}static __absoluteModSmall(s,f){let e=0;for(let y=2*s.length-1;0<=y;y--){const p=(e<<15|s.__halfDigit(y))>>>0;e=0|p%f}return e}static __absoluteDivLarge(s,f,e,y){const p=f.__halfDigitLength(),h=f.length,t=s.__halfDigitLength()-p;let c=null;e&&(c=new k(t+2>>>1,!1),c.__initializeDigits());const u=new k(p+2>>>1,!1);u.__initializeDigits();const d=k.__clz15(f.__halfDigit(p-1));0<d&&(f=k.__specialLeftShift(f,d,0));const l=k.__specialLeftShift(s,d,1),n=f.__halfDigit(p-1);let r=0;for(let o,i=t;0<=i;i--){o=32767;const a=l.__halfDigit(i+p);if(a!==n){const v=(a<<15|l.__halfDigit(i+p-1))>>>0;o=0|v/n;let b=0|v%n;const x=f.__halfDigit(p-2),S=l.__halfDigit(i+p-2);for(;k.__imul(o,x)>>>0>(b<<16|S)>>>0&&(o--,b+=n,!(32767<b)););}k.__internalMultiplyAdd(f,o,0,h,u);let m=l.__inplaceSub(u,i,p+1);m!==0&&(m=l.__inplaceAdd(f,i,p),l.__setHalfDigit(i+p,32767&l.__halfDigit(i+p)+m),o--),e&&(1&i?r=o<<15:c.__setDigit(i>>>1,r|o))}if(y)return l.__inplaceRightShift(d),e?{quotient:c,remainder:l}:l;if(e)return c;throw new Error("unreachable")}static __clz15(s){return k.__clz30(s)-15}__inplaceAdd(s,f,e){let y=0;for(let p=0;p<e;p++){const h=this.__halfDigit(f+p)+s.__halfDigit(p)+y;y=h>>>15,this.__setHalfDigit(f+p,32767&h)}return y}__inplaceSub(s,f,e){let y=0;if(1&f){f>>=1;let p=this.__digit(f),h=32767&p,t=0;for(;t<e-1>>>1;t++){const d=s.__digit(t),l=(p>>>15)-(32767&d)-y;y=1&l>>>15,this.__setDigit(f+t,(32767&l)<<15|32767&h),p=this.__digit(f+t+1),h=(32767&p)-(d>>>15)-y,y=1&h>>>15}const c=s.__digit(t),u=(p>>>15)-(32767&c)-y;if(y=1&u>>>15,this.__setDigit(f+t,(32767&u)<<15|32767&h),f+t+1>=this.length)throw new RangeError("out of bounds");(1&e)==0&&(p=this.__digit(f+t+1),h=(32767&p)-(c>>>15)-y,y=1&h>>>15,this.__setDigit(f+s.length,1073709056&p|32767&h))}else{f>>=1;let p=0;for(;p<s.length-1;p++){const d=this.__digit(f+p),l=s.__digit(p),n=(32767&d)-(32767&l)-y;y=1&n>>>15;const r=(d>>>15)-(l>>>15)-y;y=1&r>>>15,this.__setDigit(f+p,(32767&r)<<15|32767&n)}const h=this.__digit(f+p),t=s.__digit(p),c=(32767&h)-(32767&t)-y;y=1&c>>>15;let u=0;(1&e)==0&&(u=(h>>>15)-(t>>>15)-y,y=1&u>>>15),this.__setDigit(f+p,(32767&u)<<15|32767&c)}return y}__inplaceRightShift(s){if(s===0)return;let f=this.__digit(0)>>>s;const e=this.length-1;for(let y=0;y<e;y++){const p=this.__digit(y+1);this.__setDigit(y,1073741823&p<<30-s|f),f=p>>>s}this.__setDigit(e,f)}static __specialLeftShift(s,f,e){const y=s.length,p=new k(y+e,!1);if(f===0){for(let t=0;t<y;t++)p.__setDigit(t,s.__digit(t));return 0<e&&p.__setDigit(y,0),p}let h=0;for(let t=0;t<y;t++){const c=s.__digit(t);p.__setDigit(t,1073741823&c<<f|h),h=c>>>30-f}return 0<e&&p.__setDigit(y,h),p}static __leftShiftByAbsolute(s,f){const e=k.__toShiftAmount(f);if(0>e)throw new RangeError("BigInt too big");const y=0|e/30,p=e%30,h=s.length,t=p!==0&&s.__digit(h-1)>>>30-p!=0,c=h+y+(t?1:0),u=new k(c,s.sign);if(p===0){let d=0;for(;d<y;d++)u.__setDigit(d,0);for(;d<c;d++)u.__setDigit(d,s.__digit(d-y))}else{let d=0;for(let l=0;l<y;l++)u.__setDigit(l,0);for(let l=0;l<h;l++){const n=s.__digit(l);u.__setDigit(l+y,1073741823&n<<p|d),d=n>>>30-p}if(t)u.__setDigit(h+y,d);else if(d!==0)throw new Error("implementation bug")}return u.__trim()}static __rightShiftByAbsolute(s,f){const e=s.length,y=s.sign,p=k.__toShiftAmount(f);if(0>p)return k.__rightShiftByMaximum(y);const h=0|p/30,t=p%30;let c=e-h;if(0>=c)return k.__rightShiftByMaximum(y);let u=!1;if(y){if((s.__digit(h)&(1<<t)-1)!=0)u=!0;else for(let l=0;l<h;l++)if(s.__digit(l)!==0){u=!0;break}}u&&t===0&&~s.__digit(e-1)==0&&c++;let d=new k(c,y);if(t===0){d.__setDigit(c-1,0);for(let l=h;l<e;l++)d.__setDigit(l-h,s.__digit(l))}else{let l=s.__digit(h)>>>t;const n=e-h-1;for(let r=0;r<n;r++){const o=s.__digit(r+h+1);d.__setDigit(r,1073741823&o<<30-t|l),l=o>>>t}d.__setDigit(n,l)}return u&&(d=k.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(s){return s?k.__oneDigit(1,!0):k.__zero()}static __toShiftAmount(s){if(1<s.length)return-1;const f=s.__unsignedDigit(0);return f>k.__kMaxLengthBits?-1:f}static __toPrimitive(s,f="default"){if(typeof s!="object"||s.constructor===k)return s;if(typeof Symbol!="undefined"&&typeof Symbol.toPrimitive=="symbol"){const p=s[Symbol.toPrimitive];if(p){const h=p(f);if(typeof h!="object")return h;throw new TypeError("Cannot convert object to primitive value")}}const e=s.valueOf;if(e){const p=e.call(s);if(typeof p!="object")return p}const y=s.toString;if(y){const p=y.call(s);if(typeof p!="object")return p}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(s){return k.__isBigInt(s)?s:+s}static __isBigInt(s){return typeof s=="object"&&s!==null&&s.constructor===k}static __truncateToNBits(s,f){const e=0|(s+29)/30,y=new k(e,f.sign),p=e-1;for(let t=0;t<p;t++)y.__setDigit(t,f.__digit(t));let h=f.__digit(p);if(s%30!=0){const t=32-s%30;h=h<<t>>>t}return y.__setDigit(p,h),y.__trim()}static __truncateAndSubFromPowerOfTwo(s,f,e){var y=Math.min;const p=0|(s+29)/30,h=new k(p,e);let t=0;const c=p-1;let u=0;for(const r=y(c,f.length);t<r;t++){const o=0-f.__digit(t)-u;u=1&o>>>30,h.__setDigit(t,1073741823&o)}for(;t<c;t++)h.__setDigit(t,0|1073741823&-u);let d=c<f.length?f.__digit(c):0;const l=s%30;let n;if(l==0)n=0-d-u,n&=1073741823;else{const r=32-l;d=d<<r>>>r;const o=1<<32-r;n=o-d-u,n&=o-1}return h.__setDigit(c,n),h.__trim()}__digit(s){return this[s]}__unsignedDigit(s){return this[s]>>>0}__setDigit(s,f){this[s]=0|f}__setDigitGrow(s,f){this[s]=0|f}__halfDigitLength(){const s=this.length;return 32767>=this.__unsignedDigit(s-1)?2*s-1:2*s}__halfDigit(s){return 32767&this[s>>>1]>>>15*(1&s)}__setHalfDigit(s,f){const e=s>>>1,y=this.__digit(e),p=1&s?32767&y|f<<15:1073709056&y|32767&f;this.__setDigit(e,p)}static __digitPow(s,f){let e=1;for(;0<f;)1&f&&(e*=s),f>>>=1,s*=s;return e}static __isOneDigitInt(s){return(1073741823&s)===s}}k.__kMaxLength=33554432,k.__kMaxLengthBits=k.__kMaxLength<<5,k.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],k.__kBitsPerCharTableShift=5,k.__kBitsPerCharTableMultiplier=1<<k.__kBitsPerCharTableShift,k.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],k.__kBitConversionBuffer=new ArrayBuffer(8),k.__kBitConversionDouble=new Float64Array(k.__kBitConversionBuffer),k.__kBitConversionInts=new Int32Array(k.__kBitConversionBuffer),k.__clz30=Math.clz32?function(_){return Math.clz32(_)-2}:function(_){return _===0?30:0|29-(0|Math.log(_>>>0)/Math.LN2)},k.__imul=Math.imul||function(_,s){return 0|_*s};const $a={},lh={["Temporal.Duration"](_,s){const f=s.stylize(`${this[Symbol.toStringTag]} <${this}>`,"special");if(_<1)return f;const e=[];for(const y of["years","months","weeks","days","hours","minutes","seconds","milliseconds","microseconds","nanoseconds"])this[y]!==0&&e.push(`  ${y}: ${s.stylize(this[y],"number")}`);return f+` {
`+e.join(`,
`)+`
}`}};function uh(_,s){return s.stylize(`${this[Symbol.toStringTag]} <${this}>`,"special")}function Vn(_,s){Object.defineProperty(_.prototype,Symbol.toStringTag,{value:s,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:lh[s]||uh,writable:!1,enumerable:!1,configurable:!0});for(const f of Object.getOwnPropertyNames(_)){const e=Object.getOwnPropertyDescriptor(_,f);!e.configurable||!e.enumerable||(e.enumerable=!1,Object.defineProperty(_,f,e))}for(const f of Object.getOwnPropertyNames(_.prototype)){const e=Object.getOwnPropertyDescriptor(_.prototype,f);!e.configurable||!e.enumerable||(e.enumerable=!1,Object.defineProperty(_.prototype,f,e))}Xa(s,_),Xa(`${s}.prototype`,_.prototype)}function Xa(_,s){const f=`%${_}%`;if($a[f]!==void 0)throw new Error(`intrinsic ${_} already exists`);$a[f]=s}function at(_){return $a[_]}const ot="slot-epochNanoSeconds",lo="slot-timezone-identifier",Ye="slot-year",$e="slot-month",Xe="slot-day",ct="slot-hour",dt="slot-minute",ht="slot-second",ft="slot-millisecond",pt="slot-microsecond",mt="slot-nanosecond",Se="slot-calendar",mc="slot-date-brand",yc="slot-year-month-brand",gc="slot-month-day-brand",Nr="slot-cached-instant",Pt="slot-time-zone",Fr="slot-years",Er="slot-months",Kr="slot-weeks",Br="slot-days",Gr="slot-hours",Vr="slot-minutes",zr="slot-seconds",Hr="slot-milliseconds",qr="slot-microseconds",Wr="slot-nanoseconds",yr="slot-calendar-identifier",vc=new WeakMap;function zn(_){vc.set(_,Object.create(null))}function xl(_){return vc.get(_)}function Mr(_,...s){if(!_||typeof _!="object")return!1;const f=xl(_);return!!f&&s.reduce((e,y)=>e&&y in f,!0)}function E(_,s){const f=xl(_)[s];if(f===void 0)throw new TypeError(`Missing internal slot ${s}`);return f}function Et(_,s,f){xl(_)[s]=f}const Pi=Array.prototype.includes,ch=Array.prototype.push,dh=globalThis.Intl.DateTimeFormat,hh=Array.prototype.sort,fh=Math.abs,ph=Math.floor,Za=Object.entries,Hu=Object.keys,ir={};class Js{constructor(s){if(arguments.length<1)throw new RangeError("missing argument: id is required");const f=lt(s);if(!Tc(f))throw new RangeError(`invalid calendar identifier ${f}`);zn(this),Et(this,yr,f),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${f}>`,writable:!1,enumerable:!1,configurable:!1})}get id(){if(!mr(this))throw new TypeError("invalid receiver");return lt(this)}dateFromFields(s,f=void 0){if(!mr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid fields");const e=yt(f);return ir[E(this,yr)].dateFromFields(s,e,this)}yearMonthFromFields(s,f=void 0){if(!mr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid fields");const e=yt(f);return ir[E(this,yr)].yearMonthFromFields(s,e,this)}monthDayFromFields(s,f=void 0){if(!mr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid fields");const e=yt(f);return ir[E(this,yr)].monthDayFromFields(s,e,this)}fields(s){if(!mr(this))throw new TypeError("invalid receiver");const f=[],e=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const y of s){if(typeof y!="string")throw new TypeError("invalid fields");if(!e.has(y))throw new RangeError(`invalid field name ${y}`);e.delete(y),ch.call(f,y)}return ir[E(this,yr)].fields(f)}mergeFields(s,f){if(!mr(this))throw new TypeError("invalid receiver");return ir[E(this,yr)].mergeFields(s,f)}dateAdd(s,f,e=void 0){if(!mr(this))throw new TypeError("invalid receiver");const y=zt(s),p=Jo(f),h=yt(e),t=Lr(h),{days:c}=Ar(E(p,Br),E(p,Gr),E(p,Vr),E(p,zr),E(p,Hr),E(p,qr),E(p,Wr),"day");return ir[E(this,yr)].dateAdd(y,E(p,Fr),E(p,Er),E(p,Kr),c,t,this)}dateUntil(s,f,e=void 0){if(!mr(this))throw new TypeError("invalid receiver");const y=zt(s),p=zt(f),h=yt(e),t=cn(h,"auto",["hour","minute","second","millisecond","microsecond","nanosecond"],"day"),{years:c,months:u,weeks:d,days:l}=ir[E(this,yr)].dateUntil(y,p,t),n=at("%Temporal.Duration%");return new n(c,u,d,l,0,0,0,0,0,0)}year(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].year(f)}month(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");if(Dr(f))throw new TypeError("use monthCode on PlainMonthDay instead");return At(f)||(f=zt(f)),ir[E(this,yr)].month(f)}monthCode(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return!At(f)&&!Dr(f)&&(f=zt(f)),ir[E(this,yr)].monthCode(f)}day(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return Dr(f)||(f=zt(f)),ir[E(this,yr)].day(f)}era(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].era(f)}eraYear(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].eraYear(f)}dayOfWeek(s){if(!mr(this))throw new TypeError("invalid receiver");const f=zt(s);return ir[E(this,yr)].dayOfWeek(f)}dayOfYear(s){if(!mr(this))throw new TypeError("invalid receiver");const f=zt(s);return ir[E(this,yr)].dayOfYear(f)}weekOfYear(s){if(!mr(this))throw new TypeError("invalid receiver");const f=zt(s);return ir[E(this,yr)].weekOfYear(f)}daysInWeek(s){if(!mr(this))throw new TypeError("invalid receiver");const f=zt(s);return ir[E(this,yr)].daysInWeek(f)}daysInMonth(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].daysInMonth(f)}daysInYear(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].daysInYear(f)}monthsInYear(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].monthsInYear(f)}inLeapYear(s){let f=s;if(!mr(this))throw new TypeError("invalid receiver");return At(f)||(f=zt(f)),ir[E(this,yr)].inLeapYear(f)}toString(){if(!mr(this))throw new TypeError("invalid receiver");return E(this,yr)}toJSON(){if(!mr(this))throw new TypeError("invalid receiver");return lt(this)}static from(s){return Ir(s)}}Vn(Js,"Temporal.Calendar");Xa("Temporal.Calendar.from",Js.from);ir.iso8601={dateFromFields(_,s,f){const e=Lr(s);let y=Rr(_,[["day"],["month",void 0],["monthCode",void 0],["year"]]);y=js(y);let{year:p,month:h,day:t}=y;return{year:p,month:h,day:t}=Us(p,h,t,e),xn(p,h,t,f)},yearMonthFromFields(_,s,f){const e=Lr(s);let y=Rr(_,[["month",void 0],["monthCode",void 0],["year"]]);y=js(y);let{year:p,month:h}=y;return{year:p,month:h}=uf(p,h,e),Bi(p,h,f,1)},monthDayFromFields(_,s,f){const e=Lr(s);let y=Rr(_,[["day"],["month",void 0],["monthCode",void 0],["year",void 0]]);if(y.month!==void 0&&y.year===void 0&&y.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const p=y.monthCode===void 0,h=1972;y=js(y);let{month:t,day:c,year:u}=y;return{month:t,day:c}=Us(p?u:h,t,c,e),Fi(t,c,f,h)},fields(_){return _},mergeFields(_,s){const f={};for(const y of Hu(_))y==="month"||y==="monthCode"||(f[y]=_[y]);const e=Hu(s);for(const y of e)f[y]=s[y];if(!Pi.call(e,"month")&&!Pi.call(e,"monthCode")){const{month:y,monthCode:p}=_;y!==void 0&&(f.month=y),p!==void 0&&(f.monthCode=p)}return f},dateAdd(_,s,f,e,y,p,h){let t=E(_,Ye),c=E(_,$e),u=E(_,Xe);return{year:t,month:c,day:u}=Lo(t,c,u,s,f,e,y,p),xn(t,c,u,h)},dateUntil(_,s,f){return Nl(E(_,Ye),E(_,$e),E(_,Xe),E(s,Ye),E(s,$e),E(s,Xe),f)},year(_){return E(_,Ye)},era(){},eraYear(){},month(_){return E(_,$e)},monthCode(_){return Jn(E(_,$e))},day(_){return E(_,Xe)},dayOfWeek(_){return al(E(_,Ye),E(_,$e),E(_,Xe))},dayOfYear(_){return Vs(E(_,Ye),E(_,$e),E(_,Xe))},weekOfYear(_){return bf(E(_,Ye),E(_,$e),E(_,Xe))},daysInWeek(){return 7},daysInMonth(_){return ro(E(_,Ye),E(_,$e))},daysInYear(_){let s=_;return Mr(s,Ye)||(s=zt(s)),po(E(s,Ye))?366:365},monthsInYear(){return 12},inLeapYear(_){let s=_;return Mr(s,Ye)||(s=zt(s)),po(E(s,Ye))}};function Tl(_){if(!_.startsWith("M"))throw new RangeError(`Invalid month code: ${_}.  Month codes must start with M.`);const s=+_.slice(1);if(isNaN(s))throw new RangeError(`Invalid month code: ${_}`);return s}function Jn(_,s=!1){return`M${_.toString().padStart(2,"0")}${s?"L":""}`}function js(_,s=void 0,f=12){let{month:e,monthCode:y}=_;if(y===void 0){if(e===void 0)throw new TypeError("Either month or monthCode are required");s==="reject"&&Ur(e,1,f),s==="constrain"&&(e=on(e,1,f)),y=Jn(e)}else{const p=Tl(y);if(e!==void 0&&e!==p)throw new RangeError(`monthCode ${y} and month ${e} must match if both are present`);if(y!==Jn(p))throw new RangeError(`Invalid month code: ${y}`);if(e=p,e<1||e>f)throw new RangeError(`Invalid monthCode: ${y}`)}return Yt(Mt({},_),{month:e,monthCode:y})}class sr{constructor(s){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),s!==void 0){let f=0;for(const e of s.map.entries()){if(++f>sr.MAX_CACHE_ENTRIES)break;this.map.set(...e)}}}get(s){const f=this.map.get(s);return f&&(this.hits++,this.report()),this.calls++,f}set(s,f){this.map.set(s,f),this.misses++,this.report()}report(){}setObject(s){if(sr.objectMap.get(s))throw new RangeError("object already cached");sr.objectMap.set(s,this),this.report()}static getCacheForObject(s){let f=sr.objectMap.get(s);return f||(f=new sr,sr.objectMap.set(s,f)),f}}sr.objectMap=new WeakMap;sr.MAX_CACHE_ENTRIES=1e3;function bc({isoYear:_,isoMonth:s,isoDay:f}){const e=Uo(_),y=rr(s),p=rr(f);return`${e}-${y}-${p}T00:00Z`}function Oa(_,s){return{years:_.year-s.year,months:_.month-s.month,days:_.day-s.day}}class ui{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return typeof this.formatter=="undefined"&&(this.formatter=new dh(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(s,f){const{year:e,month:y,day:p}=s,h=JSON.stringify({func:"isoToCalendarDate",isoYear:e,isoMonth:y,isoDay:p,id:this.id}),t=f.get(h);if(t)return t;const c=this.getFormatter();let u,d;try{d=bc({isoYear:e,isoMonth:y,isoDay:p}),u=c.formatToParts(new Date(d))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:e,isoMonth:y,isoDay:p})}`)}const l={};for(let{type:r,value:o}of u){if(r==="year"&&(l.eraYear=+o),r==="relatedYear"&&(l.eraYear=+o),r==="month"){const i=/^([0-9]*)(.*?)$/.exec(o);if(!i||i.length!=3||!i[1]&&!i[2])throw new RangeError(`Unexpected month: ${o}`);if(l.month=i[1]?+i[1]:1,l.month<1)throw new RangeError(`Invalid month ${o} from ${d}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(l.month>13)throw new RangeError(`Invalid month ${o} from ${d}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);i[2]&&(l.monthExtra=i[2])}r==="day"&&(l.day=+o),this.hasEra&&r==="era"&&o!=null&&o!==""&&(o=o.split(" (")[0],l.era=o.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(l.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:r,eraYear:o}=this.reviseIntlEra(l,s);l.era=r,l.eraYear=o}this.checkIcuBugs&&this.checkIcuBugs(s);const n=this.adjustCalendarDate(l,f,"constrain",!0);if(n.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(s)}`);if(n.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(s)}`);if(n.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(s)}`);return f.set(h,n),["constrain","reject"].forEach(r=>{const o=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id});f.set(o,s)}),n}validateCalendarDate(s){const{era:f,month:e,year:y,day:p,eraYear:h,monthCode:t,monthExtra:c}=s;if(c!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(y===void 0&&h===void 0)throw new TypeError("year or eraYear is required");if(e===void 0&&t===void 0)throw new TypeError("month or monthCode is required");if(p===void 0)throw new RangeError("Missing day");if(t!==void 0){if(typeof t!="string")throw new RangeError(`monthCode must be a string, not ${typeof t}`);if(!/^M([01]?\d)(L?)$/.test(t))throw new RangeError(`Invalid monthCode: ${t}`)}if(this.constantEra){if(f!==void 0&&f!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${f}`);if(h!==void 0&&y!==void 0&&h!==y)throw new RangeError(`eraYear ${h} does not match year ${y}`)}}adjustCalendarDate(s,f=void 0,e="constrain",y=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let p=s;if(this.validateCalendarDate(p),this.constantEra){const{year:u,eraYear:d}=p;p=Yt(Mt({},p),{era:this.constantEra,year:u!==void 0?u:d,eraYear:d!==void 0?d:u})}const h=this.monthsInYear(p,f);let{month:t,monthCode:c}=p;return{month:t,monthCode:c}=js(p,e,h),Yt(Mt({},p),{month:t,monthCode:c})}regulateMonthDayNaive(s,f,e){const y=this.monthsInYear(s,e);let{month:p,day:h}=s;return f==="reject"?(Ur(p,1,y),Ur(h,1,this.maximumMonthLength(s))):(p=on(p,1,y),h=on(h,1,this.maximumMonthLength(Yt(Mt({},s),{month:p})))),Yt(Mt({},s),{month:p,day:h})}calendarToIsoDate(s,f="constrain",e){const y=s;let p=this.adjustCalendarDate(s,e,f,!1);p=this.regulateMonthDayNaive(p,f,e);const{year:h,month:t,day:c}=p,u=JSON.stringify({func:"calendarToIsoDate",year:h,month:t,day:c,overflow:f,id:this.id});let d=e.get(u);if(d)return d;let l;if(y.year!==void 0&&y.month!==void 0&&y.day!==void 0&&(y.year!==p.year||y.month!==p.month||y.day!==p.day)&&(l=JSON.stringify({func:"calendarToIsoDate",year:y.year,month:y.month,day:y.day,overflow:f,id:this.id}),d=e.get(l),d))return d;let n=this.estimateIsoDate({year:h,month:t,day:c});const r=b=>{let x=this.addDaysIso(n,b);if(p.day>this.minimumMonthLength(p)){let S=this.isoToCalendarDate(x,e);for(;S.month!==t||S.year!==h;){if(f==="reject")throw new RangeError(`day ${c} does not exist in month ${t} of year ${h}`);x=this.addDaysIso(x,-1),S=this.isoToCalendarDate(x,e)}}return x};let o=0,i=this.isoToCalendarDate(n,e),a=Oa(p,i);if(a.years!==0||a.months!==0||a.days!==0){const b=a.years*365+a.months*30+a.days;n=this.addDaysIso(n,b),i=this.isoToCalendarDate(n,e),a=Oa(p,i),a.years===0&&a.months===0?n=r(a.days):o=this.compareCalendarDates(p,i)}let m=8,v=!1;for(;o;){n=this.addDaysIso(n,o*m);const b=i;i=this.isoToCalendarDate(n,e);const x=o;if(o=this.compareCalendarDates(p,i),o){if(a=Oa(p,i),a.years===0&&a.months===0)n=r(a.days),o=0,v=p.day>this.minimumMonthLength(p);else if(x&&o!==x)if(m>1)m/=2;else{if(f==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify(Mt({},y))}`);this.compareCalendarDates(i,b)>0&&(n=this.addDaysIso(n,-1)),v=!0,o=0}}}if(e.set(u,n),l&&e.set(l,n),p.year===void 0||p.month===void 0||p.day===void 0||p.monthCode===void 0||this.hasEra&&(p.era===void 0||p.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!v){const b=JSON.stringify({func:"isoToCalendarDate",isoYear:n.year,isoMonth:n.month,isoDay:n.day,id:this.id});e.set(b,p)}return n}temporalToCalendarDate(s,f){const e={year:E(s,Ye),month:E(s,$e),day:E(s,Xe)};return this.isoToCalendarDate(e,f)}compareCalendarDates(s,f){const e=Rr(s,[["day"],["month"],["year"]]),y=Rr(f,[["day"],["month"],["year"]]);return e.year!==y.year?Ro(e.year-y.year):e.month!==y.month?Ro(e.month-y.month):e.day!==y.day?Ro(e.day-y.day):0}regulateDate(s,f="constrain",e){const y=this.calendarToIsoDate(s,f,e);return this.isoToCalendarDate(y,e)}addDaysIso(s,f){return Lo(s.year,s.month,s.day,0,0,0,f,"constrain")}addDaysCalendar(s,f,e){const y=this.calendarToIsoDate(s,"constrain",e),p=this.addDaysIso(y,f);return this.isoToCalendarDate(p,e)}addMonthsCalendar(s,f,e,y){let p=s;const{day:h}=p;for(let t=0,c=fh(f);t<c;t++){const{month:u}=p,d=p,l=f<0?-Math.max(h,this.daysInPreviousMonth(p,y)):this.daysInMonth(p,y),n=this.calendarToIsoDate(p,"constrain",y);let r=this.addDaysIso(n,l);if(p=this.isoToCalendarDate(r,y),f>0){const o=this.monthsInYear(d,y);for(;p.month-1!==u%o;)r=this.addDaysIso(r,-1),p=this.isoToCalendarDate(r,y)}p.day!==h&&(p=this.regulateDate(Yt(Mt({},p),{day:h}),"constrain",y))}if(e==="reject"&&p.day!==h)throw new RangeError(`Day ${h} does not exist in resulting calendar month`);return p}addCalendar(s,{years:f=0,months:e=0,weeks:y=0,days:p=0},h,t){const{year:c,month:u,day:d}=s,l=this.addMonthsCalendar({year:c+f,month:u,day:d},e,h,t),n=p+y*7;return this.addDaysCalendar(l,n,t)}untilCalendar(s,f,e,y){let p=0,h=0,t=0,c=0;switch(e){case"day":p=this.calendarDaysUntil(s,f,y);break;case"week":{const u=this.calendarDaysUntil(s,f,y);p=u%7,h=(u-p)/7;break}case"month":case"year":{const u=f.year-s.year,d=f.month-s.month,l=f.day-s.day,n=this.compareCalendarDates(f,s);e==="year"&&u&&(c=d*n<0||d===0&&l*n<0?u-n:u);const r=c?this.addCalendar(s,{years:c},"constrain",y):s;let o,i=r;do t+=n,o=i,i=this.addMonthsCalendar(o,n,"constrain",y),i.day!==s.day&&(i=this.regulateDate(Yt(Mt({},i),{day:s.day}),"constrain",y));while(this.compareCalendarDates(f,i)*n>=0);t-=n,p=this.calendarDaysUntil(o,f,y);break}}return{years:c,months:t,weeks:h,days:p}}daysInMonth(s,f){const{day:e}=s,y=this.maximumMonthLength(s),p=this.minimumMonthLength(s);if(p===y)return p;const h=e<=y-p?y:p,t=this.calendarToIsoDate(s,"constrain",f),c=this.addDaysIso(t,h),u=this.isoToCalendarDate(c,f),d=this.addDaysIso(c,-u.day);return this.isoToCalendarDate(d,f).day}daysInPreviousMonth(s,f){const{day:e,month:y,year:p}=s;let t={year:y>1?p:p-1,month:y,day:1};const c=y>1?y-1:this.monthsInYear(t,f);t=Yt(Mt({},t),{month:c});const u=this.minimumMonthLength(t),d=this.maximumMonthLength(t);if(u===d)return d;const l=this.calendarToIsoDate(s,"constrain",f),n=this.addDaysIso(l,-e);return this.isoToCalendarDate(n,f).day}startOfCalendarYear(s){return{year:s.year,month:1,day:1}}startOfCalendarMonth(s){return{year:s.year,month:s.month,day:1}}calendarDaysUntil(s,f,e){const y=this.calendarToIsoDate(s,"constrain",e),p=this.calendarToIsoDate(f,"constrain",e);return this.isoDaysUntil(y,p)}isoDaysUntil(s,f){return Nl(s.year,s.month,s.day,f.year,f.month,f.day,"day").days}monthDayFromFields(s,f,e){let{year:y,month:p,monthCode:h,day:t,era:c,eraYear:u}=s;if(h===void 0){if(y===void 0&&(c===void 0||u===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:h,year:y}=this.adjustCalendarDate({year:y,month:p,monthCode:h,day:t,era:c,eraYear:u},e,f))}let d,l,n,r,o;const i={year:1972,month:1,day:1},{year:a}=this.isoToCalendarDate(i,e);for(let m=0;m<100;m++){const v=this.adjustCalendarDate({day:t,monthCode:h,year:a-m},e),b=this.calendarToIsoDate(v,"constrain",e),x=this.isoToCalendarDate(b,e);if({year:d,month:l,day:n}=b,x.monthCode===h&&x.day===t)return{month:l,day:n,year:d};f==="constrain"&&(r===void 0||x.monthCode===r.monthCode&&x.day>r.day)&&(r=x,o=b)}if(f==="constrain"&&o!==void 0)return o;throw new RangeError(`No recent ${this.id} year with monthCode ${h} and day ${t}`)}}class mh extends ui{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(s){const{year:f}=s;return(7*f+1)%19<7}monthsInYear(s){return this.inLeapYear(s)?13:12}minimumMonthLength(s){return this.minMaxMonthLength(s,"min")}maximumMonthLength(s){return this.minMaxMonthLength(s,"max")}minMaxMonthLength(s,f){const{month:e,year:y}=s,p=this.getMonthCode(y,e),h=Za(this.months).find(c=>c[1].monthCode===p);if(h===void 0)throw new RangeError(`unmatched Hebrew month: ${e}`);const t=h[1].days;return typeof t=="number"?t:t[f]}estimateIsoDate(s){const{year:f}=s;return{year:f-3760,month:1,day:1}}getMonthCode(s,f){return this.inLeapYear({year:s})?f===6?Jn(5,!0):Jn(f<6?f:f-1):Jn(f)}adjustCalendarDate(s,f,e="constrain",y=!1){let{year:p,eraYear:h,month:t,monthCode:c,day:u,monthExtra:d}=s;if(p===void 0&&h!==void 0&&(p=h),h===void 0&&p!==void 0&&(h=p),y){if(d){const n=this.months[d];if(!n)throw new RangeError(`Unrecognized month from formatToParts: ${d}`);t=this.inLeapYear({year:p})?n.leap:n.regular}return c=this.getMonthCode(p,t),{year:p,month:t,day:u,era:void 0,eraYear:h,monthCode:c}}else{if(this.validateCalendarDate(s),t===void 0)if(c.endsWith("L")){if(c!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${c}`);if(t=6,!this.inLeapYear({year:p})){if(e==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${p} which is not a leap year`);t=5,u=30,c="M05"}}else{t=Tl(c),this.inLeapYear({year:p})&&t>6&&t++;const l=this.monthsInYear({year:p});if(t<1||t>l)throw new RangeError(`Invalid monthCode: ${c}`)}else if(e==="reject"?(Ur(t,1,this.monthsInYear({year:p})),Ur(u,1,this.maximumMonthLength({year:p,month:t}))):(t=on(t,1,this.monthsInYear({year:p})),u=on(u,1,this.maximumMonthLength({year:p,month:t}))),c===void 0)c=this.getMonthCode(p,t);else if(this.getMonthCode(p,t)!==c)throw new RangeError(`monthCode ${c} doesn't correspond to month ${t} in Hebrew year ${p}`);return Yt(Mt({},s),{day:u,month:t,monthCode:c,year:p,eraYear:h})}}}class ci extends ui{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(s,f){return this.daysInMonth({year:s.year,month:12,day:1},f)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(s){const{year:f}=this.adjustCalendarDate(s);return{year:ph(f*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class wc extends ci{constructor(){super(...arguments),this.id="islamic"}}class yh extends ci{constructor(){super(...arguments),this.id="islamic-umalqura"}}class gh extends ci{constructor(){super(...arguments),this.id="islamic-tbla"}}class vh extends ci{constructor(){super(...arguments),this.id="islamic-civil"}}class bh extends ci{constructor(){super(...arguments),this.id="islamic-rgsa"}}class wh extends ci{constructor(){super(...arguments),this.id="islamicc"}}class _h extends ui{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(s,f){return wc.prototype.inLeapYear.call(this,s,f)}monthsInYear(){return 12}minimumMonthLength(s){const{month:f}=s;return f===12?29:f<=6?31:30}maximumMonthLength(s){const{month:f}=s;return f===12?30:f<=6?31:30}estimateIsoDate(s){const{year:f}=this.adjustCalendarDate(s);return{year:f+621,month:1,day:1}}}class xh extends ui{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(s){return _c(s.year+78)}monthsInYear(){return 12}minimumMonthLength(s){return this.getMonthInfo(s).length}maximumMonthLength(s){return this.getMonthInfo(s).length}getMonthInfo(s){const{month:f}=s;let e=this.months[f];if(e===void 0)throw new RangeError(`Invalid month: ${f}`);return this.inLeapYear(s)&&e.leap&&(e=e.leap),e}estimateIsoDate(s){const f=this.adjustCalendarDate(s),e=this.getMonthInfo(f),y=f.year+78+(e.nextYear?1:0),p=e.month,h=e.day;return Lo(y,p,h,0,0,0,f.day-1,"constrain")}checkIcuBugs(s){if(this.vulnerableToBceBug&&s.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function Th(_){let s=_;if(s.length===0)throw new RangeError("Invalid era data: eras are required");if(s.length===1&&s[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(s.length===1&&!s[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(s.filter(y=>y.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");let f;s.forEach(y=>{if(y.isAnchor||!y.anchorEpoch&&!y.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=y,y.anchorEpoch={year:y.hasYearZero?0:1}}else if(!y.name)throw new RangeError("If era name is blank, it must be the anchor era")}),s=s.filter(y=>y.name),s.forEach(y=>{const{reverseOf:p}=y;if(p){const h=s.find(t=>t.name===p);if(h===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${p}`);y.reverseOf=h,y.anchorEpoch=h.anchorEpoch,y.isoEpoch=h.isoEpoch}y.anchorEpoch.month===void 0&&(y.anchorEpoch.month=1),y.anchorEpoch.day===void 0&&(y.anchorEpoch.day=1)}),hh.call(s,(y,p)=>{if(y.reverseOf)return 1;if(p.reverseOf)return-1;if(!y.isoEpoch||!p.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return p.isoEpoch.year-y.isoEpoch.year});const e=s[s.length-1].reverseOf;if(e&&e!==s[s.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return s.forEach((y,p)=>{y.genericName=`era${s.length-1-p}`}),{eras:s,anchorEra:f||s[0]}}function _c(_){return _%4===0&&(_%100!==0||_%400===0)}class Ki extends ui{constructor(s,f){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=s;const{eras:e,anchorEra:y}=Th(f);this.anchorEra=y,this.eras=e}inLeapYear(s){const{year:f}=this.estimateIsoDate({month:1,day:1,year:s.year});return _c(f)}monthsInYear(){return 12}minimumMonthLength(s){const{month:f}=s;return f===2?this.inLeapYear(s)?29:28:[4,6,9,11].indexOf(f)>=0?30:31}maximumMonthLength(s){return this.minimumMonthLength(s)}completeEraYear(s){const f=(t,c)=>{const u=s[t];if(u!=null&&u!=c)throw new RangeError(`Input ${t} ${u} doesn't match calculated value ${c}`)},e=t=>{let c;const u=Yt(Mt({},s),{year:t}),d=this.eras.find((l,n)=>{if(n===this.eras.length-1){if(l.reverseOf){if(t>0)throw new RangeError(`Signed year ${t} is invalid for era ${l.name}`);return c=l.anchorEpoch.year-t,!0}return c=t-l.anchorEpoch.year+(l.hasYearZero?0:1),!0}return this.compareCalendarDates(u,l.anchorEpoch)>=0?(c=t-l.anchorEpoch.year+(l.hasYearZero?0:1),!0):!1});if(!d)throw new RangeError(`Year ${t} was not matched by any era`);return{eraYear:c,era:d.name}};let{year:y,eraYear:p,era:h}=s;if(y!=null)({eraYear:p,era:h}=e(y)),f("era",h),f("eraYear",p);else if(p!=null){const t=h===void 0?void 0:this.eras.find(c=>c.name===h||c.genericName===h);if(!t)throw new RangeError(`Era ${h} (ISO year ${p}) was not matched by any era`);if(p<1&&t.reverseOf)throw new RangeError(`Years in ${h} era must be positive, not ${y}`);t.reverseOf?y=t.anchorEpoch.year-p:y=p+t.anchorEpoch.year-(t.hasYearZero?0:1),f("year",y),{eraYear:p,era:h}=e(y)}else throw new RangeError("Either `year` or `eraYear` and `era` are required");return Yt(Mt({},s),{year:y,eraYear:p,era:h})}adjustCalendarDate(s,f,e="constrain"){let y=s;const{month:p,monthCode:h}=y;return p===void 0&&(y=Yt(Mt({},y),{month:Tl(h)})),this.validateCalendarDate(y),y=this.completeEraYear(y),super.adjustCalendarDate(y,f,e)}estimateIsoDate(s){const f=this.adjustCalendarDate(s),{year:e,month:y,day:p}=f,{anchorEra:h}=this,t=e+h.isoEpoch.year-(h.hasYearZero?0:1);return Us(t,y,p,"constrain")}checkIcuBugs(s){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Zn(s.year,s.month,s.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Sl extends Ki{constructor(s,f){super(s,f)}inLeapYear(s){const{year:f}=s;return(f+1)%4===0}monthsInYear(){return 13}minimumMonthLength(s){const{month:f}=s;return f===13?this.inLeapYear(s)?6:5:30}maximumMonthLength(s){return this.minimumMonthLength(s)}}class Sh extends Sl{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Eh extends Sl{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class jh extends Sl{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Mh extends Ki{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Ch extends Ki{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Dh extends Ki{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(s){let{era:f,eraYear:e}=s;return(f==="bc"||f==="b")&&(f="bce"),(f==="ad"||f==="a")&&(f="ce"),{era:f,eraYear:e}}}class Oh extends Ki{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(s,f){const{era:e,eraYear:y}=s,{year:p}=f;return this.eras.find(h=>h.name===e)?{era:e,eraYear:y}:p<1?{era:"bce",eraYear:1-p}:{era:"ce",eraYear:p}}}class xc extends ui{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(s,f){const e=this.getMonthList(s.year,f);return Za(e).length===13}monthsInYear(s,f){return this.inLeapYear(s,f)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(s,f){if(s===void 0)throw new TypeError("Missing year");const e=JSON.stringify({func:"getMonthList",calendarYear:s,id:this.id}),y=f.get(e);if(y)return y;const p=this.getFormatter(),h=(a,m)=>{const v=bc({isoYear:a,isoMonth:2,isoDay:1}),b=new Date(v);b.setUTCDate(m+1);const x=p.formatToParts(b),S=x.find(O=>O.type==="month").value,M=+x.find(O=>O.type==="day").value;let C=x.find(O=>O.type==="relatedYear");if(C!==void 0)C=+C.value;else throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return{calendarMonthString:S,calendarDay:M,calendarYearToVerify:C}};let t=17,{calendarMonthString:c,calendarDay:u,calendarYearToVerify:d}=h(s,t);c!=="1"&&(t+=29,{calendarMonthString:c,calendarDay:u}=h(s,t)),t-=u-5;const l={};let n=1,r,o,i=!1;do({calendarMonthString:c,calendarDay:u,calendarYearToVerify:d}=h(s,t)),r&&(l[o].daysInMonth=r+30-u),d!==s?i=!0:(l[c]={monthIndex:n++},t+=30),r=u,o=c;while(!i);return l[o].daysInMonth=r+30-u,f.set(e,l),l}estimateIsoDate(s){const{year:f,month:e}=s;return{year:f,month:e>=12?12:e+1,day:1}}adjustCalendarDate(s,f,e="constrain",y=!1){let{year:p,month:h,monthExtra:t,day:c,monthCode:u,eraYear:d}=s;if(y){if(p=d,t&&t!=="bis")throw new RangeError(`Unexpected leap month suffix: ${t}`);const l=Jn(h,t!==void 0),n=`${h}${t||""}`,o=this.getMonthList(p,f)[n];if(o===void 0)throw new RangeError(`Unmatched month ${n} in Chinese year ${p}`);return h=o.monthIndex,{year:p,month:h,day:c,era:void 0,eraYear:d,monthCode:l}}else{if(this.validateCalendarDate(s),p===void 0&&(p=d),d===void 0&&(d=p),h===void 0){const l=this.getMonthList(p,f);let n=u.replace("L","bis").slice(1);n[0]==="0"&&(n=n.slice(1));let r=l[n];if(h=r&&r.monthIndex,h===void 0&&u.endsWith("L")&&!Pi.call(["M01L","M12L","M13L"],u)&&e==="constrain"){let o=u.slice(1,-1);o[0]==="0"&&(o=o.slice(1)),r=l[o],r&&({daysInMonth:c,monthIndex:h}=r,u=Jn(o))}if(h===void 0)throw new RangeError(`Unmatched month ${u} in Chinese year ${p}`)}else if(u===void 0){const l=this.getMonthList(p,f),n=Za(l),r=n.length;e==="reject"?(Ur(h,1,r),Ur(c,1,this.maximumMonthLength())):(h=on(h,1,r),c=on(c,1,this.maximumMonthLength()));const o=n.find(([,i])=>i.monthIndex===h);if(o===void 0)throw new RangeError(`Invalid month ${h} in Chinese year ${p}`);u=Jn(o[0].replace("bis",""),o[0].indexOf("bis")!==-1)}else{const l=this.getMonthList(p,f);let n=u.replace("L","bis").slice(1);n[0]==="0"&&(n=n.slice(1));const r=l[n];if(!r)throw new RangeError(`Unmatched monthCode ${u} in Chinese year ${p}`);if(h!==r.monthIndex)throw new RangeError(`monthCode ${u} doesn't correspond to month ${h} in Chinese year ${p}`)}return Yt(Mt({},s),{year:p,eraYear:d,month:h,monthCode:u,day:c})}}}class kh extends xc{constructor(){super(...arguments),this.id="chinese"}}class Ph extends xc{constructor(){super(...arguments),this.id="dangi"}}const Lh={helper:void 0,dateFromFields(_,s,f){const e=Lr(s),y=new sr,p=Rr(_,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:h,month:t,day:c}=this.helper.calendarToIsoDate(p,e,y),u=xn(h,t,c,f);return y.setObject(u),u},yearMonthFromFields(_,s,f){const e=Lr(s),y=new sr,p=Rr(_,[["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:h,month:t,day:c}=this.helper.calendarToIsoDate(Yt(Mt({},p),{day:1}),e,y),u=Bi(h,t,f,c);return y.setObject(u),u},monthDayFromFields(_,s,f){const e=Lr(s),y=new sr,p=Rr(_,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:h,month:t,day:c}=this.helper.monthDayFromFields(p,e,y),u=Fi(t,c,f,h);return y.setObject(u),u},fields(_){let s=_;return Pi.call(s,"year")&&(s=[...s,"era","eraYear"]),s},mergeFields(_,s){const f=Mt({},_),e=Mt({},s),i=f,{month:y,monthCode:p,year:h,era:t,eraYear:c}=i,u=Nu(i,["month","monthCode","year","era","eraYear"]),{month:d,monthCode:l,year:n,era:r,eraYear:o}=e;return d===void 0&&l===void 0&&(u.month=y,u.monthCode=p),n===void 0&&r===void 0&&o===void 0&&(u.year=h),Mt(Mt({},u),e)},dateAdd(_,s,f,e,y,p,h){const t=sr.getCacheForObject(_),c=this.helper.temporalToCalendarDate(_,t),u=this.helper.addCalendar(c,{years:s,months:f,weeks:e,days:y},p,t),d=this.helper.calendarToIsoDate(u,"constrain",t),{year:l,month:n,day:r}=d,o=xn(l,n,r,h);return new sr(t).setObject(o),o},dateUntil(_,s,f){const e=sr.getCacheForObject(_),y=sr.getCacheForObject(s),p=this.helper.temporalToCalendarDate(_,e),h=this.helper.temporalToCalendarDate(s,y);return this.helper.untilCalendar(p,h,f,e)},year(_){const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).year},month(_){const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).month},day(_){const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).day},era(_){if(!this.helper.hasEra)return;const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).era},eraYear(_){if(!this.helper.hasEra)return;const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).eraYear},monthCode(_){const s=sr.getCacheForObject(_);return this.helper.temporalToCalendarDate(_,s).monthCode},dayOfWeek(_){return ir.iso8601.dayOfWeek(_)},dayOfYear(_){const s=sr.getCacheForObject(_),f=this.helper.isoToCalendarDate(_,s),e=this.helper.startOfCalendarYear(f);return this.helper.calendarDaysUntil(e,f,s)+1},weekOfYear(_){return ir.iso8601.weekOfYear(_)},daysInWeek(_){return ir.iso8601.daysInWeek(_)},daysInMonth(_){const s=sr.getCacheForObject(_),f=this.helper.temporalToCalendarDate(_,s),e=this.helper.maximumMonthLength(f),y=this.helper.minimumMonthLength(f);if(e===y)return e;const p=this.helper.startOfCalendarMonth(f),h=this.helper.addMonthsCalendar(p,1,"constrain",s);return this.helper.calendarDaysUntil(p,h,s)},daysInYear(_){let s=_;Mr(s,Ye)||(s=zt(s));const f=sr.getCacheForObject(s),e=this.helper.temporalToCalendarDate(s,f),y=this.helper.startOfCalendarYear(e),p=this.helper.addCalendar(y,{years:1},"constrain",f);return this.helper.calendarDaysUntil(y,p,f)},monthsInYear(_){const s=sr.getCacheForObject(_),f=this.helper.temporalToCalendarDate(_,s);return this.helper.monthsInYear(f,s)},inLeapYear(_){let s=_;Mr(s,Ye)||(s=zt(s));const f=sr.getCacheForObject(s),e=this.helper.temporalToCalendarDate(s,f);return this.helper.inLeapYear(e,f)}};for(const _ of[mh,_h,jh,Sh,Eh,kh,Ph,Mh,xh,Ch,Dh,Oh,wc,yh,gh,vh,bh,wh]){const s=new _;ir[s.id]=Yt(Mt({},Lh),{helper:s})}const Rh=Object.keys(ir);function Tc(_){return Pi.call(Rh,_)}const qu=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Ah=/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/,Ih=new RegExp(`(?:(?:${qu.source})(?:\\/(?:${qu.source}))*|Etc/GMT[-+]\\d{1,2}|${Ah.source})`),Wu=/[A-Za-z0-9]{3,8}/,Nh=new RegExp(`(?:${Wu.source}(?:-${Wu.source})*)`),Sc=/(?:[+\u2212-]\d{6}|\d{4})/,Rs=/(?:0[1-9]|1[0-2])/,Ka=/(?:0[1-9]|[12]\d|3[01])/,Uh=new RegExp(`(${Sc.source})(?:-(${Rs.source})-(${Ka.source})|(${Rs.source})(${Ka.source}))`),Ec=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,jc=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Mc=new RegExp(`(?:([zZ])|(?:${jc.source})?)(?:\\[(${Ih.source})\\])?`),Cc=new RegExp(`\\[u-ca=(${Nh.source})\\]`),Fh=new RegExp(`^${Uh.source}(?:(?:T|\\s+)${Ec.source})?${Mc.source}(?:${Cc.source})?$`,"i"),Bh=new RegExp(`^T?${Ec.source}(?:${Mc.source})?(?:${Cc.source})?$`,"i"),Gh=new RegExp(`^(${Sc.source})-?(${Rs.source})$`),Vh=new RegExp(`^(?:--)?(${Rs.source})-?(${Ka.source})$`),ka=/(\d+)(?:[.,](\d{1,9}))?/,zh=/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/,Hh=new RegExp(`(?:${ka.source}H)?(?:${ka.source}M)?(?:${ka.source}S)?`),qh=new RegExp(`^([+\u2212-])?P${zh.source}(?:T(?!$)${Hh.source})?$`,"i"),Dc=Array.prototype.push,Oc=globalThis.Intl.DateTimeFormat,Wh=Math.min,Yh=Math.max,Lt=Math.abs,jr=Math.floor,Li=Math.sign,Ko=Math.trunc,Qi=Number.isNaN,Pr=Number.isFinite,$h=Number,Ji=String,Xh=Number.MAX_SAFE_INTEGER,Wt=Object.create,Zh=Object.defineProperty,Kh=Object.is,El=Reflect.apply,gr=k.BigInt(0),jl=k.BigInt(1),Oo=k.BigInt(60),Ft=k.BigInt(1e3),pn=k.BigInt(1e6),eo=k.BigInt(1e9),Qh=k.BigInt(-1),Jh=86400,ho=k.multiply(k.BigInt(Jh),eo),Ri=k.multiply(k.BigInt(-86400),k.BigInt(1e17)),Ai=k.multiply(k.BigInt(86400),k.BigInt(1e17)),As=-271821,Is=275760,kc=k.multiply(k.BigInt(-388152),k.BigInt(1e13)),ef=k.multiply(ho,k.BigInt(366*10)),Pc=k.multiply(ho,k.BigInt(366*1)),Lc=k.multiply(ho,k.BigInt(2*7));function Rc(_){if(typeof _!="number"||!Pr(_))return!1;const s=Lt(_);return jr(s)===s}function Jt(_){return typeof _=="object"&&_!==null||typeof _=="function"}function Ii(_){if(typeof _=="bigint")throw new TypeError("Cannot convert BigInt to number");return $h(_)}function Bt(_){const s=Ii(_);if(Qi(s))return 0;const f=Ko(s);return s===0?0:f}function lt(_){if(typeof _=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Ji(_)}function qt(_){const s=Bt(_);if(!Pr(s))throw new RangeError("infinity is out of range");return s}function ti(_,s){const f=Bt(_);if(!Pr(f))throw new RangeError("infinity is out of range");if(f<1)throw s!==void 0?new RangeError(`property '${s}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return f}function Or(_){const s=Ii(_);if(Qi(s))return 0;if(!Pr(s))throw new RangeError("infinity is out of range");if(!Rc(s))throw new RangeError(`unsupported fractional value ${s}`);return Bt(s)}function Sr(_,s){const f=k.divide(_,s),e=k.remainder(_,s);return{quotient:f,remainder:e}}function Ml(_){return k.lessThan(_,gr)?k.multiply(_,Qh):_}const Ns=new Map([["year",qt],["month",ti],["monthCode",lt],["day",ti],["hour",qt],["minute",qt],["second",qt],["millisecond",qt],["microsecond",qt],["nanosecond",qt],["years",Or],["months",Or],["weeks",Or],["days",Or],["hours",Or],["minutes",Or],["seconds",Or],["milliseconds",Or],["microseconds",Or],["nanoseconds",Or],["era",lt],["eraYear",Bt],["offset",lt]]),ri=["year","month","week","day","hour","minute","second","millisecond","microsecond","nanosecond"],ea=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"],["microseconds","microsecond"],["nanoseconds","nanosecond"]],Yu=new Map;function Ac(_){let s=Yu.get(_);return s===void 0&&(s=new Oc("en-us",{timeZone:Ji(_),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Yu.set(_,s)),s}function wr(_){return Mr(_,ot)&&!Mr(_,Pt,Se)}function An(_){return Mr(_,lo)}function mr(_){return Mr(_,yr)}function lr(_){return Mr(_,Fr,Er,Br,Gr,Vr,zr,Hr,qr,Wr)}function Dt(_){return Mr(_,mc)}function ur(_){return Mr(_,ct,dt,ht,ft,pt,mt)&&!Mr(_,Ye,$e,Xe)}function St(_){return Mr(_,Ye,$e,Xe,ct,dt,ht,ft,pt,mt)}function At(_){return Mr(_,yc)}function Dr(_){return Mr(_,gc)}function Je(_){return Mr(_,ot,Pt,Se)}function di(_){if(Mr(_,Se)||Mr(_,Pt))throw new TypeError("with() does not support a calendar or timeZone property");if(_.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(_.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function Ic(_){let{ianaName:s,offset:f,z:e}=af(_);return s||(e?"UTC":f)}function es(_,s){return s==="never"||s==="auto"&&_==="iso8601"?"":`[u-ca=${_}]`}function Hn(_){const s=Fh.exec(_);if(!s)throw new RangeError(`invalid ISO 8601 string: ${_}`);let f=s[1];if(f[0]==="\u2212"&&(f=`-${f.slice(1)}`),f==="-000000")throw new RangeError(`invalid ISO 8601 string: ${_}`);const e=Bt(f),y=Bt(s[2]||s[4]),p=Bt(s[3]||s[5]),h=Bt(s[6]),t=s[6]!==void 0,c=Bt(s[7]||s[10]);let u=Bt(s[8]||s[11]);u===60&&(u=59);const d=(s[9]||s[12])+"000000000",l=Bt(d.slice(0,3)),n=Bt(d.slice(3,6)),r=Bt(d.slice(6,9));let o,i=!1;if(s[13])o=void 0,i=!0;else if(s[14]&&s[15]){const v=s[14]==="-"||s[14]==="\u2212"?"-":"+",b=s[15]||"00",x=s[16]||"00",S=s[17]||"00";let M=s[18]||"0";if(o=`${v}${b}:${x}`,+M){for(;M.endsWith("0");)M=M.slice(0,-1);o+=`:${S}.${M}`}else+S&&(o+=`:${S}`);o==="-00:00"&&(o="+00:00")}let a=s[19];if(a)try{a=Rl(a).toString()}catch{}const m=s[20];return{year:e,month:y,day:p,hasTime:t,hour:h,minute:c,second:u,millisecond:l,microsecond:n,nanosecond:r,ianaName:a,offset:o,z:i,calendar:m}}function tf(_){const s=Hn(_);if(!s.z&&!s.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return s}function rf(_){const s=Hn(_);if(!s.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return s}function nf(_){return Hn(_)}function of(_){return Hn(_)}function sf(_){const s=Bh.exec(_);let f,e,y,p,h,t,c;if(s){f=Bt(s[1]),e=Bt(s[2]||s[5]),y=Bt(s[3]||s[6]),y===60&&(y=59);const u=(s[4]||s[7])+"000000000";p=Bt(u.slice(0,3)),h=Bt(u.slice(3,6)),t=Bt(u.slice(6,9)),c=s[15]}else{let u,d;if({hasTime:d,hour:f,minute:e,second:y,millisecond:p,microsecond:h,nanosecond:t,calendar:c,z:u}=Hn(_),!d)throw new RangeError(`time is missing in string: ${_}`);if(u)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(_))return{hour:f,minute:e,second:y,millisecond:p,microsecond:h,nanosecond:t,calendar:c};try{const{month:u,day:d}=Uc(_);Bn(1972,u,d)}catch{try{const{year:u,month:d}=Nc(_);Bn(u,d,1)}catch{return{hour:f,minute:e,second:y,millisecond:p,microsecond:h,nanosecond:t,calendar:c}}}throw new RangeError(`invalid ISO 8601 time-only string ${_}; may need a T prefix`)}function Nc(_){const s=Gh.exec(_);let f,e,y,p;if(s){let h=s[1];if(h[0]==="\u2212"&&(h=`-${h.slice(1)}`),h==="-000000")throw new RangeError(`invalid ISO 8601 string: ${_}`);f=Bt(h),e=Bt(s[2]),y=s[3]}else{let h;if({year:f,month:e,calendar:y,day:p,z:h}=Hn(_),h)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:f,month:e,calendar:y,referenceISODay:p}}function Uc(_){const s=Vh.exec(_);let f,e,y,p;if(s)f=Bt(s[1]),e=Bt(s[2]);else{let h;if({month:f,day:e,calendar:y,year:p,z:h}=Hn(_),h)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:f,day:e,calendar:y,referenceISOYear:p}}function af(_){try{let s=Rl(_);if(s)return s=s.toString(),Qo(s)?{offset:s}:{ianaName:s}}catch{}try{const s=Hn(_);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${_}`)}function Fc(_){const s=qh.exec(_);if(!s)throw new RangeError(`invalid duration: ${_}`);if(s.slice(2).every(a=>a===void 0))throw new RangeError(`invalid duration: ${_}`);const f=s[1]==="-"||s[1]==="\u2212"?-1:1,e=Bt(s[2])*f,y=Bt(s[3])*f,p=Bt(s[4])*f,h=Bt(s[5])*f,t=Bt(s[6])*f;let c=s[7],u=Bt(s[8])*f,d=s[9],l=Bt(s[10])*f;const n=s[11]+"000000000";let r=Bt(n.slice(0,3))*f,o=Bt(n.slice(3,6))*f,i=Bt(n.slice(6,9))*f;return c=c?f*Bt(c)/10**c.length:0,d=d?f*Bt(d)/10**d.length:0,{minutes:u,seconds:l,milliseconds:r,microseconds:o,nanoseconds:i}=cf(c,u,d,l,r,o,i),{years:e,months:y,weeks:p,days:h,hours:t,minutes:u,seconds:l,milliseconds:r,microseconds:o,nanoseconds:i}}function lf(_){const{year:s,month:f,day:e,hour:y,minute:p,second:h,millisecond:t,microsecond:c,nanosecond:u,offset:d,z:l}=tf(_),n=fo(s,f,e,y,p,h,t,c,u);if(n===null)throw new RangeError("DateTime outside of supported range");const r=l?0:Io(d);return k.subtract(n,k.BigInt(r))}function Us(_,s,f,e){let y=_,p=s,h=f;switch(e){case"reject":Bn(y,p,h);break;case"constrain":({year:y,month:p,day:h}=td(y,p,h));break}return{year:y,month:p,day:h}}function Ci(_,s,f,e,y,p,h){let t=_,c=s,u=f,d=e,l=y,n=p;switch(h){case"reject":ca(t,c,u,d,l,n);break;case"constrain":({hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}=_f(t,c,u,d,l,n));break}return{hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}}function uf(_,s,f){let e=_,y=s;const p=1;switch(f){case"reject":Bn(e,y,p);break;case"constrain":({year:e,month:y}=td(e,y));break}return{year:e,month:y}}function cf(_,s,f,e,y,p,h){let t=_,c=s,u=f,d=e,l=y,n=p,r=h;if(t!==0){[c,u,d,l,n,r].forEach(i=>{if(i!==0)throw new RangeError("only the smallest unit can be fractional")});const o=t*60;c=Ko(o),u=o%1}if(u!==0){[d,l,n,r].forEach(a=>{if(a!==0)throw new RangeError("only the smallest unit can be fractional")});const o=u*60;d=Ko(o);const i=o%1;if(i!==0){const a=i*1e3;l=Ko(a);const m=a%1;if(m!==0){const v=m*1e3;n=Ko(v);const b=v%1;if(b!==0){const x=b*1e3;r=Ko(x)}}}}return{minutes:c,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}}function Bc(_){if(lr(_))return{years:E(_,Fr),months:E(_,Er),weeks:E(_,Kr),days:E(_,Br),hours:E(_,Gr),minutes:E(_,Vr),seconds:E(_,zr),milliseconds:E(_,Hr),microseconds:E(_,qr),nanoseconds:E(_,Wr)};const s=mo(_,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!s)throw new TypeError("invalid duration-like");const{years:f=0,months:e=0,weeks:y=0,days:p=0,hours:h=0,minutes:t=0,seconds:c=0,milliseconds:u=0,microseconds:d=0,nanoseconds:l=0}=s;return{years:f,months:e,weeks:y,days:p,hours:h,minutes:t,seconds:c,milliseconds:u,microseconds:d,nanoseconds:l}}function wn(_,s=[]){let f;if(Jt(_))f=Bc(_);else{const r=lt(_);f=Fc(r)}const{years:e,months:y,weeks:p,days:h,hours:t,minutes:c,seconds:u,milliseconds:d,microseconds:l,nanoseconds:n}=f;id(e,y,p,h,t,c,u,d,l,n);for(const r of s)if(f[r]!==0)throw new RangeError(`Duration field ${r} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return f}function Lr(_){return qn(_,"overflow",["constrain","reject"],"constrain")}function Ni(_){return qn(_,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function xr(_,s){return qn(_,"roundingMode",["ceil","floor","trunc","halfExpand"],s)}function ts(_){switch(_){case"ceil":return"floor";case"floor":return"ceil";default:return _}}function Qa(_,s){return qn(_,"offset",["prefer","use","ignore","reject"],s)}function rs(_){return qn(_,"calendarName",["auto","always","never"],"auto")}function df(_){return qn(_,"timeZoneName",["auto","never"],"auto")}function hf(_){return qn(_,"offset",["auto","never"],"auto")}function mn(_,s,f){let e=1/0;s!==void 0&&(e=s),!f&&s!==void 0&&(e=s>1?s-1:1);const y=Sf(_,"roundingIncrement",1,e,1);if(s!==void 0&&s%y!==0)throw new RangeError(`Rounding increment must divide evenly into ${s}`);return y}function Ui(_,s){return mn(_,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1)}function ns(_){switch(Xr(_,void 0,["year","month","week","day","hour"])){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let f=_.fractionalSecondDigits;if(f===void 0&&(f="auto"),typeof f!="number"){const y=lt(f);if(y==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${y}`)}if(Qi(f)||f<0||f>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${f}`);const e=jr(f);switch(e){case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${f}`)}}function cn(_,s,f=[],e){const y=new Map(ea.filter(([,t])=>!f.includes(t))),p=new Set(ri);for(const t of f)p.delete(t);const h=qn(_,"largestUnit",["auto",...p,...y.keys()],s);return h==="auto"&&e!==void 0?e:y.has(h)?y.get(h):h}function Xr(_,s,f=[]){const e=new Map(ea.filter(([,h])=>!f.includes(h))),y=new Set(ri);for(const h of f)y.delete(h);const p=qn(_,"smallestUnit",[...y,...e.keys()],s);return e.has(p)?e.get(p):p}function ff(_){const s=new Map(ea),f=qn(_,"unit",[...s.values(),...s.keys()],void 0);return s.has(f)?s.get(f):f}function xi(_){const s=_.relativeTo;if(s===void 0)return s;let f="option",e=!1,y,p,h,t,c,u,d,l,n,r,o,i;if(Jt(s)){if(Je(s)||Dt(s))return s;if(St(s))return Po(s);r=hi(s);const a=fr(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),m=Fs(s,a),v=Wt(null);v.overflow="constrain",{year:y,month:p,day:h,hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}=os(r,m,v),i=s.offset,i===void 0&&(f="wall"),o=s.timeZone}else{let a,m;({year:y,month:p,day:h,hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n,calendar:r,ianaName:a,offset:i,z:m}=Hn(lt(s))),a&&(o=a),m?f="exact":i||(f="wall"),r||(r=vr()),r=Ir(r),e=!0}if(o){o=Jr(o);let a=0;f==="option"&&(a=Io(lt(i)));const m=Bs(y,p,h,t,c,u,d,l,n,f,a,o,"compatible","reject",e);return kr(m,o,r)}return xn(y,p,h,r)}function yn(_,s){if(ri.indexOf(_)>ri.indexOf(s))throw new RangeError(`largestUnit ${_} cannot be smaller than smallestUnit ${s}`)}function Ja(_,s,f,e,y,p,h,t,c,u){const d=new Map(ea);for(const[l,n]of[["years",_],["months",s],["weeks",f],["days",e],["hours",y],["minutes",p],["seconds",h],["milliseconds",t],["microseconds",c],["nanoseconds",u]])if(n!==0)return d.get(l);return"nanosecond"}function _n(_,s){return ri.indexOf(_)>ri.indexOf(s)?s:_}function mo(_,s){const f=_,e=s;let y=!1,p={};for(const h of e){const t=f[h];t!==void 0&&(y=!0,Ns.has(h)?p[h]=Ns.get(h)(t):p[h]=t)}return y?p:!1}function Rr(_,s){const f=_,e=s,y={};let p=!1;for(const h of e){const[t,c]=h;let u=f[t];if(u===void 0){if(h.length===1)throw new TypeError(`required property '${t}' missing or undefined`);u=c}else p=!0,Ns.has(t)&&(u=Ns.get(t)(u));y[t]=u}if(!p)throw new TypeError("no supported properties found");if(y.era===void 0!=(y.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return y}function el(_,s){const f=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return s.forEach(e=>{f.some(([y])=>y===e)||f.push([e,void 0])}),Rr(_,f)}function Fs(_,s){const f=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0]];return s.forEach(e=>{f.some(([y])=>y===e)||f.push([e,void 0])}),Rr(_,f)}function ko(_,s){const f=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return s.forEach(e=>{f.some(([y])=>y===e)||f.push([e,void 0])}),Rr(_,f)}function Cl(_){return Rr(_,[["hour",0],["microsecond",0],["millisecond",0],["minute",0],["nanosecond",0],["second",0]])}function rn(_,s){const f=[["month",void 0],["monthCode",void 0],["year",void 0]];return s.forEach(e=>{f.some(([y])=>y===e)||f.push([e,void 0])}),Rr(_,f)}function pf(_,s){const f=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset",void 0],["timeZone"]];return s.forEach(e=>{f.some(([y])=>y===e)||f.push([e,void 0])}),Rr(_,f)}function zt(_,s=Wt(null)){let f=_;if(Jt(f)){if(Dt(f))return f;if(Je(f)&&(f=dn(E(f,Pt),E(f,Nr),E(f,Se))),St(f))return xn(E(f,Ye),E(f,$e),E(f,Xe),E(f,Se));const u=hi(f),d=fr(u,["day","month","monthCode","year"]),l=el(f,d);return jn(u,l,s)}Lr(s);const{year:e,month:y,day:p,calendar:h,z:t}=of(lt(f));if(t)throw new RangeError("Z designator not supported for PlainDate");const c=at("%Temporal.PlainDate%");return new c(e,y,p,h)}function os(_,s,f){let{hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}=Cl(s);const u=Lr(f),d=jn(_,s,f),l=E(d,Ye),n=E(d,$e),r=E(d,Xe);return{hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}=Ci(e,y,p,h,t,c,u),{year:l,month:n,day:r,hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}}function uo(_,s=Wt(null)){let f,e,y,p,h,t,c,u,d,l;if(Jt(_)){if(St(_))return _;if(Je(_))return dn(E(_,Pt),E(_,Nr),E(_,Se));if(Dt(_))return en(E(_,Ye),E(_,$e),E(_,Xe),0,0,0,0,0,0,E(_,Se));l=hi(_);const n=fr(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),r=Fs(_,n);({year:f,month:e,day:y,hour:p,minute:h,second:t,millisecond:c,microsecond:u,nanosecond:d}=os(l,r,s))}else{Lr(s);let n;if({year:f,month:e,day:y,hour:p,minute:h,second:t,millisecond:c,microsecond:u,nanosecond:d,calendar:l,z:n}=nf(lt(_)),n)throw new RangeError("Z designator not supported for PlainDateTime");nd(f,e,y,p,h,t,c,u,d),l===void 0&&(l=vr()),l=Ir(l)}return en(f,e,y,p,h,t,c,u,d,l)}function Jo(_){let s,f,e,y,p,h,t,c,u,d;if(Jt(_)){if(lr(_))return _;({years:s,months:f,weeks:e,days:y,hours:p,minutes:h,seconds:t,milliseconds:c,microseconds:u,nanoseconds:d}=Bc(_))}else({years:s,months:f,weeks:e,days:y,hours:p,minutes:h,seconds:t,milliseconds:c,microseconds:u,nanoseconds:d}=Fc(lt(_)));const l=at("%Temporal.Duration%");return new l(s,f,e,y,p,h,t,c,u,d)}function Mn(_){if(wr(_))return _;if(Je(_)){const e=at("%Temporal.Instant%");return new e(E(_,ot))}const s=lf(lt(_)),f=at("%Temporal.Instant%");return new f(s)}function $u(_,s=Wt(null)){if(Jt(_)){if(Dr(_))return _;let u,d;if(Mr(_,Se))u=E(_,Se),d=!1;else{let r=_.calendar;d=r===void 0,r===void 0&&(r=vr()),u=Ir(r)}const l=fr(u,["day","month","monthCode","year"]),n=ko(_,l);return d&&n.month!==void 0&&n.monthCode===void 0&&n.year===void 0&&(n.year=1972),ni(u,n,s)}Lr(s);let{month:f,day:e,referenceISOYear:y,calendar:p}=Uc(lt(_)),h=p;if(h===void 0&&(h=vr()),h=Ir(h),y===void 0)return Bn(1972,f,e),Fi(f,e,h);const t=Fi(f,e,h,y),c=Wt(null);return ni(h,t,c)}function Nn(_,s="constrain"){let f=_,e,y,p,h,t,c,u;if(Jt(f)){if(ur(f))return f;if(Je(f)&&(f=dn(E(f,Pt),E(f,Nr),E(f,Se))),St(f)){const l=at("%Temporal.PlainTime%");return new l(E(f,ct),E(f,dt),E(f,ht),E(f,ft),E(f,pt),E(f,mt))}if(u=hi(f),lt(u)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}=Cl(f)),{hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}=Ci(e,y,p,h,t,c,s)}else if({hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c,calendar:u}=sf(lt(f)),ca(e,y,p,h,t,c),u!==void 0&&u!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");const d=at("%Temporal.PlainTime%");return new d(e,y,p,h,t,c)}function $o(_,s=Wt(null)){if(Jt(_)){if(At(_))return _;const u=hi(_),d=fr(u,["month","monthCode","year"]),l=rn(_,d);return co(u,l,s)}Lr(s);let{year:f,month:e,referenceISODay:y,calendar:p}=Nc(lt(_)),h=p;if(h===void 0&&(h=vr()),h=Ir(h),y===void 0)return Bn(f,e,1),Bi(f,e,h);const t=Bi(f,e,h,y),c=Wt(null);return co(h,t,c)}function Bs(_,s,f,e,y,p,h,t,c,u,d,l,n,r,o){const i=at("%Temporal.PlainDateTime%"),a=new i(_,s,f,e,y,p,h,t,c);if(u==="wall"||r==="ignore"){const b=Qr(l,a,n);return E(b,ot)}if(u==="exact"||r==="use"){const b=fo(_,s,f,e,y,p,h,t,c);if(b===null)throw new RangeError("ZonedDateTime outside of supported range");return k.subtract(b,k.BigInt(d))}const m=Gs(l,a);for(const b of m){const x=Dn(l,b),S=k.toNumber(nn(k.BigInt(x),6e10,"halfExpand"));if(x===d||o&&S===d)return E(b,ot)}if(r==="reject"){const b=Al(d),x=An(l)?E(l,lo):"time zone";throw new RangeError(`Offset ${b} is invalid for ${a.toString()} in ${x}`)}const v=Yc(m,l,a,n);return E(v,ot)}function Xo(_,s=Wt(null)){let f,e,y,p,h,t,c,u,d,l,n,r,o=!1,i="option";if(Jt(_)){if(Je(_))return _;r=hi(_);const x=fr(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),S=pf(_,x);({year:f,month:e,day:y,hour:p,minute:h,second:t,millisecond:c,microsecond:u,nanosecond:d}=os(r,S,s)),l=Jr(S.timeZone),n=S.offset,n===void 0?i="wall":n=lt(n)}else{Lr(s);let x,S;if({year:f,month:e,day:y,hour:p,minute:h,second:t,millisecond:c,microsecond:u,nanosecond:d,ianaName:x,offset:n,z:S,calendar:r}=rf(lt(_)),!x)throw new RangeError("time zone ID required in brackets");S?i="exact":n||(i="wall");const M=at("%Temporal.TimeZone%");l=new M(x),r||(r=vr()),r=Ir(r),o=!0}let a=0;i==="option"&&(a=Io(n));const m=Ni(s),v=Qa(s,"reject"),b=Bs(f,e,y,p,h,t,c,u,d,i,a,l,m,v,o);return kr(b,l,r)}function Gc(_,s,f,e,y){Bn(s,f,e),rd(s,f,e),zn(_),Et(_,Ye,s),Et(_,$e,f),Et(_,Xe,e),Et(_,Se,y),Et(_,mc,!0),Zh(_,"_repr_",{value:`${_[Symbol.toStringTag]} <${rl(_)}>`,writable:!1,enumerable:!1,configurable:!1})}function xn(_,s,f,e=vr()){const y=at("%Temporal.PlainDate%"),p=Wt(y.prototype);return Gc(p,_,s,f,e),p}function Vc(_,s,f,e,y,p,h,t,c,u,d){nd(s,f,e,y,p,h,t,c,u),od(s,f,e,y,p,h,t,c,u),zn(_),Et(_,Ye,s),Et(_,$e,f),Et(_,Xe,e),Et(_,ct,y),Et(_,dt,p),Et(_,ht,h),Et(_,ft,t),Et(_,pt,c),Et(_,mt,u),Et(_,Se,d),Object.defineProperty(_,"_repr_",{value:`${_[Symbol.toStringTag]} <${nl(_,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}function en(_,s,f,e,y,p,h,t,c,u=vr()){const d=at("%Temporal.PlainDateTime%"),l=Wt(d.prototype);return Vc(l,_,s,f,e,y,p,h,t,c,u),l}function zc(_,s,f,e,y){Bn(y,s,f),rd(y,s,f),zn(_),Et(_,$e,s),Et(_,Xe,f),Et(_,Ye,y),Et(_,Se,e),Et(_,gc,!0),Object.defineProperty(_,"_repr_",{value:`${_[Symbol.toStringTag]} <${ol(_)}>`,writable:!1,enumerable:!1,configurable:!1})}function Fi(_,s,f=vr(),e=1972){const y=at("%Temporal.PlainMonthDay%"),p=Wt(y.prototype);return zc(p,_,s,f,e),p}function Hc(_,s,f,e,y){Bn(s,f,y),xf(s,f),zn(_),Et(_,Ye,s),Et(_,$e,f),Et(_,Xe,y),Et(_,Se,e),Et(_,yc,!0),Object.defineProperty(_,"_repr_",{value:`${_[Symbol.toStringTag]} <${il(_)}>`,writable:!1,enumerable:!1,configurable:!1})}function Bi(_,s,f=vr(),e=1){const y=at("%Temporal.PlainYearMonth%"),p=Wt(y.prototype);return Hc(p,_,s,f,e),p}function qc(_,s,f,e){Co(s),zn(_),Et(_,ot,s),Et(_,Pt,f),Et(_,Se,e);const y=at("%Temporal.Instant%"),p=new y(E(_,ot));Et(_,Nr,p),Object.defineProperty(_,"_repr_",{value:`${_[Symbol.toStringTag]} <${sl(_,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}function kr(_,s,f=vr()){const e=at("%Temporal.ZonedDateTime%"),y=Wt(e.prototype);return qc(y,_,s,f),y}function vr(){const _=at("%Temporal.Calendar%");return new _("iso8601")}function fr(_,s){let f=s;_.fields&&(f=_.fields(f));const e=[];for(const y of f){if(typeof y!="string")throw new TypeError("bad return from calendar.fields()");Dc.call(e,y)}return e}function Ao(_,s,f){const e=_.mergeFields;if(!e)return Mt(Mt({},s),f);const y=Reflect.apply(e,_,[s,f]);if(!Jt(y))throw new TypeError("bad return from calendar.mergeFields()");return y}function $r(_,s,f,e,y){let p=y;p===void 0&&(p=_.dateAdd);const h=El(p,_,[s,f,e]);if(!Dt(h))throw new TypeError("invalid result");return h}function Fn(_,s,f,e,y){let p=y;p===void 0&&(p=_.dateUntil);const h=El(p,_,[s,f,e]);if(!lr(h))throw new TypeError("invalid result");return h}function ta(_,s){const f=_.year(s);if(f===void 0)throw new RangeError("calendar year result must be an integer");return qt(f)}function ra(_,s){const f=_.month(s);if(f===void 0)throw new RangeError("calendar month result must be a positive integer");return ti(f)}function is(_,s){const f=_.monthCode(s);if(f===void 0)throw new RangeError("calendar monthCode result must be a string");return lt(f)}function na(_,s){const f=_.day(s);if(f===void 0)throw new RangeError("calendar day result must be a positive integer");return ti(f)}function oa(_,s){let f=_.era(s);return f!==void 0&&(f=lt(f)),f}function ia(_,s){let f=_.eraYear(s);return f!==void 0&&(f=qt(f)),f}function Dl(_,s){return _.dayOfWeek(s)}function Ol(_,s){return _.dayOfYear(s)}function kl(_,s){return _.weekOfYear(s)}function Pl(_,s){return _.daysInWeek(s)}function ei(_,s){return _.daysInMonth(s)}function sa(_,s){return _.daysInYear(s)}function aa(_,s){return _.monthsInYear(s)}function la(_,s){return _.inLeapYear(s)}function Ir(_){let s=_;if(Jt(s)){if(Mr(s,Se))return E(s,Se);if(!("calendar"in s)||(s=s.calendar,Jt(s)&&!("calendar"in s)))return s}const f=lt(s),e=at("%Temporal.Calendar%");if(Tc(f))return new e(f);let y;try{({calendar:y}=Hn(f))}catch{throw new RangeError(`Invalid calendar: ${f}`)}return y||(y="iso8601"),new e(y)}function hi(_){if(Mr(_,Se))return E(_,Se);const{calendar:s}=_;return s===void 0?vr():Ir(s)}function ss(_,s){if(_===s)return!0;const f=lt(_),e=lt(s);return f===e}function Wc(_,s){if(_===s)return s;const f=lt(_),e=lt(s);if(f===e||f==="iso8601")return s;if(e==="iso8601")return _;throw new RangeError("irreconcilable calendars")}function jn(_,s,f){const e=_.dateFromFields(s,f);if(!Dt(e))throw new TypeError("invalid result");return e}function co(_,s,f){const e=_.yearMonthFromFields(s,f);if(!At(e))throw new TypeError("invalid result");return e}function ni(_,s,f){const e=_.monthDayFromFields(s,f);if(!Dr(e))throw new TypeError("invalid result");return e}function Jr(_){let s=_;if(Jt(s)){if(Je(s))return E(s,Pt);if(!("timeZone"in s)||(s=s.timeZone,Jt(s)&&!("timeZone"in s)))return s}const f=lt(s),e=Ic(f),y=at("%Temporal.TimeZone%");return new y(e)}function Pa(_,s){if(_===s)return!0;const f=lt(_),e=lt(s);return f===e}function Po(_){return xn(E(_,Ye),E(_,$e),E(_,Xe),E(_,Se))}function Ll(_){const s=at("%Temporal.PlainTime%");return new s(E(_,ct),E(_,dt),E(_,ht),E(_,ft),E(_,pt),E(_,mt))}function Dn(_,s){let f=_.getOffsetNanosecondsFor;if(typeof f!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const e=Reflect.apply(f,_,[s]);if(typeof e!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Rc(e)||Lt(e)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return e}function tl(_,s){const f=Dn(_,s);return Al(f)}function dn(_,s,f){const e=E(s,ot),y=Dn(_,s);let{year:p,month:h,day:t,hour:c,minute:u,second:d,millisecond:l,microsecond:n,nanosecond:r}=Xc(e);return{year:p,month:h,day:t,hour:c,minute:u,second:d,millisecond:l,microsecond:n,nanosecond:r}=Jc(p,h,t,c,u,d,l,n,r+y),en(p,h,t,c,u,d,l,n,r,f)}function Qr(_,s,f){const e=Gs(_,s);return Yc(e,_,s,f)}function Yc(_,s,f,e){const y=at("%Temporal.Instant%"),p=_.length;if(p===1)return _[0];if(p)switch(e){case"compatible":case"earlier":return _[0];case"later":return _[p-1];case"reject":throw new RangeError("multiple instants found")}const h=E(f,Ye),t=E(f,$e),c=E(f,Xe),u=E(f,ct),d=E(f,dt),l=E(f,ht),n=E(f,ft),r=E(f,pt),o=E(f,mt),i=fo(h,t,c,u,d,l,n,r,o);if(i===null)throw new RangeError("DateTime outside of supported range");const a=new y(k.subtract(i,ho)),m=new y(k.add(i,ho)),v=Dn(s,a),x=Dn(s,m)-v;switch(e){case"earlier":{const S=E(f,Se),M=at("%Temporal.PlainDateTime%"),C=qs(h,t,c,u,d,l,n,r,o,S,0,0,0,0,0,0,0,0,0,-x,void 0),O=new M(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond,C.microsecond,C.nanosecond,S);return Gs(s,O)[0]}case"compatible":case"later":{const S=E(f,Se),M=at("%Temporal.PlainDateTime%"),C=qs(h,t,c,u,d,l,n,r,o,S,0,0,0,0,0,0,0,0,0,x,void 0),O=new M(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond,C.microsecond,C.nanosecond,S),R=Gs(s,O);return R[R.length-1]}case"reject":throw new RangeError("no such instant found")}}function Gs(_,s){const f=_.getPossibleInstantsFor(s),e=[];for(const y of f){if(!wr(y))throw new TypeError("bad return from getPossibleInstantsFor");Dc.call(e,y)}return e}function Uo(_){let s;if(_<1e3||_>9999){const f=_<0?"-":"+",e=Lt(_);s=f+`000000${e}`.slice(-6)}else s=`${_}`;return s}function rr(_){return`00${_}`.slice(-2)}function ua(_,s,f,e,y){if(y==="minute")return"";const p=`:${rr(_)}`;let h=s*1e6+f*1e3+e,t;if(y==="auto"){if(h===0)return p;for(t=`${h}`.padStart(9,"0");t[t.length-1]==="0";)t=t.slice(0,-1)}else{if(y===0)return p;t=`${h}`.padStart(9,"0").slice(0,y)}return`${p}.${t}`}function La(_,s,f){let e=s;if(e===void 0){const r=at("%Temporal.TimeZone%");e=new r("UTC")}const y=vr(),p=dn(e,_,y),h=Uo(E(p,Ye)),t=rr(E(p,$e)),c=rr(E(p,Xe)),u=rr(E(p,ct)),d=rr(E(p,dt)),l=ua(E(p,ht),E(p,ft),E(p,pt),E(p,mt),f);let n="Z";if(s!==void 0){const r=Dn(e,_);n=$c(r)}return`${h}-${t}-${c}T${u}:${d}${l}${n}`}function vs(_,s="auto",f=void 0){function e(R){return R<=Xh?R.toString(10):k.BigInt(R).toString(10)}const y=E(_,Fr),p=E(_,Er),h=E(_,Kr),t=E(_,Br),c=E(_,Gr),u=E(_,Vr);let d=E(_,zr),l=E(_,Hr),n=E(_,qr),r=E(_,Wr);const o=bn(y,p,h,t,c,u,d,l,n,r);if(f){const{unit:R,increment:P,roundingMode:L}=f;({seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=gn(0,0,0,0,0,0,d,l,n,r,P,R,L))}const i=[];y&&i.push(`${e(Lt(y))}Y`),p&&i.push(`${e(Lt(p))}M`),h&&i.push(`${e(Lt(h))}W`),t&&i.push(`${e(Lt(t))}D`);const a=[];c&&a.push(`${e(Lt(c))}H`),u&&a.push(`${e(Lt(u))}M`);const m=[];let v=oi(0,0,0,d,l,n,r,0),b,x,S,M;({quotient:v,remainder:b}=Sr(v,Ft)),{quotient:v,remainder:x}=Sr(v,Ft),{quotient:M,remainder:S}=Sr(v,Ft);const C=Lt(k.toNumber(S))*1e6+Lt(k.toNumber(x))*1e3+Lt(k.toNumber(b));let O;if(s==="auto"){if(C!==0)for(O=`${C}`.padStart(9,"0");O[O.length-1]==="0";)O=O.slice(0,-1)}else s!==0&&(O=`${C}`.padStart(9,"0").slice(0,s));return O&&m.unshift(".",O),(!k.equal(M,gr)||m.length||s!=="auto")&&m.unshift(Ml(M).toString()),m.length&&a.push(`${m.join("")}S`),a.length&&a.unshift("T"),!i.length&&!a.length?"PT0S":`${o<0?"-":""}P${i.join("")}${a.join("")}`}function rl(_,s="auto"){const f=Uo(E(_,Ye)),e=rr(E(_,$e)),y=rr(E(_,Xe)),p=lt(E(_,Se)),h=es(p,s);return`${f}-${e}-${y}${h}`}function nl(_,s,f="auto",e=void 0){let y=E(_,Ye),p=E(_,$e),h=E(_,Xe),t=E(_,ct),c=E(_,dt),u=E(_,ht),d=E(_,ft),l=E(_,pt),n=E(_,mt);if(e){const{unit:S,increment:M,roundingMode:C}=e;({year:y,month:p,day:h,hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}=Ul(y,p,h,t,c,u,d,l,n,M,S,C))}const r=Uo(y),o=rr(p),i=rr(h),a=rr(t),m=rr(c),v=ua(u,d,l,n,s),b=lt(E(_,Se)),x=es(b,f);return`${r}-${o}-${i}T${a}:${m}${v}${x}`}function ol(_,s="auto"){const f=rr(E(_,$e)),e=rr(E(_,Xe));let y=`${f}-${e}`;const p=E(_,Se),h=lt(p);h!=="iso8601"&&(y=`${Uo(E(_,Ye))}-${y}`);const t=es(h,s);return t&&(y+=t),y}function il(_,s="auto"){const f=Uo(E(_,Ye)),e=rr(E(_,$e));let y=`${f}-${e}`;const p=E(_,Se),h=lt(p);h!=="iso8601"&&(y+=`-${rr(E(_,Xe))}`);const t=es(h,s);return t&&(y+=t),y}function sl(_,s,f="auto",e="auto",y="auto",p=void 0){let h=E(_,Nr);if(p){const{unit:v,increment:b,roundingMode:x}=p,S=Ws(E(_,ot),b,v,x),M=at("%Temporal.Instant%");h=new M(S)}const t=E(_,Pt),c=vr(),u=dn(t,h,c),d=Uo(E(u,Ye)),l=rr(E(u,$e)),n=rr(E(u,Xe)),r=rr(E(u,ct)),o=rr(E(u,dt)),i=ua(E(u,ht),E(u,ft),E(u,pt),E(u,mt),s);let a=`${d}-${l}-${n}T${r}:${o}${i}`;if(y!=="never"){const v=Dn(t,h);a+=$c(v)}e!=="never"&&(a+=`[${t}]`);const m=lt(E(_,Se));return a+=es(m,f),a}function Qo(_){return sd.test(Ji(_))}function Io(_){const s=sd.exec(Ji(_));if(!s)throw new RangeError(`invalid time zone offset: ${_}`);const f=s[1]==="-"||s[1]==="\u2212"?-1:1,e=+s[2],y=+(s[3]||0),p=+(s[4]||0),h=+((s[5]||0)+"000000000").slice(0,9);return f*(((e*60+y)*60+p)*1e9+h)}function Rl(_){if(Qo(_)){const f=Io(_);return Al(f)}return Ac(Ji(_)).resolvedOptions().timeZone}function to(_,s){const{year:f,month:e,day:y,hour:p,minute:h,second:t,millisecond:c,microsecond:u,nanosecond:d}=Zc(_,s),l=fo(f,e,y,p,h,t,c,u,d);if(l===null)throw new RangeError("Date outside of supported range");return k.toNumber(k.subtract(l,_))}function Al(_){const s=_<0?"-":"+",f=Lt(_),e=f%1e9,y=jr(f/1e9)%60,p=jr(f/6e10)%60,h=jr(f/36e11),t=rr(h),c=rr(p),u=rr(y);let d="";if(e){let l=`${e}`.padStart(9,"0");for(;l[l.length-1]==="0";)l=l.slice(0,-1);d=`:${u}.${l}`}else y&&(d=`:${u}`);return`${s}${t}:${c}${d}`}function $c(_){let s=k.toNumber(nn(k.BigInt(_),6e10,"halfExpand"));const f=s<0?"-":"+";s=Lt(s);const e=s/6e10%60,y=jr(s/36e11),p=rr(y),h=rr(e);return`${f}${p}:${h}`}function fo(_,s,f,e,y,p,h,t,c){const u=new Date;u.setUTCHours(e,y,p,h),u.setUTCFullYear(_,s-1,f);const d=u.getTime();if(Qi(d))return null;let l=k.multiply(k.BigInt(d),pn);return l=k.add(l,k.multiply(k.BigInt(t),Ft)),l=k.add(l,k.BigInt(c)),k.lessThan(l,Ri)||k.greaterThan(l,Ai)?null:l}function Xc(_){const{quotient:s,remainder:f}=Sr(_,pn);let e=k.toNumber(s),y=k.toNumber(f);y<0&&(y+=1e6,e-=1);const p=jr(y/1e3)%1e3,h=y%1e3,t=new Date(e),c=t.getUTCFullYear(),u=t.getUTCMonth()+1,d=t.getUTCDate(),l=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return{epochMilliseconds:e,year:c,month:u,day:d,hour:l,minute:n,second:r,millisecond:o,microsecond:p,nanosecond:h}}function Zc(_,s){const{epochMilliseconds:f,millisecond:e,microsecond:y,nanosecond:p}=Xc(_),{year:h,month:t,day:c,hour:u,minute:d,second:l}=gf(s,f);return Jc(h,t,c,u,d,l,e,y,p)}function Xu(_,s){return k.lessThan(_,s)?s:_}function Kc(){return k.add(Bl(),ef)}function mf(_,s){const f=k.add(_,Pc),e=Xu(Kc(),f);let y=Xu(kc,_);const p=to(y,s);let h=y,t=p;for(;p===t&&k.lessThan(k.BigInt(y),e);)h=k.add(y,Lc),t=to(h,s),p===t&&(y=h);return p===t?null:ad(u=>to(u,s),y,h,p,t)}function Qc(_,s){const f=Kc(),e=k.greaterThan(_,f),y=e?k.subtract(_,Pc):kc;let p=k.subtract(_,jl);const h=to(p,s);let t=p,c=h;for(;h===c&&k.greaterThan(p,y);)t=k.subtract(p,Lc),c=to(t,s),h===c&&(p=t);if(h===c){if(e){const d=k.subtract(f,ho);return Qc(d,s)}return null}return ad(d=>to(d,s),t,p,c,h)}function yf(_){const s=_.split(/[^\w]+/);if(s.length!==7)throw new RangeError(`expected 7 parts in "${_}`);const f=+s[0],e=+s[1];let y=+s[2];const p=s[3].toUpperCase();if(p==="B"||p==="BC")y=-y+1;else if(p!=="A"&&p!=="AD")throw new RangeError(`Unknown era ${p} in "${_}`);let h=+s[4];h===24&&(h=0);const t=+s[5],c=+s[6];if(!Pr(y)||!Pr(f)||!Pr(e)||!Pr(h)||!Pr(t)||!Pr(c))throw new RangeError(`Invalid number in "${_}`);return{year:y,month:f,day:e,hour:h,minute:t,second:c}}function gf(_,s){const e=Ac(_).format(new Date(s));return yf(e)}function vf(_,s,f,e,y,p,h,t,c,u){const d=fo(s,f,e,y,p,h,t,c,u);if(d===null)throw new RangeError("DateTime outside of supported range");let l=k.subtract(d,ho);k.lessThan(l,Ri)&&(l=d);let n=k.add(d,ho);k.greaterThan(n,Ai)&&(n=d);const r=to(l,_),o=to(n,_);return(r===o?[r]:[r,o]).map(a=>{const m=k.subtract(d,k.BigInt(a)),v=Zc(m,_);if(!(s!==v.year||f!==v.month||e!==v.day||y!==v.hour||p!==v.minute||h!==v.second||t!==v.millisecond||c!==v.microsecond||u!==v.nanosecond))return m}).filter(a=>a!==void 0)}function po(_){if(_===void 0)return!1;const s=_%4===0,f=_%100===0,e=_%400===0;return s&&(!f||e)}function ro(_,s){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[po(_)?"leapyear":"standard"][s-1]}function al(_,s,f){const e=s+(s<3?10:-2),y=_-(s<3?1:0),p=jr(y/100),h=y-p*100,c=f,u=jr(2.6*e-.2),d=h+jr(h/4),l=jr(p/4)-2*p,n=(c+u+d+l)%7;return n+(n<=0?7:0)}function Vs(_,s,f){let e=f;for(let y=s-1;y>0;y--)e+=ro(_,y);return e}function bf(_,s,f){const e=Vs(_,s,f),y=al(_,s,f)||7,p=al(_,1,1),h=jr((e-y+10)/7);return h<1?p===5||p===6&&po(_-1)?53:52:h===53&&(po(_)?366:365)-e<4-y?1:h}function bn(_,s,f,e,y,p,h,t,c,u){for(const d of[_,s,f,e,y,p,h,t,c,u])if(d!==0)return d<0?-1:1;return 0}function Ms(_,s){let f=_,e=s;if(!Pr(f)||!Pr(e))throw new RangeError("infinity is out of range");return e-=1,f+=jr(e/12),e%=12,e<0&&(e+=12),e+=1,{year:f,month:e}}function Gi(_,s,f){let e=_,y=s,p=f;if(!Pr(p))throw new RangeError("infinity is out of range");({year:e,month:y}=Ms(e,y));let h=0,t=y>2?e:e-1;for(;h=po(t)?366:365,p<-h;)e-=1,t-=1,p+=h;for(t+=1;h=po(t)?366:365,p>h;)e+=1,t+=1,p-=h;for(;p<1;)({year:e,month:y}=Ms(e,y-1)),p+=ro(e,y);for(;p>ro(e,y);)p-=ro(e,y),{year:e,month:y}=Ms(e,y+1);return{year:e,month:y,day:p}}function Jc(_,s,f,e,y,p,h,t,c){const{deltaDays:u,hour:d,minute:l,second:n,millisecond:r,microsecond:o,nanosecond:i}=Xn(e,y,p,h,t,c),{year:a,month:m,day:v}=Gi(_,s,f+u);return{year:a,month:m,day:v,hour:d,minute:l,second:n,millisecond:r,microsecond:o,nanosecond:i}}function Xn(_,s,f,e,y,p){let h=_,t=s,c=f,u=e,d=y,l=p;if(!Pr(h)||!Pr(t)||!Pr(c)||!Pr(u)||!Pr(d)||!Pr(l))throw new RangeError("infinity is out of range");d+=jr(l/1e3),l=Zo(l,1e3),u+=jr(d/1e3),d=Zo(d,1e3),c+=jr(u/1e3),u=Zo(u,1e3),t+=jr(c/60),c=Zo(c,60),h+=jr(t/60),t=Zo(t,60);const n=jr(h/24);return h=Zo(h,24),{deltaDays:n,hour:h,minute:t,second:c,millisecond:u,microsecond:d,nanosecond:l}}function oi(_,s,f,e,y,p,h,t){const c=k.BigInt(_);let u=k.BigInt(h);_!==0&&(u=k.subtract(k.BigInt(h),k.BigInt(t)));const d=k.add(k.BigInt(s),k.multiply(c,k.BigInt(24))),l=k.add(k.BigInt(f),k.multiply(d,Oo)),n=k.add(k.BigInt(e),k.multiply(l,Oo)),r=k.add(k.BigInt(y),k.multiply(n,Ft)),o=k.add(k.BigInt(p),k.multiply(r,Ft));return k.add(k.BigInt(u),k.multiply(o,Ft))}function Il(_,s){const f=at("%Temporal.Instant%"),e=Li(k.toNumber(_));let y=k.BigInt(_),p=864e11;if(e===0)return{days:0,nanoseconds:gr,dayLengthNs:p};if(!Je(s)){let v;return{quotient:v,remainder:y}=Sr(y,k.BigInt(p)),{days:k.toNumber(v),nanoseconds:y,dayLengthNs:p}}const h=E(s,ot),t=E(s,Nr),c=k.add(h,y),u=new f(c),d=E(s,Pt),l=E(s,Se),n=dn(d,t,l),r=dn(d,u,l);let{days:o}=zs(E(n,Ye),E(n,$e),E(n,Xe),E(n,ct),E(n,dt),E(n,ht),E(n,ft),E(n,pt),E(n,mt),E(r,Ye),E(r,$e),E(r,Xe),E(r,ct),E(r,dt),E(r,ht),E(r,ft),E(r,pt),E(r,mt),l,"day"),i=un(t,d,l,0,0,0,o,0,0,0,0,0,0);if(e===1)for(;o>0&&k.greaterThan(i,c);)--o,i=un(t,d,l,0,0,0,o,0,0,0,0,0,0);y=k.subtract(c,i);let a=!1,m=new f(i);do{const v=un(m,d,l,0,0,0,e,0,0,0,0,0,0),b=E(m,ot);p=k.toNumber(k.subtract(v,b)),a=k.greaterThan(k.multiply(k.subtract(y,k.BigInt(p)),k.BigInt(e)),gr),a&&(y=k.subtract(y,k.BigInt(p)),m=new f(v),o+=e)}while(a);return{days:o,nanoseconds:y,dayLengthNs:Lt(p)}}function Ar(_,s,f,e,y,p,h,t,c=void 0){let u=_,d,l,n,r,o,i;if(Je(c)){const C=un(E(c,Nr),E(c,Pt),E(c,Se),0,0,0,u,s,f,e,y,p,h),O=E(c,ot);d=k.subtract(C,O)}else d=oi(u,s,f,e,y,p,h,0);t==="year"||t==="month"||t==="week"||t==="day"?{days:u,nanoseconds:d}=Il(d,c):u=0;const a=k.lessThan(d,gr)?-1:1;switch(d=Ml(d),l=n=r=o=i=gr,t){case"year":case"month":case"week":case"day":case"hour":({quotient:l,remainder:d}=Sr(d,Ft)),{quotient:n,remainder:l}=Sr(l,Ft),{quotient:r,remainder:n}=Sr(n,Ft),{quotient:o,remainder:r}=Sr(r,Oo),{quotient:i,remainder:o}=Sr(o,Oo);break;case"minute":({quotient:l,remainder:d}=Sr(d,Ft)),{quotient:n,remainder:l}=Sr(l,Ft),{quotient:r,remainder:n}=Sr(n,Ft),{quotient:o,remainder:r}=Sr(r,Oo);break;case"second":({quotient:l,remainder:d}=Sr(d,Ft)),{quotient:n,remainder:l}=Sr(l,Ft),{quotient:r,remainder:n}=Sr(n,Ft);break;case"millisecond":({quotient:l,remainder:d}=Sr(d,Ft)),{quotient:n,remainder:l}=Sr(l,Ft);break;case"microsecond":({quotient:l,remainder:d}=Sr(d,Ft));break;case"nanosecond":break;default:throw new Error("assert not reached")}const m=k.toNumber(i)*a,v=k.toNumber(o)*a,b=k.toNumber(r)*a,x=k.toNumber(n)*a,S=k.toNumber(l)*a,M=k.toNumber(d)*a;return{days:u,hours:m,minutes:v,seconds:b,milliseconds:x,microseconds:S,nanoseconds:M}}function bs(_,s,f,e,y,p){let h=_,t=s,c=f,u=e;const d=at("%Temporal.Duration%"),l=bn(h,t,c,u,0,0,0,0,0,0);let n,r;p&&(r=zt(p),n=E(r,Se));const o=new d(l),i=new d(0,l),a=new d(0,0,l);switch(y){case"year":break;case"month":{if(!n)throw new RangeError("a starting point is required for months balancing");const m=n.dateAdd,v=n.dateUntil;let b=r;for(;Lt(h)>0;){const x=Wt(null),S=$r(n,b,o,x,m),M=Wt(null);M.largestUnit="month";const C=Fn(n,b,S,M,v),O=E(C,Er);b=S,t+=O,h-=l}}break;case"week":if(!n)throw new RangeError("a starting point is required for weeks balancing");for(;Lt(h)>0;){let m;({relativeTo:r,days:m}=Yr(n,r,o)),u+=m,h-=l}for(;Lt(t)>0;){let m;({relativeTo:r,days:m}=Yr(n,r,i)),u+=m,t-=l}break;default:for(;Lt(h)>0;){if(!n)throw new RangeError("a starting point is required for balancing calendar units");let m;({relativeTo:r,days:m}=Yr(n,r,o)),u+=m,h-=l}for(;Lt(t)>0;){if(!n)throw new RangeError("a starting point is required for balancing calendar units");let m;({relativeTo:r,days:m}=Yr(n,r,i)),u+=m,t-=l}for(;Lt(c)>0;){if(!n)throw new RangeError("a starting point is required for balancing calendar units");let m;({relativeTo:r,days:m}=Yr(n,r,a)),u+=m,c-=l}break}return{years:h,months:t,weeks:c,days:u}}function wf(_,s,f,e,y,p){let h=_,t=s,c=f,u=e;const d=at("%Temporal.Duration%"),l=bn(h,t,c,u,0,0,0,0,0,0);if(l===0)return{years:h,months:t,weeks:c,days:u};let n,r;p&&(r=zt(p),n=E(r,Se));const o=new d(l),i=new d(0,l),a=new d(0,0,l);switch(y){case"year":{if(!n)throw new RangeError("a starting point is required for years balancing");let m,v;for({relativeTo:m,days:v}=Yr(n,r,o);Lt(u)>=Lt(v);)u-=v,h+=l,r=m,{relativeTo:m,days:v}=Yr(n,r,o);let b;for({relativeTo:m,days:b}=Yr(n,r,i);Lt(u)>=Lt(b);)u-=b,t+=l,r=m,{relativeTo:m,days:b}=Yr(n,r,i);const x=n.dateAdd,S=Wt(null);m=$r(n,r,o,S,x);const M=n.dateUntil,C=Wt(null);C.largestUnit="month";let O=Fn(n,r,m,C,M),R=E(O,Er);for(;Lt(t)>=Lt(R);){t-=R,h+=l,r=m;const P=Wt(null);m=$r(n,r,o,P,x);const L=Wt(null);L.largestUnit="month",O=Fn(n,r,m,L,M),R=E(O,Er)}break}case"month":{if(!n)throw new RangeError("a starting point is required for months balancing");let m,v;for({relativeTo:m,days:v}=Yr(n,r,i);Lt(u)>=Lt(v);)u-=v,t+=l,r=m,{relativeTo:m,days:v}=Yr(n,r,i);break}case"week":{if(!n)throw new RangeError("a starting point is required for weeks balancing");let m,v;for({relativeTo:m,days:v}=Yr(n,r,a);Lt(u)>=Lt(v);)u-=v,c+=l,r=m,{relativeTo:m,days:v}=Yr(n,r,a);break}}return{years:h,months:t,weeks:c,days:u}}function Zu(_,s,f,e,y,p,h,t,c,u,d){if(Je(_)){const l=E(_,Nr),n=E(_,Pt),r=E(_,Se),o=Dn(n,l),i=un(l,n,r,s,f,e,y,p,h,t,c,u,d),a=at("%Temporal.Instant%"),m=new a(i);return Dn(n,m)-o}return 0}function ed(_){const s=at("%Temporal.Duration%");return new s(-E(_,Fr),-E(_,Er),-E(_,Kr),-E(_,Br),-E(_,Gr),-E(_,Vr),-E(_,zr),-E(_,Hr),-E(_,qr),-E(_,Wr))}function on(_,s,f){return Wh(f,Yh(s,_))}function td(_,s,f){const e=on(s,1,12),y=on(f,1,ro(_,e));return{year:_,month:e,day:y}}function _f(_,s,f,e,y,p){const h=on(_,0,23),t=on(s,0,59),c=on(f,0,59),u=on(e,0,999),d=on(y,0,999),l=on(p,0,999);return{hour:h,minute:t,second:c,millisecond:u,microsecond:d,nanosecond:l}}function Ur(_,s,f){if(_<s||_>f)throw new RangeError(`value out of range: ${s} <= ${_} <= ${f}`)}function Bn(_,s,f){Ur(s,1,12),Ur(f,1,ro(_,s))}function rd(_,s,f){od(_,s,f,12,0,0,0,0,0)}function ca(_,s,f,e,y,p){Ur(_,0,23),Ur(s,0,59),Ur(f,0,59),Ur(e,0,999),Ur(y,0,999),Ur(p,0,999)}function nd(_,s,f,e,y,p,h,t,c){Bn(_,s,f),ca(e,y,p,h,t,c)}function od(_,s,f,e,y,p,h,t,c){if(Ur(_,As,Is),_===As&&fo(_,s,f+1,e,y,p,h,t,c-1)==null||_===Is&&fo(_,s,f-1,e,y,p,h,t,c+1)==null)throw new RangeError("DateTime outside of supported range")}function Co(_){if(k.lessThan(_,Ri)||k.greaterThan(_,Ai))throw new RangeError("Instant outside of supported range")}function xf(_,s){Ur(_,As,Is),_===As?Ur(s,4,12):_===Is&&Ur(s,1,9)}function id(_,s,f,e,y,p,h,t,c,u){const d=bn(_,s,f,e,y,p,h,t,c,u);for(const l of[_,s,f,e,y,p,h,t,c,u]){if(!Pr(l))throw new RangeError("infinite values not allowed as duration fields");const n=Li(l);if(n!==0&&n!==d)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Nl(_,s,f,e,y,p,h){switch(h){case"year":case"month":{const t=-Zn(_,s,f,e,y,p);if(t===0)return{years:0,months:0,weeks:0,days:0};const c={year:_,month:s,day:f},u={year:e,month:y,day:p};let d=u.year-c.year,l=Lo(_,s,f,d,0,0,0,"constrain"),n=-Zn(l.year,l.month,l.day,e,y,p);if(n===0)return h==="year"?{years:d,months:0,weeks:0,days:0}:{years:0,months:d*12,weeks:0,days:0};let r=u.month-c.month;if(n!==t&&(d-=t,r+=t*12),l=Lo(_,s,f,d,r,0,0,"constrain"),n=-Zn(l.year,l.month,l.day,e,y,p),n===0)return h==="year"?{years:d,months:r,weeks:0,days:0}:{years:0,months:r+d*12,weeks:0,days:0};n!==t&&(r-=t,r===-t&&(d-=t,r=11*t),l=Lo(_,s,f,d,r,0,0,"constrain"),n=-Zn(_,s,f,l.year,l.month,l.day));let o=0;return l.month===u.month?o=u.day-l.day:t<0?o=-l.day-(ro(u.year,u.month)-u.day):o=u.day+(ro(l.year,l.month)-l.day),h==="month"&&(r+=d*12,d=0),{years:d,months:r,weeks:0,days:o}}case"week":case"day":{let t,c,u;Zn(_,s,f,e,y,p)<0?(c={year:_,month:s,day:f},t={year:e,month:y,day:p},u=1):(c={year:e,month:y,day:p},t={year:_,month:s,day:f},u=-1);let d=Vs(t.year,t.month,t.day)-Vs(c.year,c.month,c.day);for(let n=c.year;n<t.year;++n)d+=po(n)?366:365;let l=0;return h==="week"&&(l=jr(d/7),d%=7),l*=u,d*=u,{years:0,months:0,weeks:l,days:d}}default:throw new Error("assert not reached")}}function ll(_,s,f,e,y,p,h,t,c,u,d,l){let n=h-_,r=t-s,o=c-f,i=u-e,a=d-y,m=l-p;const v=bn(0,0,0,0,n,r,o,i,a,m);n*=v,r*=v,o*=v,i*=v,a*=v,m*=v;let b=0;return{deltaDays:b,hour:n,minute:r,second:o,millisecond:i,microsecond:a,nanosecond:m}=Xn(n,r,o,i,a,m),b*=v,n*=v,r*=v,o*=v,i*=v,a*=v,m*=v,{deltaDays:b,hours:n,minutes:r,seconds:o,milliseconds:i,microseconds:a,nanoseconds:m}}function Vi(_,s,f,e,y){const p=k.subtract(s,_),h=k.remainder(p,k.BigInt(864e11)),t=k.subtract(p,h),c=nn(h,Gl[e]*f,y),u=k.add(t,c),d=k.toNumber(k.remainder(u,Ft)),l=k.toNumber(k.remainder(k.divide(u,Ft),Ft)),n=k.toNumber(k.remainder(k.divide(u,pn),Ft));return{seconds:k.toNumber(k.divide(u,eo)),milliseconds:n,microseconds:l,nanoseconds:d}}function zs(_,s,f,e,y,p,h,t,c,u,d,l,n,r,o,i,a,m,v,b,x=Wt(null)){let S=_,M=s,C=f,{deltaDays:O,hours:R,minutes:P,seconds:L,milliseconds:U,microseconds:A,nanoseconds:B}=ll(e,y,p,h,t,c,n,r,o,i,a,m);const F=bn(0,0,0,O,R,P,L,U,A,B);({year:S,month:M,day:C}=Gi(S,M,C+O)),Zn(u,d,l,S,M,C)===-F&&({year:S,month:M,day:C}=Gi(S,M,C-F),{hours:R,minutes:P,seconds:L,milliseconds:U,microseconds:A,nanoseconds:B}=Ar(-F,R,P,L,U,A,B,b));const re=xn(S,M,C,v),Q=xn(u,d,l,v),ne=_n("day",b),ee=Yt(Mt({},x),{largestUnit:ne});let{years:ue,months:pe,weeks:_e,days:ce}=Fn(v,re,Q,ee);return{days:ce,hours:R,minutes:P,seconds:L,milliseconds:U,microseconds:A,nanoseconds:B}=Ar(ce,R,P,L,U,A,B,b),{years:ue,months:pe,weeks:_e,days:ce,hours:R,minutes:P,seconds:L,milliseconds:U,microseconds:A,nanoseconds:B}}function ul(_,s,f,e,y,p){const h=k.subtract(s,_);if(k.equal(h,gr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const t=at("%Temporal.Instant%"),c=new t(_),u=new t(s),d=dn(f,c,e),l=dn(f,u,e);let{years:n,months:r,weeks:o,days:i}=zs(E(d,Ye),E(d,$e),E(d,Xe),E(d,ct),E(d,dt),E(d,ht),E(d,ft),E(d,pt),E(d,mt),E(l,Ye),E(l,$e),E(l,Xe),E(l,ct),E(l,dt),E(l,ht),E(l,ft),E(l,pt),E(l,mt),e,y,p);const a=un(c,f,e,n,r,o,0,0,0,0,0,0,0);let m=k.subtract(s,a);const v=kr(a,f,e);({nanoseconds:m,days:i}=Il(m,v));const{hours:b,minutes:x,seconds:S,milliseconds:M,microseconds:C,nanoseconds:O}=Ar(0,0,0,0,0,0,k.toNumber(m),"hour");return{years:n,months:r,weeks:o,days:i,hours:b,minutes:x,seconds:S,milliseconds:M,microseconds:C,nanoseconds:O}}function Lo(_,s,f,e,y,p,h,t){let c=_,u=s,d=f,l=e,n=y,r=p,o=h;return c+=l,u+=n,{year:c,month:u}=Ms(c,u),{year:c,month:u,day:d}=Us(c,u,d,t),o+=7*r,d+=o,{year:c,month:u,day:d}=Gi(c,u,d),{year:c,month:u,day:d}}function cl(_,s,f,e,y,p,h,t,c,u,d,l){let n=_,r=s,o=f,i=e,a=y,m=p;n+=h,r+=t,o+=c,i+=u,a+=d,m+=l;let v=0;return{deltaDays:v,hour:n,minute:r,second:o,millisecond:i,microsecond:a,nanosecond:m}=Xn(n,r,o,i,a,m),{deltaDays:v,hour:n,minute:r,second:o,millisecond:i,microsecond:a,nanosecond:m}}function dl(_,s,f,e,y,p,h,t,c,u,d,l,n,r,o,i,a,m,v,b,x){const S=Ja(_,s,f,e,y,p,h,t,c,u),M=Ja(d,l,n,r,o,i,a,m,v,b),C=_n(S,M);let O,R,P,L,U,A,B,F,K,re;if(x)if(Dt(x)){const Q=at("%Temporal.Duration%"),ne=E(x,Se),ee=new Q(_,s,f,e,0,0,0,0,0,0),ue=new Q(d,l,n,r,0,0,0,0,0,0),pe=ne.dateAdd,_e=Wt(null),ce=$r(ne,x,ee,_e,pe),De=Wt(null),ve=$r(ne,ce,ue,De,pe),ge=_n("day",C),I=Wt(null);I.largestUnit=ge,{years:O,months:R,weeks:P,days:L}=Fn(ne,x,ve,I),{days:L,hours:U,minutes:A,seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}=Ar(L,y+o,p+i,h+a,t+m,c+v,u+b,C)}else{const Q=at("%Temporal.Instant%"),ne=E(x,Pt),ee=E(x,Se),ue=un(E(x,Nr),ne,ee,_,s,f,e,y,p,h,t,c,u),pe=un(new Q(ue),ne,ee,d,l,n,r,o,i,a,m,v,b);C!=="year"&&C!=="month"&&C!=="week"&&C!=="day"?(O=0,R=0,P=0,L=0,{seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}=Vi(E(x,ot),pe,1,"nanosecond","halfExpand"),{hours:U,minutes:A,seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}=Ar(0,0,0,B,F,K,re,C)):{years:O,months:R,weeks:P,days:L,hours:U,minutes:A,seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}=ul(E(x,ot),pe,ne,ee,C)}else{if(C==="year"||C==="month"||C==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");O=R=P=0,{days:L,hours:U,minutes:A,seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}=Ar(e+r,y+o,p+i,h+a,t+m,c+v,u+b,C)}return id(O,R,P,L,U,A,B,F,K,re),{years:O,months:R,weeks:P,days:L,hours:U,minutes:A,seconds:B,milliseconds:F,microseconds:K,nanoseconds:re}}function Hs(_,s,f,e,y,p,h){let t=gr;t=k.add(t,k.BigInt(h)),t=k.add(t,k.multiply(k.BigInt(p),Ft)),t=k.add(t,k.multiply(k.BigInt(y),pn)),t=k.add(t,k.multiply(k.BigInt(e),eo)),t=k.add(t,k.multiply(k.BigInt(f),k.BigInt(60*1e9))),t=k.add(t,k.multiply(k.BigInt(s),k.BigInt(60*60*1e9)));const c=k.add(_,t);return Co(c),c}function qs(_,s,f,e,y,p,h,t,c,u,d,l,n,r,o,i,a,m,v,b,x){let S=r,{deltaDays:M,hour:C,minute:O,second:R,millisecond:P,microsecond:L,nanosecond:U}=cl(e,y,p,h,t,c,o,i,a,m,v,b);S+=M;const A=at("%Temporal.Duration%"),B=xn(_,s,f,u),F=new A(d,l,n,S,0,0,0,0,0,0),K=$r(u,B,F,x);return{year:E(K,Ye),month:E(K,$e),day:E(K,Xe),hour:C,minute:O,second:R,millisecond:P,microsecond:L,nanosecond:U}}function un(_,s,f,e,y,p,h,t,c,u,d,l,n,r){const o=at("%Temporal.Duration%");if(bn(e,y,p,h,0,0,0,0,0,0)===0)return Hs(E(_,ot),t,c,u,d,l,n);const i=dn(s,_,f),a=xn(E(i,Ye),E(i,$e),E(i,Xe),f),m=new o(e,y,p,h,0,0,0,0,0,0),v=$r(f,a,m,r),b=en(E(v,Ye),E(v,$e),E(v,Xe),E(i,ct),E(i,dt),E(i,ht),E(i,ft),E(i,pt),E(i,mt),f),x=Qr(s,b,"compatible");return Hs(E(x,ot),t,c,u,d,l,n)}function nn(_,s,f){if(s===1)return _;let{quotient:e,remainder:y}=Sr(_,k.BigInt(s));if(k.equal(y,gr))return _;const p=k.lessThan(y,gr)?-1:1;switch(f){case"ceil":p>0&&(e=k.add(e,k.BigInt(p)));break;case"floor":p<0&&(e=k.add(e,k.BigInt(p)));break;case"trunc":break;case"halfExpand":k.toNumber(Ml(k.multiply(y,k.BigInt(2))))>=s&&(e=k.add(e,k.BigInt(p)));break}return k.multiply(e,k.BigInt(s))}function Ws(_,s,f,e){let y=k.remainder(_,k.BigInt(864e11));k.lessThan(y,gr)&&(y=k.add(y,k.BigInt(864e11)));const p=k.subtract(_,y),h=nn(y,Gl[f]*s,e);return k.add(p,h)}function Ul(_,s,f,e,y,p,h,t,c,u,d,l,n=864e11){const{deltaDays:r,hour:o,minute:i,second:a,millisecond:m,microsecond:v,nanosecond:b}=Fl(e,y,p,h,t,c,u,d,l,n),{year:x,month:S,day:M}=Gi(_,s,f+r);return{year:x,month:S,day:M,hour:o,minute:i,second:a,millisecond:m,microsecond:v,nanosecond:b}}function Fl(_,s,f,e,y,p,h,t,c,u=864e11){let d=gr;switch(t){case"day":case"hour":d=k.BigInt(_);case"minute":d=k.add(k.multiply(d,Oo),k.BigInt(s));case"second":d=k.add(k.multiply(d,Oo),k.BigInt(f));case"millisecond":d=k.add(k.multiply(d,Ft),k.BigInt(e));case"microsecond":d=k.add(k.multiply(d,Ft),k.BigInt(y));case"nanosecond":d=k.add(k.multiply(d,Ft),k.BigInt(p))}const l=t==="day"?u:Gl[t],n=nn(d,l*h,c),r=k.toNumber(k.divide(n,k.BigInt(l)));switch(t){case"day":return{deltaDays:r,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Xn(r,0,0,0,0,0);case"minute":return Xn(_,r,0,0,0,0);case"second":return Xn(_,s,r,0,0,0);case"millisecond":return Xn(_,s,f,r,0,0);case"microsecond":return Xn(_,s,f,e,r,0);case"nanosecond":return Xn(_,s,f,e,y,r);default:throw new Error(`Invalid unit ${t}`)}}function Cs(_,s){return Nl(E(_,Ye),E(_,$e),E(_,Xe),E(s,Ye),E(s,$e),E(s,Xe),"day").days}function Yr(_,s,f){const e=Wt(null),y=$r(_,s,f,e),p=Cs(s,y);return{relativeTo:y,days:p}}function hl(_,s,f,e,y){const p=E(_,Pt),h=E(_,Se),t=un(E(_,Nr),p,h,s,f,e,y,0,0,0,0,0,0);return kr(t,p,h)}function fl(_,s,f,e,y,p,h,t,c,u,d,l,n,r){let o=_,i=s,a=f,m=e,v=y,b=p,x=h,S=t,M=c,C=u;if(!Je(r)||l==="year"||l==="month"||l==="week"||l==="day"||l==="nanosecond"&&d===1)return{years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C};let O=oi(0,v,b,x,S,M,C,0);const R=Li(k.toNumber(O)),P=E(r,Pt),L=E(r,Se),U=un(E(r,Nr),P,L,o,i,a,m,0,0,0,0,0,0),A=at("%Temporal.Instant%"),B=un(new A(U),P,L,0,0,0,R,0,0,0,0,0,0),F=k.subtract(B,U);return k.greaterThanOrEqual(k.multiply(k.subtract(O,F),k.BigInt(R)),gr)&&({years:o,months:i,weeks:a,days:m}=dl(o,i,a,m,0,0,0,0,0,0,0,0,0,R,0,0,0,0,0,0,r),O=Ws(k.subtract(O,F),d,l,n),{hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=Ar(0,0,0,0,0,0,k.toNumber(O),"hour")),{years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}}function gn(_,s,f,e,y,p,h,t,c,u,d,l,n,r=void 0){let o=_,i=s,a=f,m=e,v=y,b=p,x=h,S=t,M=c,C=k.BigInt(u);const O=at("%Temporal.Duration%");let R,P,L=r;if(L){if(Je(L))P=L,L=zt(L);else if(!Dt(L))throw new TypeError("starting point must be PlainDate or ZonedDateTime");R=E(L,Se)}let U;if(l==="year"||l==="month"||l==="week"||l==="day"){C=oi(0,v,b,x,S,M,u,0);let B;P&&(B=hl(P,o,i,a,m));let F,K;({days:F,nanoseconds:C,dayLengthNs:K}=Il(C,B)),U=k.BigInt(K),m+=F,v=b=x=S=M=0}let A;switch(l){case"year":{if(!R)throw new RangeError("A starting point is required for years rounding");const B=new O(o),F=R.dateAdd,K=Wt(null),re=$r(R,L,B,K,F),Q=new O(o,i,a),ne=Wt(null),ee=$r(R,L,Q,ne,F),ue=Cs(re,ee);L=re,m+=ue;const pe=Wt(null),_e=$r(R,L,{days:m},pe,F),ce=Wt(null);ce.largestUnit="year";const De=Fn(R,L,_e,ce).years;o+=De;const ve=L,ge=Wt(null);L=$r(R,L,{years:De},ge,F),m-=Cs(ve,L);const V=new O(m<0?-1:1);let{days:W}=Yr(R,L,V);W=Lt(W);const Z=k.multiply(k.BigInt(W),U);C=k.add(k.add(k.multiply(Z,k.BigInt(o)),k.multiply(k.BigInt(m),U)),C);const ie=nn(C,k.toNumber(k.multiply(Z,k.BigInt(d))),n);A=k.toNumber(C)/k.toNumber(Z),o=k.toNumber(k.divide(ie,Z)),C=gr,i=a=m=0;break}case"month":{if(!R)throw new RangeError("A starting point is required for months rounding");const B=new O(o,i),F=R.dateAdd,K=Wt(null),re=$r(R,L,B,K,F),Q=new O(o,i,a),ne=Wt(null),ee=$r(R,L,Q,ne,F),ue=Cs(re,ee);L=re,m+=ue;const pe=Li(m),_e=new O(0,m<0?-1:1);let ce;for({relativeTo:L,days:ce}=Yr(R,L,_e);Lt(m)>=Lt(ce);)i+=pe,m-=ce,{relativeTo:L,days:ce}=Yr(R,L,_e);ce=Lt(ce);const De=k.multiply(k.BigInt(ce),U);C=k.add(k.add(k.multiply(De,k.BigInt(i)),k.multiply(k.BigInt(m),U)),C);const ve=nn(C,k.toNumber(k.multiply(De,k.BigInt(d))),n);A=k.toNumber(C)/k.toNumber(De),i=k.toNumber(k.divide(ve,De)),C=gr,a=m=0;break}case"week":{if(!R)throw new RangeError("A starting point is required for weeks rounding");const B=Li(m),F=new O(0,0,m<0?-1:1);let K;for({relativeTo:L,days:K}=Yr(R,L,F);Lt(m)>=Lt(K);)a+=B,m-=K,{relativeTo:L,days:K}=Yr(R,L,F);K=Lt(K);const re=k.multiply(k.BigInt(K),U);C=k.add(k.add(k.multiply(re,k.BigInt(a)),k.multiply(k.BigInt(m),U)),C);const Q=nn(C,k.toNumber(k.multiply(re,k.BigInt(d))),n);A=k.toNumber(C)/k.toNumber(re),a=k.toNumber(k.divide(Q,re)),C=gr,m=0;break}case"day":{const B=U;C=k.add(k.multiply(B,k.BigInt(m)),C);const F=nn(C,k.toNumber(k.multiply(B,k.BigInt(d))),n);A=k.toNumber(C)/k.toNumber(B),m=k.toNumber(k.divide(F,B)),C=gr;break}case"hour":{let F=k.multiply(k.BigInt(v),k.BigInt(36e11));F=k.add(F,k.multiply(k.BigInt(b),k.BigInt(6e10))),F=k.add(F,k.multiply(k.BigInt(x),eo)),F=k.add(F,k.multiply(k.BigInt(S),pn)),F=k.add(F,k.multiply(k.BigInt(M),Ft)),F=k.add(F,C),A=k.toNumber(F)/36e11;const K=nn(F,36e11*d,n);v=k.toNumber(k.divide(K,k.BigInt(36e11))),C=gr,b=x=S=M=0;break}case"minute":{let F=k.multiply(k.BigInt(b),k.BigInt(6e10));F=k.add(F,k.multiply(k.BigInt(x),eo)),F=k.add(F,k.multiply(k.BigInt(S),pn)),F=k.add(F,k.multiply(k.BigInt(M),Ft)),F=k.add(F,C),A=k.toNumber(F)/6e10;const K=nn(F,6e10*d,n);b=k.toNumber(k.divide(K,k.BigInt(6e10))),C=gr,x=S=M=0;break}case"second":{let F=k.multiply(k.BigInt(x),eo);F=k.add(F,k.multiply(k.BigInt(S),pn)),F=k.add(F,k.multiply(k.BigInt(M),Ft)),F=k.add(F,C),A=k.toNumber(F)/1e9;const K=nn(F,1e9*d,n);x=k.toNumber(k.divide(K,k.BigInt(1e9))),C=gr,S=M=0;break}case"millisecond":{let F=k.multiply(k.BigInt(S),pn);F=k.add(F,k.multiply(k.BigInt(M),Ft)),F=k.add(F,C),A=k.toNumber(F)/1e6;const K=nn(F,1e6*d,n);S=k.toNumber(k.divide(K,k.BigInt(1e6))),C=gr,M=0;break}case"microsecond":{let F=k.multiply(k.BigInt(M),Ft);F=k.add(F,C),A=k.toNumber(F)/1e3;const K=nn(F,1e3*d,n);M=k.toNumber(k.divide(K,k.BigInt(1e3))),C=gr;break}case"nanosecond":{A=k.toNumber(C),C=nn(C,d,n);break}}return{years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:k.toNumber(C),total:A}}function Zn(_,s,f,e,y,p){for(const[h,t]of[[_,e],[s,y],[f,p]])if(h!==t)return Ro(h-t);return 0}function Zo(_,s){let f=_%s;return Kh(f,-0)?0:(f<0&&(f+=s),f)}function Ys(_){const s=Di(_);return typeof globalThis.BigInt!="undefined"?globalThis.BigInt(s.toString(10)):s}function Di(_){if(_ instanceof k)return _;let s=_;if(typeof _=="object"){const f=_[Symbol.toPrimitive];f&&typeof f=="function"&&(s=El(f,_,["number"]))}switch(typeof s){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof _} to bigint`);case"string":if(!s.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return k.BigInt(s.toString())}catch(f){throw f instanceof Error&&f.message.startsWith("Invalid integer")?new SyntaxError(f.message):f}case"boolean":return s?jl:gr}}const Bl=(()=>{let _=k.BigInt(Date.now()%1e6);return()=>{const s=k.BigInt(Date.now()),f=k.add(k.multiply(s,pn),_);return _=k.divide(s,pn),k.greaterThan(f,Ai)?Ai:k.lessThan(f,Ri)?Ri:f}})();function Tf(){const _=new Oc("en-us"),s=at("%Temporal.TimeZone%");return new s(Ic(_.resolvedOptions().timeZone))}function Ro(_){return _<0?-1:_>0?1:_}function yt(_){if(_===void 0)return Wt(null);if(Jt(_)&&_!==null)return _;throw new TypeError(`Options parameter must be an object, not ${_===null?"null":`${typeof _}`}`)}function ii(_,s){const f=Wt(null);return f[_]=s,f}function qn(_,s,f,e){let y=_[s];if(y!==void 0){if(y=lt(y),!f.includes(y))throw new RangeError(`${s} must be one of ${f.join(", ")}, not ${y}`);return y}return e}function Sf(_,s,f,e,y){let p=_[s];if(p===void 0)return y;const h=Ii(p);if(Qi(h)||h<f||h>e)throw new RangeError(`${s} must be between ${f} and ${e}, not ${h}`);return jr(h)}const sd=new RegExp(`^${jc.source}$`);function ad(_,s,f,e=_(s),y=_(f)){let p=k.BigInt(s),h=k.BigInt(f),t=e,c=y;for(;k.greaterThan(k.subtract(h,p),jl);){const u=k.divide(k.add(p,h),k.BigInt(2)),d=_(u);if(d===t)p=u,t=d;else if(d===c)h=u,c=d;else throw new Error(`invalid state in bisection ${t} - ${d} - ${c}`)}return h}const Gl={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},ld=Symbol("date"),ud=Symbol("ym"),cd=Symbol("md"),dd=Symbol("time"),hd=Symbol("datetime"),fd=Symbol("zoneddatetime"),pd=Symbol("instant"),fi=Symbol("original"),pl=Symbol("timezone"),Ds=Symbol("timezone-id-given"),an=Symbol("calendar-id"),md=Symbol("locale"),ml=Symbol("options"),Oi=_=>({value:_,enumerable:!0,writable:!1,configurable:!0}),Fo=globalThis.Intl.DateTimeFormat,Gn=Object.assign,Ef=Object.prototype.hasOwnProperty,jf=Reflect.apply;function Mo(_,s){let f=_[s];return typeof f=="function"&&(f=new Fo(_[md],f(_[ml])),_[s]=f),f}function Ti(_){let s=_[pl];return typeof s=="string"&&(s=Jr(s),_[pl]=s),s}function No(_=void 0,s={}){if(!(this instanceof No))return new No(_,s);const f=typeof s!="undefined",e=f?Gn({},s):{},y=new Fo(_,e),p=y.resolvedOptions();if(f){const h=Gn({},p);for(const t in h)jf(Ef,e,[t])||delete h[t];this[ml]=h}else this[ml]=e;this[Ds]=e.timeZone?e.timeZone:null,this[md]=p.locale,this[fi]=y,this[pl]=p.timeZone,this[an]=p.calendar,this[ld]=Af,this[ud]=Lf,this[cd]=Rf,this[dd]=Pf,this[hd]=If,this[fd]=Nf,this[pd]=Uf}Object.defineProperty(No,"name",{writable:!0,value:"DateTimeFormat"});No.supportedLocalesOf=function(_,s){return Fo.supportedLocalesOf(_,s)};const Vl={resolvedOptions:Oi(Mf),format:Oi(Cf),formatRange:Oi(Of)};"formatToParts"in Fo.prototype&&(Vl.formatToParts=Oi(Df));"formatRangeToParts"in Fo.prototype&&(Vl.formatRangeToParts=Oi(kf));No.prototype=Object.create(Fo.prototype,Vl);Object.defineProperty(No,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Bo=No;function Mf(){return this[fi].resolvedOptions()}function da(_,s){if(!s)return _;const f=_.resolvedOptions();return f.timeZone===s?_:((f.dateStyle||f.timeStyle)&&(delete f.weekday,delete f.era,delete f.year,delete f.month,delete f.day,delete f.hour,delete f.minute,delete f.second,delete f.timeZoneName,delete f.hourCycle,delete f.hour12,delete f.dayPeriod),new Fo(f.locale,Yt(Mt({},f),{timeZone:s})))}function Cf(_,...s){let{instant:f,formatter:e,timeZone:y}=ai(_,this);return f&&e?(e=da(e,y),e.format(f.epochMilliseconds)):this[fi].format(_,...s)}function Df(_,...s){let{instant:f,formatter:e,timeZone:y}=ai(_,this);return f&&e?(e=da(e,y),e.formatToParts(f.epochMilliseconds)):this[fi].formatToParts(_,...s)}function Of(_,s){if(si(_)||si(s)){if(!yd(_,s))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:f,formatter:e,timeZone:y}=ai(_,this),{instant:p,formatter:h,timeZone:t}=ai(s,this);if(y&&t&&y!==t)throw new RangeError("cannot format range between different time zones");if(f&&p&&e&&h&&e===h)return da(e,y).formatRange(f.epochMilliseconds,p.epochMilliseconds)}return this[fi].formatRange(_,s)}function kf(_,s){if(si(_)||si(s)){if(!yd(_,s))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:f,formatter:e,timeZone:y}=ai(_,this),{instant:p,formatter:h,timeZone:t}=ai(s,this);if(y&&t&&y!==t)throw new RangeError("cannot format range between different time zones");if(f&&p&&e&&h&&e===h)return da(e,y).formatRangeToParts(f.epochMilliseconds,p.epochMilliseconds)}return this[fi].formatRangeToParts(_,s)}function as(_={},s={}){const f=Gn({},_);for(const e of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])f[e]=e in s?s[e]:f[e],(f[e]===!1||f[e]===void 0)&&delete f[e];return f}function Pf(_){let s=as(_,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return fa(s)||(s=Gn({},s,{hour:"numeric",minute:"numeric",second:"numeric"})),s}function Lf(_){let s=as(_,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in s||"month"in s||(s=Gn(s,{year:"numeric",month:"numeric"})),s}function Rf(_){let s=as(_,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in s||"day"in s||(s=Gn({},s,{month:"numeric",day:"numeric"})),s}function Af(_){let s=as(_,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return ha(s)||(s=Gn({},s,{year:"numeric",month:"numeric",day:"numeric"})),s}function If(_){let s=as(_,{timeZoneName:!1});return!fa(s)&&!ha(s)&&(s=Gn({},s,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),s}function Nf(_){let s=_;return!fa(s)&&!ha(s)&&(s=Gn({},s,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),s.timeZoneName===void 0&&(s.timeZoneName="short")),s}function Uf(_){let s=_;return!fa(s)&&!ha(s)&&(s=Gn({},s,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),s}function ha(_){return"year"in _||"month"in _||"day"in _||"weekday"in _||"dateStyle"in _}function fa(_){return"hour"in _||"minute"in _||"second"in _||"timeStyle"in _||"dayPeriod"in _}function si(_){return Dt(_)||ur(_)||St(_)||Je(_)||At(_)||Dr(_)||wr(_)}function yd(_,s){return!(!si(_)||!si(s)||ur(_)&&!ur(s)||Dt(_)&&!Dt(s)||St(_)&&!St(s)||Je(_)&&!Je(s)||At(_)&&!At(s)||Dr(_)&&!Dr(s)||wr(_)&&!wr(s))}function ai(_,s){const f=at("%Temporal.PlainDateTime%");if(ur(_)){const e=E(_,ct),y=E(_,dt),p=E(_,ht),h=E(_,ft),t=E(_,pt),c=E(_,mt),u=new f(1970,1,1,e,y,p,h,t,c,s[an]);return{instant:Qr(Ti(s),u,"compatible"),formatter:Mo(s,dd)}}if(At(_)){const e=E(_,Ye),y=E(_,$e),p=E(_,Xe),h=lt(E(_,Se));if(h!==s[an])throw new RangeError(`cannot format PlainYearMonth with calendar ${h} in locale with calendar ${s[an]}`);const t=new f(e,y,p,12,0,0,0,0,0,h);return{instant:Qr(Ti(s),t,"compatible"),formatter:Mo(s,ud)}}if(Dr(_)){const e=E(_,Ye),y=E(_,$e),p=E(_,Xe),h=lt(E(_,Se));if(h!==s[an])throw new RangeError(`cannot format PlainMonthDay with calendar ${h} in locale with calendar ${s[an]}`);const t=new f(e,y,p,12,0,0,0,0,0,h);return{instant:Qr(Ti(s),t,"compatible"),formatter:Mo(s,cd)}}if(Dt(_)){const e=E(_,Ye),y=E(_,$e),p=E(_,Xe),h=lt(E(_,Se));if(h!=="iso8601"&&h!==s[an])throw new RangeError(`cannot format PlainDate with calendar ${h} in locale with calendar ${s[an]}`);const t=new f(e,y,p,12,0,0,0,0,0,s[an]);return{instant:Qr(Ti(s),t,"compatible"),formatter:Mo(s,ld)}}if(St(_)){const e=E(_,Ye),y=E(_,$e),p=E(_,Xe),h=E(_,ct),t=E(_,dt),c=E(_,ht),u=E(_,ft),d=E(_,pt),l=E(_,mt),n=lt(E(_,Se));if(n!=="iso8601"&&n!==s[an])throw new RangeError(`cannot format PlainDateTime with calendar ${n} in locale with calendar ${s[an]}`);let r=_;return n==="iso8601"&&(r=new f(e,y,p,h,t,c,u,d,l,s[an])),{instant:Qr(Ti(s),r,"compatible"),formatter:Mo(s,hd)}}if(Je(_)){const e=lt(E(_,Se));if(e!=="iso8601"&&e!==s[an])throw new RangeError(`cannot format ZonedDateTime with calendar ${e} in locale with calendar ${s[an]}`);const y=E(_,Pt),p=lt(y);if(s[Ds]&&s[Ds]!==p)throw new RangeError(`timeZone option ${s[Ds]} doesn't match actual time zone ${p}`);return{instant:E(_,Nr),formatter:Mo(s,fd),timeZone:p}}return wr(_)?{instant:_,formatter:Mo(s,pd)}:{}}const Si=["year","month","week","day"],Ku={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};class hn{constructor(s){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const f=Di(s);Co(f),zn(this),Et(this,ot,f);{const e=La(this,void 0,"auto");Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${e}>`,writable:!1,enumerable:!1,configurable:!1})}}get epochSeconds(){if(!wr(this))throw new TypeError("invalid receiver");const s=E(this,ot);return k.toNumber(k.divide(s,eo))}get epochMilliseconds(){if(!wr(this))throw new TypeError("invalid receiver");const s=k.BigInt(E(this,ot));return k.toNumber(k.divide(s,pn))}get epochMicroseconds(){if(!wr(this))throw new TypeError("invalid receiver");const s=k.BigInt(E(this,ot));return Ys(k.divide(s,Ft))}get epochNanoseconds(){if(!wr(this))throw new TypeError("invalid receiver");return Ys(k.BigInt(E(this,ot)))}add(s){if(!wr(this))throw new TypeError("invalid receiver");const{hours:f,minutes:e,seconds:y,milliseconds:p,microseconds:h,nanoseconds:t}=wn(s,["years","months","weeks","days"]),c=Hs(E(this,ot),f,e,y,p,h,t);return new hn(c)}subtract(s){if(!wr(this))throw new TypeError("invalid receiver");const{hours:f,minutes:e,seconds:y,milliseconds:p,microseconds:h,nanoseconds:t}=wn(s,["years","months","weeks","days"]),c=Hs(E(this,ot),-f,-e,-y,-p,-h,-t);return new hn(c)}until(s,f=void 0){if(!wr(this))throw new TypeError("invalid receiver");const e=Mn(s),y=yt(f),p=Xr(y,"nanosecond",Si),h=_n("second",p),t=cn(y,"auto",Si,h);yn(t,p);const c=xr(y,"trunc"),u=mn(y,Ku[p],!1),d=E(this,ot),l=E(e,ot);let{seconds:n,milliseconds:r,microseconds:o,nanoseconds:i}=Vi(d,l,u,p,c),a,m;({hours:a,minutes:m,seconds:n,milliseconds:r,microseconds:o,nanoseconds:i}=Ar(0,0,0,n,r,o,i,t));const v=at("%Temporal.Duration%");return new v(0,0,0,0,a,m,n,r,o,i)}since(s,f=void 0){if(!wr(this))throw new TypeError("invalid receiver");const e=Mn(s),y=yt(f),p=Xr(y,"nanosecond",Si),h=_n("second",p),t=cn(y,"auto",Si,h);yn(t,p);const c=xr(y,"trunc"),u=mn(y,Ku[p],!1),d=E(e,ot),l=E(this,ot);let{seconds:n,milliseconds:r,microseconds:o,nanoseconds:i}=Vi(d,l,u,p,c),a,m;({hours:a,minutes:m,seconds:n,milliseconds:r,microseconds:o,nanoseconds:i}=Ar(0,0,0,n,r,o,i,t));const v=at("%Temporal.Duration%");return new v(0,0,0,0,a,m,n,r,o,i)}round(s){if(!wr(this))throw new TypeError("invalid receiver");if(s===void 0)throw new TypeError("options parameter is required");const f=typeof s=="string"?ii("smallestUnit",s):yt(s),e=Xr(f,void 0,Si);if(e===void 0)throw new RangeError("smallestUnit is required");const y=xr(f,"halfExpand"),h=mn(f,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[e],!0),t=E(this,ot),c=Ws(t,h,e,y);return new hn(c)}equals(s){if(!wr(this))throw new TypeError("invalid receiver");const f=Mn(s),e=E(this,ot),y=E(f,ot);return k.equal(k.BigInt(e),k.BigInt(y))}toString(s=void 0){if(!wr(this))throw new TypeError("invalid receiver");const f=yt(s);let e=f.timeZone;e!==void 0&&(e=Jr(e));const{precision:y,unit:p,increment:h}=ns(f),t=xr(f,"trunc"),c=E(this,ot),u=Ws(c,h,p,t),d=new hn(u);return La(d,e,y)}toJSON(){if(!wr(this))throw new TypeError("invalid receiver");return La(this,void 0,"auto")}toLocaleString(s=void 0,f=void 0){if(!wr(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(s){if(!wr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument in toZonedDateTime");const f=s.calendar;if(f===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const e=Ir(f),y=s.timeZone;if(y===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const p=Jr(y);return kr(E(this,ot),p,e)}toZonedDateTimeISO(s){let f=s;if(!wr(this))throw new TypeError("invalid receiver");if(Jt(f)){const p=f.timeZone;p!==void 0&&(f=p)}const e=Jr(f),y=vr();return kr(E(this,ot),e,y)}static fromEpochSeconds(s){const f=Ii(s),e=k.multiply(k.BigInt(f),eo);return Co(e),new hn(e)}static fromEpochMilliseconds(s){const f=Ii(s),e=k.multiply(k.BigInt(f),pn);return Co(e),new hn(e)}static fromEpochMicroseconds(s){const f=Di(s),e=k.multiply(f,Ft);return Co(e),new hn(e)}static fromEpochNanoseconds(s){const f=Di(s);return Co(f),new hn(f)}static from(s){return wr(s)?new hn(E(s,ot)):Mn(s)}static compare(s,f){const e=Mn(s),y=Mn(f),p=E(e,ot),h=E(y,ot);return k.lessThan(p,h)?-1:k.greaterThan(p,h)?1:0}}Vn(hn,"Temporal.Instant");const ws=["hour","minute","second","millisecond","microsecond","nanosecond"];class ls{constructor(s,f,e,y=vr()){const p=qt(s),h=qt(f),t=qt(e),c=Ir(y);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Gc(this,p,h,t,c)}get calendar(){if(!Dt(this))throw new TypeError("invalid receiver");return E(this,Se)}get era(){if(!Dt(this))throw new TypeError("invalid receiver");return oa(E(this,Se),this)}get eraYear(){if(!Dt(this))throw new TypeError("invalid receiver");return ia(E(this,Se),this)}get year(){if(!Dt(this))throw new TypeError("invalid receiver");return ta(E(this,Se),this)}get month(){if(!Dt(this))throw new TypeError("invalid receiver");return ra(E(this,Se),this)}get monthCode(){if(!Dt(this))throw new TypeError("invalid receiver");return is(E(this,Se),this)}get day(){if(!Dt(this))throw new TypeError("invalid receiver");return na(E(this,Se),this)}get dayOfWeek(){if(!Dt(this))throw new TypeError("invalid receiver");return Dl(E(this,Se),this)}get dayOfYear(){if(!Dt(this))throw new TypeError("invalid receiver");return Ol(E(this,Se),this)}get weekOfYear(){if(!Dt(this))throw new TypeError("invalid receiver");return kl(E(this,Se),this)}get daysInWeek(){if(!Dt(this))throw new TypeError("invalid receiver");return Pl(E(this,Se),this)}get daysInMonth(){if(!Dt(this))throw new TypeError("invalid receiver");return ei(E(this,Se),this)}get daysInYear(){if(!Dt(this))throw new TypeError("invalid receiver");return sa(E(this,Se),this)}get monthsInYear(){if(!Dt(this))throw new TypeError("invalid receiver");return aa(E(this,Se),this)}get inLeapYear(){if(!Dt(this))throw new TypeError("invalid receiver");return la(E(this,Se),this)}with(s,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");di(s);const e=E(this,Se),y=fr(e,["day","month","monthCode","year"]),p=mo(s,y);if(!p)throw new TypeError("invalid date-like");let h=el(this,y);h=Ao(e,h,p),h=el(h,y);const t=yt(f);return jn(e,h,t)}withCalendar(s){if(!Dt(this))throw new TypeError("invalid receiver");const f=Ir(s);return new ls(E(this,Ye),E(this,$e),E(this,Xe),f)}add(s,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const e=Jo(s),y=yt(f);return $r(E(this,Se),this,e,y)}subtract(s,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const e=ed(Jo(s)),y=yt(f);return $r(E(this,Se),this,e,y)}until(s,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const e=zt(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"day",ws),d=_n("day",u),l=cn(c,"auto",ws,d);yn(l,u);const n=xr(c,"trunc"),r=mn(c,void 0,!1),o=Yt(Mt({},c),{largestUnit:l}),i=Fn(y,this,e,o);if(u==="day"&&r===1)return i;let{years:a,months:m,weeks:v,days:b}=i;({years:a,months:m,weeks:v,days:b}=gn(a,m,v,b,0,0,0,0,0,0,r,u,n,this));const x=at("%Temporal.Duration%");return new x(a,m,v,b,0,0,0,0,0,0)}since(s,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const e=zt(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"day",ws),d=_n("day",u),l=cn(c,"auto",ws,d);yn(l,u);const n=xr(c,"trunc"),r=mn(c,void 0,!1),o=Yt(Mt({},c),{largestUnit:l});let{years:i,months:a,weeks:m,days:v}=Fn(y,this,e,o);const b=at("%Temporal.Duration%");return u==="day"&&r===1?new b(-i,-a,-m,-v,0,0,0,0,0,0):({years:i,months:a,weeks:m,days:v}=gn(i,a,m,v,0,0,0,0,0,0,r,u,ts(n),this),new b(-i,-a,-m,-v,0,0,0,0,0,0))}equals(s){if(!Dt(this))throw new TypeError("invalid receiver");const f=zt(s);for(const e of[Ye,$e,Xe]){const y=E(this,e),p=E(f,e);if(y!==p)return!1}return ss(E(this,Se),E(f,Se))}toString(s=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const f=yt(s),e=rs(f);return rl(this,e)}toJSON(){if(!Dt(this))throw new TypeError("invalid receiver");return rl(this)}toLocaleString(s=void 0,f=void 0){if(!Dt(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(s=void 0){if(!Dt(this))throw new TypeError("invalid receiver");const f=E(this,Ye),e=E(this,$e),y=E(this,Xe),p=E(this,Se);if(s===void 0)return en(f,e,y,0,0,0,0,0,0,p);const h=Nn(s),t=E(h,ct),c=E(h,dt),u=E(h,ht),d=E(h,ft),l=E(h,pt),n=E(h,mt);return en(f,e,y,t,c,u,d,l,n,p)}toZonedDateTime(s){if(!Dt(this))throw new TypeError("invalid receiver");let f,e;if(Jt(s)){const a=s.timeZone;a===void 0?f=Jr(s):(f=Jr(a),e=s.plainTime)}else f=Jr(s);const y=E(this,Ye),p=E(this,$e),h=E(this,Xe),t=E(this,Se);let c=0,u=0,d=0,l=0,n=0,r=0;e!==void 0&&(e=Nn(e),c=E(e,ct),u=E(e,dt),d=E(e,ht),l=E(e,ft),n=E(e,pt),r=E(e,mt));const o=en(y,p,h,c,u,d,l,n,r,t),i=Qr(f,o,"compatible");return kr(E(i,ot),f,t)}toPlainYearMonth(){if(!Dt(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["monthCode","year"]),e=rn(this,f);return co(s,e)}toPlainMonthDay(){if(!Dt(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["day","monthCode"]),e=ko(this,f);return ni(s,e)}getISOFields(){if(!Dt(this))throw new TypeError("invalid receiver");return{calendar:E(this,Se),isoDay:E(this,Xe),isoMonth:E(this,$e),isoYear:E(this,Ye)}}static from(s,f=void 0){const e=yt(f);return Dt(s)?(Lr(e),xn(E(s,Ye),E(s,$e),E(s,Xe),E(s,Se))):zt(s,e)}static compare(s,f){const e=zt(s),y=zt(f);return Zn(E(e,Ye),E(e,$e),E(e,Xe),E(y,Ye),E(y,$e),E(y,Xe))}}Vn(ls,"Temporal.PlainDate");class us{constructor(s,f,e,y=0,p=0,h=0,t=0,c=0,u=0,d=vr()){const l=qt(s),n=qt(f),r=qt(e),o=qt(y),i=qt(p),a=qt(h),m=qt(t),v=qt(c),b=qt(u),x=Ir(d);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");Vc(this,l,n,r,o,i,a,m,v,b,x)}get calendar(){if(!St(this))throw new TypeError("invalid receiver");return E(this,Se)}get year(){if(!St(this))throw new TypeError("invalid receiver");return ta(E(this,Se),this)}get month(){if(!St(this))throw new TypeError("invalid receiver");return ra(E(this,Se),this)}get monthCode(){if(!St(this))throw new TypeError("invalid receiver");return is(E(this,Se),this)}get day(){if(!St(this))throw new TypeError("invalid receiver");return na(E(this,Se),this)}get hour(){if(!St(this))throw new TypeError("invalid receiver");return E(this,ct)}get minute(){if(!St(this))throw new TypeError("invalid receiver");return E(this,dt)}get second(){if(!St(this))throw new TypeError("invalid receiver");return E(this,ht)}get millisecond(){if(!St(this))throw new TypeError("invalid receiver");return E(this,ft)}get microsecond(){if(!St(this))throw new TypeError("invalid receiver");return E(this,pt)}get nanosecond(){if(!St(this))throw new TypeError("invalid receiver");return E(this,mt)}get era(){if(!St(this))throw new TypeError("invalid receiver");return oa(E(this,Se),this)}get eraYear(){if(!St(this))throw new TypeError("invalid receiver");return ia(E(this,Se),this)}get dayOfWeek(){if(!St(this))throw new TypeError("invalid receiver");return Dl(E(this,Se),this)}get dayOfYear(){if(!St(this))throw new TypeError("invalid receiver");return Ol(E(this,Se),this)}get weekOfYear(){if(!St(this))throw new TypeError("invalid receiver");return kl(E(this,Se),this)}get daysInWeek(){if(!St(this))throw new TypeError("invalid receiver");return Pl(E(this,Se),this)}get daysInYear(){if(!St(this))throw new TypeError("invalid receiver");return sa(E(this,Se),this)}get daysInMonth(){if(!St(this))throw new TypeError("invalid receiver");return ei(E(this,Se),this)}get monthsInYear(){if(!St(this))throw new TypeError("invalid receiver");return aa(E(this,Se),this)}get inLeapYear(){if(!St(this))throw new TypeError("invalid receiver");return la(E(this,Se),this)}with(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");di(s);const e=yt(f),y=E(this,Se),p=fr(y,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),h=mo(s,p);if(!h)throw new TypeError("invalid date-time-like");let t=Fs(this,p);t=Ao(y,t,h),t=Fs(t,p);const{year:c,month:u,day:d,hour:l,minute:n,second:r,millisecond:o,microsecond:i,nanosecond:a}=os(y,t,e);return en(c,u,d,l,n,r,o,i,a,y)}withPlainTime(s=void 0){if(!St(this))throw new TypeError("invalid receiver");const f=E(this,Ye),e=E(this,$e),y=E(this,Xe),p=E(this,Se);if(s===void 0)return en(f,e,y,0,0,0,0,0,0,p);const h=Nn(s),t=E(h,ct),c=E(h,dt),u=E(h,ht),d=E(h,ft),l=E(h,pt),n=E(h,mt);return en(f,e,y,t,c,u,d,l,n,p)}withPlainDate(s){if(!St(this))throw new TypeError("invalid receiver");const f=zt(s),e=E(f,Ye),y=E(f,$e),p=E(f,Xe);let h=E(f,Se);const t=E(this,ct),c=E(this,dt),u=E(this,ht),d=E(this,ft),l=E(this,pt),n=E(this,mt);return h=Wc(E(this,Se),h),en(e,y,p,t,c,u,d,l,n,h)}withCalendar(s){if(!St(this))throw new TypeError("invalid receiver");const f=Ir(s);return new us(E(this,Ye),E(this,$e),E(this,Xe),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),f)}add(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");const e=wn(s),{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e,o=yt(f),i=E(this,Se),{year:a,month:m,day:v,hour:b,minute:x,second:S,millisecond:M,microsecond:C,nanosecond:O}=qs(E(this,Ye),E(this,$e),E(this,Xe),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),i,y,p,h,t,c,u,d,l,n,r,o);return en(a,m,v,b,x,S,M,C,O,i)}subtract(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");const e=wn(s),{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e,o=yt(f),i=E(this,Se),{year:a,month:m,day:v,hour:b,minute:x,second:S,millisecond:M,microsecond:C,nanosecond:O}=qs(E(this,Ye),E(this,$e),E(this,Xe),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),i,-y,-p,-h,-t,-c,-u,-d,-l,-n,-r,o);return en(a,m,v,b,x,S,M,C,O,i)}until(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");const e=uo(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"nanosecond"),d=_n("day",u),l=cn(c,"auto",[],d);yn(l,u);const n=xr(c,"trunc"),r=Ui(c,u);let{years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=zs(E(this,Ye),E(this,$e),E(this,Xe),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),E(e,Ye),E(e,$e),E(e,Xe),E(e,ct),E(e,dt),E(e,ht),E(e,ft),E(e,pt),E(e,mt),y,l,c);const O=Po(this);({years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=gn(o,i,a,m,v,b,x,S,M,C,r,u,n,O)),{days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=Ar(m,v,b,x,S,M,C,l);const R=at("%Temporal.Duration%");return new R(o,i,a,m,v,b,x,S,M,C)}since(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");const e=uo(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"nanosecond"),d=_n("day",u),l=cn(c,"auto",[],d);yn(l,u);const n=xr(c,"trunc"),r=Ui(c,u);let{years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=zs(E(this,Ye),E(this,$e),E(this,Xe),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),E(e,Ye),E(e,$e),E(e,Xe),E(e,ct),E(e,dt),E(e,ht),E(e,ft),E(e,pt),E(e,mt),y,l,c);const O=Po(this);({years:o,months:i,weeks:a,days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=gn(o,i,a,m,v,b,x,S,M,C,r,u,ts(n),O)),{days:m,hours:v,minutes:b,seconds:x,milliseconds:S,microseconds:M,nanoseconds:C}=Ar(m,v,b,x,S,M,C,l);const R=at("%Temporal.Duration%");return new R(-o,-i,-a,-m,-v,-b,-x,-S,-M,-C)}round(s){if(!St(this))throw new TypeError("invalid receiver");if(s===void 0)throw new TypeError("options parameter is required");const f=typeof s=="string"?ii("smallestUnit",s):yt(s),e=Xr(f,void 0,["year","month","week"]);if(e===void 0)throw new RangeError("smallestUnit is required");const y=xr(f,"halfExpand"),h=mn(f,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1);let t=E(this,Ye),c=E(this,$e),u=E(this,Xe),d=E(this,ct),l=E(this,dt),n=E(this,ht),r=E(this,ft),o=E(this,pt),i=E(this,mt);return{year:t,month:c,day:u,hour:d,minute:l,second:n,millisecond:r,microsecond:o,nanosecond:i}=Ul(t,c,u,d,l,n,r,o,i,h,e,y),en(t,c,u,d,l,n,r,o,i,E(this,Se))}equals(s){if(!St(this))throw new TypeError("invalid receiver");const f=uo(s);for(const e of[Ye,$e,Xe,ct,dt,ht,ft,pt,mt]){const y=E(this,e),p=E(f,e);if(y!==p)return!1}return ss(E(this,Se),E(f,Se))}toString(s=void 0){if(!St(this))throw new TypeError("invalid receiver");const f=yt(s),{precision:e,unit:y,increment:p}=ns(f),h=rs(f),t=xr(f,"trunc");return nl(this,e,h,{unit:y,increment:p,roundingMode:t})}toJSON(){if(!St(this))throw new TypeError("invalid receiver");return nl(this,"auto")}toLocaleString(s=void 0,f=void 0){if(!St(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(s,f=void 0){if(!St(this))throw new TypeError("invalid receiver");const e=Jr(s),y=yt(f),p=Ni(y),h=Qr(e,this,p);return kr(E(h,ot),e,E(this,Se))}toPlainDate(){if(!St(this))throw new TypeError("invalid receiver");return Po(this)}toPlainYearMonth(){if(!St(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["monthCode","year"]),e=rn(this,f);return co(s,e)}toPlainMonthDay(){if(!St(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["day","monthCode"]),e=ko(this,f);return ni(s,e)}toPlainTime(){if(!St(this))throw new TypeError("invalid receiver");return Ll(this)}getISOFields(){if(!St(this))throw new TypeError("invalid receiver");return{calendar:E(this,Se),isoDay:E(this,Xe),isoHour:E(this,ct),isoMicrosecond:E(this,pt),isoMillisecond:E(this,ft),isoMinute:E(this,dt),isoMonth:E(this,$e),isoNanosecond:E(this,mt),isoSecond:E(this,ht),isoYear:E(this,Ye)}}static from(s,f=void 0){const e=yt(f);return St(s)?(Lr(e),en(E(s,Ye),E(s,$e),E(s,Xe),E(s,ct),E(s,dt),E(s,ht),E(s,ft),E(s,pt),E(s,mt),E(s,Se))):uo(s,e)}static compare(s,f){const e=uo(s),y=uo(f);for(const p of[Ye,$e,Xe,ct,dt,ht,ft,pt,mt]){const h=E(e,p),t=E(y,p);if(h!==t)return Ro(h-t)}return 0}}Vn(us,"Temporal.PlainDateTime");class Un{constructor(s=0,f=0,e=0,y=0,p=0,h=0,t=0,c=0,u=0,d=0){const l=Or(s),n=Or(f),r=Or(e),o=Or(y),i=Or(p),a=Or(h),m=Or(t),v=Or(c),b=Or(u),x=Or(d),S=bn(l,n,r,o,i,a,m,v,b,x);for(const M of[l,n,r,o,i,a,m,v,b,x]){if(!Number.isFinite(M))throw new RangeError("infinite values not allowed as duration fields");const C=Math.sign(M);if(C!==0&&C!==S)throw new RangeError("mixed-sign values not allowed as duration fields")}zn(this),Et(this,Fr,l),Et(this,Er,n),Et(this,Kr,r),Et(this,Br,o),Et(this,Gr,i),Et(this,Vr,a),Et(this,zr,m),Et(this,Hr,v),Et(this,qr,b),Et(this,Wr,x),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${vs(this)}>`,writable:!1,enumerable:!1,configurable:!1})}get years(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Fr)}get months(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Er)}get weeks(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Kr)}get days(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Br)}get hours(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Gr)}get minutes(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Vr)}get seconds(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,zr)}get milliseconds(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Hr)}get microseconds(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,qr)}get nanoseconds(){if(!lr(this))throw new TypeError("invalid receiver");return E(this,Wr)}get sign(){if(!lr(this))throw new TypeError("invalid receiver");return bn(E(this,Fr),E(this,Er),E(this,Kr),E(this,Br),E(this,Gr),E(this,Vr),E(this,zr),E(this,Hr),E(this,qr),E(this,Wr))}get blank(){if(!lr(this))throw new TypeError("invalid receiver");return bn(E(this,Fr),E(this,Er),E(this,Kr),E(this,Br),E(this,Gr),E(this,Vr),E(this,zr),E(this,Hr),E(this,qr),E(this,Wr))===0}with(s){if(!lr(this))throw new TypeError("invalid receiver");const f=mo(s,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!f)throw new TypeError("invalid duration-like");const{years:e=E(this,Fr),months:y=E(this,Er),weeks:p=E(this,Kr),days:h=E(this,Br),hours:t=E(this,Gr),minutes:c=E(this,Vr),seconds:u=E(this,zr),milliseconds:d=E(this,Hr),microseconds:l=E(this,qr),nanoseconds:n=E(this,Wr)}=f;return new Un(e,y,p,h,t,c,u,d,l,n)}negated(){if(!lr(this))throw new TypeError("invalid receiver");return ed(this)}abs(){if(!lr(this))throw new TypeError("invalid receiver");return new Un(Math.abs(E(this,Fr)),Math.abs(E(this,Er)),Math.abs(E(this,Kr)),Math.abs(E(this,Br)),Math.abs(E(this,Gr)),Math.abs(E(this,Vr)),Math.abs(E(this,zr)),Math.abs(E(this,Hr)),Math.abs(E(this,qr)),Math.abs(E(this,Wr)))}add(s,f=void 0){if(!lr(this))throw new TypeError("invalid receiver");let{years:e,months:y,weeks:p,days:h,hours:t,minutes:c,seconds:u,milliseconds:d,microseconds:l,nanoseconds:n}=wn(s);const r=yt(f),o=xi(r);return{years:e,months:y,weeks:p,days:h,hours:t,minutes:c,seconds:u,milliseconds:d,microseconds:l,nanoseconds:n}=dl(E(this,Fr),E(this,Er),E(this,Kr),E(this,Br),E(this,Gr),E(this,Vr),E(this,zr),E(this,Hr),E(this,qr),E(this,Wr),e,y,p,h,t,c,u,d,l,n,o),new Un(e,y,p,h,t,c,u,d,l,n)}subtract(s,f=void 0){if(!lr(this))throw new TypeError("invalid receiver");let{years:e,months:y,weeks:p,days:h,hours:t,minutes:c,seconds:u,milliseconds:d,microseconds:l,nanoseconds:n}=wn(s);const r=yt(f),o=xi(r);return{years:e,months:y,weeks:p,days:h,hours:t,minutes:c,seconds:u,milliseconds:d,microseconds:l,nanoseconds:n}=dl(E(this,Fr),E(this,Er),E(this,Kr),E(this,Br),E(this,Gr),E(this,Vr),E(this,zr),E(this,Hr),E(this,qr),E(this,Wr),-e,-y,-p,-h,-t,-c,-u,-d,-l,-n,o),new Un(e,y,p,h,t,c,u,d,l,n)}round(s){if(!lr(this))throw new TypeError("invalid receiver");if(s===void 0)throw new TypeError("options parameter is required");let f=E(this,Fr),e=E(this,Er),y=E(this,Kr),p=E(this,Br),h=E(this,Gr),t=E(this,Vr),c=E(this,zr),u=E(this,Hr),d=E(this,qr),l=E(this,Wr),n=Ja(f,e,y,p,h,t,c,u,d,l);const r=typeof s=="string"?ii("smallestUnit",s):yt(s);let o=Xr(r,void 0),i=!0;o||(i=!1,o="nanosecond"),n=_n(n,o);let a=cn(r,void 0),m=!0;if(a||(m=!1,a=n),a==="auto"&&(a=n),!i&&!m)throw new RangeError("at least one of smallestUnit or largestUnit is required");yn(a,o);const v=xr(r,"halfExpand"),b=Ui(r,o);let x=xi(r);return{years:f,months:e,weeks:y,days:p}=bs(f,e,y,p,a,x),{years:f,months:e,weeks:y,days:p,hours:h,minutes:t,seconds:c,milliseconds:u,microseconds:d,nanoseconds:l}=gn(f,e,y,p,h,t,c,u,d,l,b,o,v,x),{years:f,months:e,weeks:y,days:p,hours:h,minutes:t,seconds:c,milliseconds:u,microseconds:d,nanoseconds:l}=fl(f,e,y,p,h,t,c,u,d,l,b,o,v,x),{years:f,months:e,weeks:y,days:p}=wf(f,e,y,p,a,x),Je(x)&&(x=hl(x,f,e,y,0)),{days:p,hours:h,minutes:t,seconds:c,milliseconds:u,microseconds:d,nanoseconds:l}=Ar(p,h,t,c,u,d,l,a,x),new Un(f,e,y,p,h,t,c,u,d,l)}total(s){if(!lr(this))throw new TypeError("invalid receiver");let f=E(this,Fr),e=E(this,Er),y=E(this,Kr),p=E(this,Br),h=E(this,Gr),t=E(this,Vr),c=E(this,zr),u=E(this,Hr),d=E(this,qr),l=E(this,Wr);if(s===void 0)throw new TypeError("options argument is required");const n=typeof s=="string"?ii("unit",s):yt(s),r=ff(n);if(r===void 0)throw new RangeError("unit option is required");const o=xi(n);({years:f,months:e,weeks:y,days:p}=bs(f,e,y,p,r,o));let i;Je(o)&&(i=hl(o,f,e,y,0)),{days:p,hours:h,minutes:t,seconds:c,milliseconds:u,microseconds:d,nanoseconds:l}=Ar(p,h,t,c,u,d,l,r,i);const{total:a}=gn(f,e,y,p,h,t,c,u,d,l,1,r,"trunc",o);return a}toString(s=void 0){if(!lr(this))throw new TypeError("invalid receiver");const f=yt(s),{precision:e,unit:y,increment:p}=ns(f);if(e==="minute")throw new RangeError('smallestUnit must not be "minute"');const h=xr(f,"trunc");return vs(this,e,{unit:y,increment:p,roundingMode:h})}toJSON(){if(!lr(this))throw new TypeError("invalid receiver");return vs(this)}toLocaleString(s=void 0,f=void 0){if(!lr(this))throw new TypeError("invalid receiver");return typeof Intl!="undefined"&&typeof Intl.DurationFormat!="undefined"?new Intl.DurationFormat(s,f).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),vs(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(s){return lr(s)?new Un(E(s,Fr),E(s,Er),E(s,Kr),E(s,Br),E(s,Gr),E(s,Vr),E(s,zr),E(s,Hr),E(s,qr),E(s,Wr)):Jo(s)}static compare(s,f,e=void 0){const y=Jo(s),p=Jo(f),h=yt(e),t=xi(h),c=E(y,Fr),u=E(y,Er),d=E(y,Kr);let l=E(y,Br);const n=E(y,Gr),r=E(y,Vr),o=E(y,zr),i=E(y,Hr),a=E(y,qr);let m=E(y,Wr);const v=E(p,Fr),b=E(p,Er),x=E(p,Kr);let S=E(p,Br);const M=E(p,Gr),C=E(p,Vr),O=E(p,zr),R=E(p,Hr),P=E(p,qr);let L=E(p,Wr);const U=Zu(t,c,u,d,l,n,r,o,i,a,m),A=Zu(t,v,b,x,S,M,C,O,R,P,L);(c!==0||v!==0||u!==0||b!==0||d!==0||x!==0)&&({days:l}=bs(c,u,d,l,"day",t),{days:S}=bs(v,b,x,S,"day",t));const B=oi(l,n,r,o,i,a,m,U),F=oi(S,M,C,O,R,P,L,A);return Ro(k.toNumber(k.subtract(B,F)))}}Vn(Un,"Temporal.Duration");const Ff=Object.create;class zl{constructor(s,f,e=vr(),y=1972){const p=qt(s),h=qt(f),t=Ir(e),c=qt(y);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");zc(this,p,h,t,c)}get monthCode(){if(!Dr(this))throw new TypeError("invalid receiver");return is(E(this,Se),this)}get day(){if(!Dr(this))throw new TypeError("invalid receiver");return na(E(this,Se),this)}get calendar(){if(!Dr(this))throw new TypeError("invalid receiver");return E(this,Se)}with(s,f=void 0){if(!Dr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");di(s);const e=E(this,Se),y=fr(e,["day","month","monthCode","year"]),p=mo(s,y);if(!p)throw new TypeError("invalid month-day-like");let h=ko(this,y);h=Ao(e,h,p),h=ko(h,y);const t=yt(f);return ni(e,h,t)}equals(s){if(!Dr(this))throw new TypeError("invalid receiver");const f=$u(s);for(const e of[$e,Xe,Ye]){const y=E(this,e),p=E(f,e);if(y!==p)return!1}return ss(E(this,Se),E(f,Se))}toString(s=void 0){if(!Dr(this))throw new TypeError("invalid receiver");const f=yt(s),e=rs(f);return ol(this,e)}toJSON(){if(!Dr(this))throw new TypeError("invalid receiver");return ol(this)}toLocaleString(s=void 0,f=void 0){if(!Dr(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(s){if(!Dr(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("argument should be an object");const f=E(this,Se),e=fr(f,["day","monthCode"]),y=ko(this,e),p=fr(f,["year"]),h=[["year",void 0]];p.forEach(n=>{h.some(([r])=>r===n)||h.push([n,void 0])});const t=Rr(s,h);let c=Ao(f,y,t);const u=[...new Set([...e,...p])],d=[];u.forEach(n=>{d.some(([r])=>r===n)||d.push([n,void 0])}),c=Rr(c,d);const l=Ff(null);return l.overflow="reject",jn(f,c,l)}getISOFields(){if(!Dr(this))throw new TypeError("invalid receiver");return{calendar:E(this,Se),isoDay:E(this,Xe),isoMonth:E(this,$e),isoYear:E(this,Ye)}}static from(s,f=void 0){const e=yt(f);return Dr(s)?(Lr(e),Fi(E(s,$e),E(s,Xe),E(s,Se),E(s,Ye))):$u(s,e)}}Vn(zl,"Temporal.PlainMonthDay");const Hl=()=>{const _=at("%Temporal.Instant%");return new _(Bl())},gd=(_,s=yo())=>{const f=Jr(s),e=Ir(_),y=Hl();return dn(f,y,e)},ql=(_=yo())=>{const s=Jr(_),f=vr(),e=Hl();return dn(s,e,f)},vd=(_,s=yo())=>{const f=Jr(s),e=Ir(_);return kr(Bl(),f,e)},Bf=(_=yo())=>vd(vr(),_),Gf=(_,s=yo())=>Po(gd(_,s)),Vf=(_=yo())=>Po(ql(_)),zf=(_=yo())=>Ll(ql(_)),yo=()=>Tf(),bd={instant:Hl,plainDateTime:gd,plainDateTimeISO:ql,plainDate:Gf,plainDateISO:Vf,plainTimeISO:zf,timeZone:yo,zonedDateTime:vd,zonedDateTimeISO:Bf,[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(bd,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const Hf=Object.assign,Ei=["year","month","week","day"],Ra={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};function Aa(_,s,f=void 0){let e=E(_,ct),y=E(_,dt),p=E(_,ht),h=E(_,ft),t=E(_,pt),c=E(_,mt);if(f){const{unit:n,increment:r,roundingMode:o}=f;({hour:e,minute:y,second:p,millisecond:h,microsecond:t,nanosecond:c}=Fl(e,y,p,h,t,c,r,n,o))}const u=rr(e),d=rr(y),l=ua(p,h,t,c,s);return`${u}:${d}${l}`}class Kn{constructor(s=0,f=0,e=0,y=0,p=0,h=0){const t=qt(s),c=qt(f),u=qt(e),d=qt(y),l=qt(p),n=qt(h);ca(t,c,u,d,l,n),zn(this),Et(this,ct,t),Et(this,dt,c),Et(this,ht,u),Et(this,ft,d),Et(this,pt,l),Et(this,mt,n),Et(this,Se,vr()),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${Aa(this,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}get calendar(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,Se)}get hour(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,ct)}get minute(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,dt)}get second(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,ht)}get millisecond(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,ft)}get microsecond(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,pt)}get nanosecond(){if(!ur(this))throw new TypeError("invalid receiver");return E(this,mt)}with(s,f=void 0){if(!ur(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");di(s);const e=yt(f),y=Lr(e),p=mo(s,["hour","microsecond","millisecond","minute","nanosecond","second"]);if(!p)throw new TypeError("invalid time-like");const h=Cl(this);let{hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}=Hf(h,p);return{hour:t,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:n}=Ci(t,c,u,d,l,n,y),new Kn(t,c,u,d,l,n)}add(s){if(!ur(this))throw new TypeError("invalid receiver");const f=wn(s),{hours:e,minutes:y,seconds:p,milliseconds:h,microseconds:t,nanoseconds:c}=f;let u=E(this,ct),d=E(this,dt),l=E(this,ht),n=E(this,ft),r=E(this,pt),o=E(this,mt);return{hour:u,minute:d,second:l,millisecond:n,microsecond:r,nanosecond:o}=cl(u,d,l,n,r,o,e,y,p,h,t,c),{hour:u,minute:d,second:l,millisecond:n,microsecond:r,nanosecond:o}=Ci(u,d,l,n,r,o,"reject"),new Kn(u,d,l,n,r,o)}subtract(s){if(!ur(this))throw new TypeError("invalid receiver");const f=wn(s),{hours:e,minutes:y,seconds:p,milliseconds:h,microseconds:t,nanoseconds:c}=f;let u=E(this,ct),d=E(this,dt),l=E(this,ht),n=E(this,ft),r=E(this,pt),o=E(this,mt);return{hour:u,minute:d,second:l,millisecond:n,microsecond:r,nanosecond:o}=cl(u,d,l,n,r,o,-e,-y,-p,-h,-t,-c),{hour:u,minute:d,second:l,millisecond:n,microsecond:r,nanosecond:o}=Ci(u,d,l,n,r,o,"reject"),new Kn(u,d,l,n,r,o)}until(s,f=void 0){if(!ur(this))throw new TypeError("invalid receiver");const e=Nn(s),y=yt(f),p=cn(y,"auto",Ei,"hour"),h=Xr(y,"nanosecond",Ei);yn(p,h);const t=xr(y,"trunc"),c=mn(y,Ra[h],!1);let{hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=ll(E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt),E(e,ct),E(e,dt),E(e,ht),E(e,ft),E(e,pt),E(e,mt));({hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=gn(0,0,0,0,u,d,l,n,r,o,c,h,t)),{hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=Ar(0,u,d,l,n,r,o,p);const i=at("%Temporal.Duration%");return new i(0,0,0,0,u,d,l,n,r,o)}since(s,f=void 0){if(!ur(this))throw new TypeError("invalid receiver");const e=Nn(s),y=yt(f),p=cn(y,"auto",Ei,"hour"),h=Xr(y,"nanosecond",Ei);yn(p,h);const t=xr(y,"trunc"),c=mn(y,Ra[h],!1);let{hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=ll(E(e,ct),E(e,dt),E(e,ht),E(e,ft),E(e,pt),E(e,mt),E(this,ct),E(this,dt),E(this,ht),E(this,ft),E(this,pt),E(this,mt));({hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=gn(0,0,0,0,-u,-d,-l,-n,-r,-o,c,h,ts(t))),u=-u,d=-d,l=-l,n=-n,r=-r,o=-o,{hours:u,minutes:d,seconds:l,milliseconds:n,microseconds:r,nanoseconds:o}=Ar(0,u,d,l,n,r,o,p);const i=at("%Temporal.Duration%");return new i(0,0,0,0,u,d,l,n,r,o)}round(s){if(!ur(this))throw new TypeError("invalid receiver");if(s===void 0)throw new TypeError("options parameter is required");const f=typeof s=="string"?ii("smallestUnit",s):yt(s),e=Xr(f,void 0,Ei);if(e===void 0)throw new RangeError("smallestUnit is required");const y=xr(f,"halfExpand"),p=mn(f,Ra[e],!1);let h=E(this,ct),t=E(this,dt),c=E(this,ht),u=E(this,ft),d=E(this,pt),l=E(this,mt);return{hour:h,minute:t,second:c,millisecond:u,microsecond:d,nanosecond:l}=Fl(h,t,c,u,d,l,p,e,y),new Kn(h,t,c,u,d,l)}equals(s){if(!ur(this))throw new TypeError("invalid receiver");const f=Nn(s);for(const e of[ct,dt,ht,ft,pt,mt]){const y=E(this,e),p=E(f,e);if(y!==p)return!1}return!0}toString(s=void 0){if(!ur(this))throw new TypeError("invalid receiver");const f=yt(s),{precision:e,unit:y,increment:p}=ns(f),h=xr(f,"trunc");return Aa(this,e,{unit:y,increment:p,roundingMode:h})}toJSON(){if(!ur(this))throw new TypeError("invalid receiver");return Aa(this,"auto")}toLocaleString(s=void 0,f=void 0){if(!ur(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(s){if(!ur(this))throw new TypeError("invalid receiver");const f=zt(s),e=E(f,Ye),y=E(f,$e),p=E(f,Xe),h=E(f,Se),t=E(this,ct),c=E(this,dt),u=E(this,ht),d=E(this,ft),l=E(this,pt),n=E(this,mt);return en(e,y,p,t,c,u,d,l,n,h)}toZonedDateTime(s){if(!ur(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");const f=s.plainDate;if(f===void 0)throw new TypeError("missing date property");const e=zt(f),y=s.timeZone;if(y===void 0)throw new TypeError("missing timeZone property");const p=Jr(y),h=E(e,Ye),t=E(e,$e),c=E(e,Xe),u=E(e,Se),d=E(this,ct),l=E(this,dt),n=E(this,ht),r=E(this,ft),o=E(this,pt),i=E(this,mt),a=at("%Temporal.PlainDateTime%"),m=new a(h,t,c,d,l,n,r,o,i,u),v=Qr(p,m,"compatible");return kr(E(v,ot),p,u)}getISOFields(){if(!ur(this))throw new TypeError("invalid receiver");return{calendar:E(this,Se),isoHour:E(this,ct),isoMicrosecond:E(this,pt),isoMillisecond:E(this,ft),isoMinute:E(this,dt),isoNanosecond:E(this,mt),isoSecond:E(this,ht)}}static from(s,f=void 0){const e=yt(f),y=Lr(e);return ur(s)?new Kn(E(s,ct),E(s,dt),E(s,ht),E(s,ft),E(s,pt),E(s,mt)):Nn(s,y)}static compare(s,f){const e=Nn(s),y=Nn(f);for(const p of[ct,dt,ht,ft,pt,mt]){const h=E(e,p),t=E(y,p);if(h!==t)return Ro(h-t)}return 0}}Vn(Kn,"Temporal.PlainTime");class Wl{constructor(s){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const f=Rl(s);zn(this),Et(this,lo,f),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${f}>`,writable:!1,enumerable:!1,configurable:!1})}get id(){if(!An(this))throw new TypeError("invalid receiver");return lt(this)}getOffsetNanosecondsFor(s){if(!An(this))throw new TypeError("invalid receiver");const f=Mn(s),e=E(this,lo);return Qo(e)?Io(e):to(E(f,ot),e)}getOffsetStringFor(s){if(!An(this))throw new TypeError("invalid receiver");const f=Mn(s);return tl(this,f)}getPlainDateTimeFor(s,f=vr()){const e=Mn(s),y=Ir(f);return dn(this,e,y)}getInstantFor(s,f=void 0){if(!An(this))throw new TypeError("invalid receiver");const e=uo(s),y=yt(f),p=Ni(y);return Qr(this,e,p)}getPossibleInstantsFor(s){if(!An(this))throw new TypeError("invalid receiver");const f=uo(s),e=at("%Temporal.Instant%"),y=E(this,lo);if(Qo(y)){const h=fo(E(f,Ye),E(f,$e),E(f,Xe),E(f,ct),E(f,dt),E(f,ht),E(f,ft),E(f,pt),E(f,mt));if(h===null)throw new RangeError("DateTime outside of supported range");const t=Io(y);return[new e(k.subtract(h,k.BigInt(t)))]}return vf(y,E(f,Ye),E(f,$e),E(f,Xe),E(f,ct),E(f,dt),E(f,ht),E(f,ft),E(f,pt),E(f,mt)).map(h=>new e(h))}getNextTransition(s){if(!An(this))throw new TypeError("invalid receiver");const f=Mn(s),e=E(this,lo);if(Qo(e)||e==="UTC")return null;let y=E(f,ot);const p=at("%Temporal.Instant%");return y=mf(y,e),y===null?null:new p(y)}getPreviousTransition(s){if(!An(this))throw new TypeError("invalid receiver");const f=Mn(s),e=E(this,lo);if(Qo(e)||e==="UTC")return null;let y=E(f,ot);const p=at("%Temporal.Instant%");return y=Qc(y,e),y===null?null:new p(y)}toString(){if(!An(this))throw new TypeError("invalid receiver");return lt(E(this,lo))}toJSON(){if(!An(this))throw new TypeError("invalid receiver");return lt(this)}static from(s){return Jr(s)}}Vn(Wl,"Temporal.TimeZone");const qf=Object.create,_s=["week","day","hour","minute","second","millisecond","microsecond","nanosecond"];class Yl{constructor(s,f,e=vr(),y=1){const p=qt(s),h=qt(f),t=Ir(e),c=qt(y);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");Hc(this,p,h,t,c)}get year(){if(!At(this))throw new TypeError("invalid receiver");return ta(E(this,Se),this)}get month(){if(!At(this))throw new TypeError("invalid receiver");return ra(E(this,Se),this)}get monthCode(){if(!At(this))throw new TypeError("invalid receiver");return is(E(this,Se),this)}get calendar(){if(!At(this))throw new TypeError("invalid receiver");return E(this,Se)}get era(){if(!At(this))throw new TypeError("invalid receiver");return oa(E(this,Se),this)}get eraYear(){if(!At(this))throw new TypeError("invalid receiver");return ia(E(this,Se),this)}get daysInMonth(){if(!At(this))throw new TypeError("invalid receiver");return ei(E(this,Se),this)}get daysInYear(){if(!At(this))throw new TypeError("invalid receiver");return sa(E(this,Se),this)}get monthsInYear(){if(!At(this))throw new TypeError("invalid receiver");return aa(E(this,Se),this)}get inLeapYear(){if(!At(this))throw new TypeError("invalid receiver");return la(E(this,Se),this)}with(s,f=void 0){if(!At(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid argument");di(s);const e=E(this,Se),y=fr(e,["month","monthCode","year"]),p=mo(s,y);if(!p)throw new TypeError("invalid year-month-like");let h=rn(this,y);h=Ao(e,h,p),h=rn(h,y);const t=yt(f);return co(e,h,t)}add(s,f=void 0){if(!At(this))throw new TypeError("invalid receiver");const e=wn(s);let{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e;({days:t}=Ar(t,c,u,d,l,n,r,"day"));const o=yt(f),i=E(this,Se),a=fr(i,["monthCode","year"]),m=rn(this,a),b=bn(y,p,h,t,0,0,0,0,0,0)<0?ti(ei(i,this)):1,x=jn(i,Yt(Mt({},m),{day:b})),S=Mt({},o),M=$r(i,x,Yt(Mt({},e),{days:t}),o),C=rn(M,a);return co(i,C,S)}subtract(s,f=void 0){if(!At(this))throw new TypeError("invalid receiver");let e=wn(s);e={years:-e.years,months:-e.months,weeks:-e.weeks,days:-e.days,hours:-e.hours,minutes:-e.minutes,seconds:-e.seconds,milliseconds:-e.milliseconds,microseconds:-e.microseconds,nanoseconds:-e.nanoseconds};let{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e;({days:t}=Ar(t,c,u,d,l,n,r,"day"));const o=yt(f),i=E(this,Se),a=fr(i,["monthCode","year"]),m=rn(this,a),b=bn(y,p,h,t,0,0,0,0,0,0)<0?ti(ei(i,this)):1,x=jn(i,Yt(Mt({},m),{day:b})),S=Mt({},o),M=$r(i,x,Yt(Mt({},e),{days:t}),o),C=rn(M,a);return co(i,C,S)}until(s,f=void 0){if(!At(this))throw new TypeError("invalid receiver");const e=$o(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between months of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"month",_s),d=cn(c,"auto",_s,"year");yn(d,u);const l=xr(c,"trunc"),n=mn(c,void 0,!1),r=fr(y,["monthCode","year"]),o=rn(e,r),i=rn(this,r),a=jn(y,Yt(Mt({},o),{day:1})),m=jn(y,Yt(Mt({},i),{day:1})),v=Yt(Mt({},c),{largestUnit:d}),b=Fn(y,m,a,v);if(u==="month"&&n===1)return b;let{years:x,months:S}=b;({years:x,months:S}=gn(x,S,0,0,0,0,0,0,0,0,n,u,l,m));const M=at("%Temporal.Duration%");return new M(x,S,0,0,0,0,0,0,0,0)}since(s,f=void 0){if(!At(this))throw new TypeError("invalid receiver");const e=$o(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between months of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"month",_s),d=cn(c,"auto",_s,"year");yn(d,u);const l=xr(c,"trunc"),n=mn(c,void 0,!1),r=fr(y,["monthCode","year"]),o=rn(e,r),i=rn(this,r),a=jn(y,Yt(Mt({},o),{day:1})),m=jn(y,Yt(Mt({},i),{day:1})),v=Yt(Mt({},c),{largestUnit:d});let{years:b,months:x}=Fn(y,m,a,v);const S=at("%Temporal.Duration%");return u==="month"&&n===1?new S(-b,-x,0,0,0,0,0,0,0,0):({years:b,months:x}=gn(b,x,0,0,0,0,0,0,0,0,n,u,ts(l),m),new S(-b,-x,0,0,0,0,0,0,0,0))}equals(s){if(!At(this))throw new TypeError("invalid receiver");const f=$o(s);for(const e of[Ye,$e,Xe]){const y=E(this,e),p=E(f,e);if(y!==p)return!1}return ss(E(this,Se),E(f,Se))}toString(s=void 0){if(!At(this))throw new TypeError("invalid receiver");const f=yt(s),e=rs(f);return il(this,e)}toJSON(){if(!At(this))throw new TypeError("invalid receiver");return il(this)}toLocaleString(s=void 0,f=void 0){if(!At(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(s){if(!At(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("argument should be an object");const f=E(this,Se),e=fr(f,["monthCode","year"]),y=rn(this,e),p=fr(f,["day"]),h=[["day"]];p.forEach(n=>{h.some(([r])=>r===n)||h.push([n,void 0])});const t=Rr(s,h);let c=Ao(f,y,t);const u=[...new Set([...e,...p])],d=[];u.forEach(n=>{d.some(([r])=>r===n)||d.push([n,void 0])}),c=Rr(c,d);const l=qf(null);return l.overflow="reject",jn(f,c,l)}getISOFields(){if(!At(this))throw new TypeError("invalid receiver");return{calendar:E(this,Se),isoDay:E(this,Xe),isoMonth:E(this,$e),isoYear:E(this,Ye)}}static from(s,f=void 0){const e=yt(f);return At(s)?(Lr(e),Bi(E(s,Ye),E(s,$e),E(s,Se),E(s,Xe))):$o(s,e)}static compare(s,f){const e=$o(s),y=$o(f);return Zn(E(e,Ye),E(e,$e),E(e,Xe),E(y,Ye),E(y,$e),E(y,Xe))}}Vn(Yl,"Temporal.PlainYearMonth");const Wf=Array.prototype.push;class $l{constructor(s,f,e=vr()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const y=Di(s),p=Jr(f),h=Ir(e);qc(this,y,p,h)}get calendar(){if(!Je(this))throw new TypeError("invalid receiver");return E(this,Se)}get timeZone(){if(!Je(this))throw new TypeError("invalid receiver");return E(this,Pt)}get year(){if(!Je(this))throw new TypeError("invalid receiver");return ta(E(this,Se),tr(this))}get month(){if(!Je(this))throw new TypeError("invalid receiver");return ra(E(this,Se),tr(this))}get monthCode(){if(!Je(this))throw new TypeError("invalid receiver");return is(E(this,Se),tr(this))}get day(){if(!Je(this))throw new TypeError("invalid receiver");return na(E(this,Se),tr(this))}get hour(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),ct)}get minute(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),dt)}get second(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),ht)}get millisecond(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),ft)}get microsecond(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),pt)}get nanosecond(){if(!Je(this))throw new TypeError("invalid receiver");return E(tr(this),mt)}get era(){if(!Je(this))throw new TypeError("invalid receiver");return oa(E(this,Se),tr(this))}get eraYear(){if(!Je(this))throw new TypeError("invalid receiver");return ia(E(this,Se),tr(this))}get epochSeconds(){if(!Je(this))throw new TypeError("invalid receiver");const s=E(this,ot);return k.toNumber(k.divide(s,eo))}get epochMilliseconds(){if(!Je(this))throw new TypeError("invalid receiver");const s=E(this,ot);return k.toNumber(k.divide(s,pn))}get epochMicroseconds(){if(!Je(this))throw new TypeError("invalid receiver");const s=E(this,ot);return Ys(k.divide(s,Ft))}get epochNanoseconds(){if(!Je(this))throw new TypeError("invalid receiver");return Ys(E(this,ot))}get dayOfWeek(){if(!Je(this))throw new TypeError("invalid receiver");return Dl(E(this,Se),tr(this))}get dayOfYear(){if(!Je(this))throw new TypeError("invalid receiver");return Ol(E(this,Se),tr(this))}get weekOfYear(){if(!Je(this))throw new TypeError("invalid receiver");return kl(E(this,Se),tr(this))}get hoursInDay(){if(!Je(this))throw new TypeError("invalid receiver");const s=tr(this),f=at("%Temporal.PlainDateTime%"),e=E(s,Ye),y=E(s,$e),p=E(s,Xe),h=new f(e,y,p,0,0,0,0,0,0),t=Lo(e,y,p,0,0,0,1,"reject"),c=new f(t.year,t.month,t.day,0,0,0,0,0,0),u=E(this,Pt),d=E(Qr(u,h,"compatible"),ot),l=E(Qr(u,c,"compatible"),ot);return k.toNumber(k.subtract(l,d))/36e11}get daysInWeek(){if(!Je(this))throw new TypeError("invalid receiver");return Pl(E(this,Se),tr(this))}get daysInMonth(){if(!Je(this))throw new TypeError("invalid receiver");return ei(E(this,Se),tr(this))}get daysInYear(){if(!Je(this))throw new TypeError("invalid receiver");return sa(E(this,Se),tr(this))}get monthsInYear(){if(!Je(this))throw new TypeError("invalid receiver");return aa(E(this,Se),tr(this))}get inLeapYear(){if(!Je(this))throw new TypeError("invalid receiver");return la(E(this,Se),tr(this))}get offset(){if(!Je(this))throw new TypeError("invalid receiver");return tl(E(this,Pt),E(this,Nr))}get offsetNanoseconds(){if(!Je(this))throw new TypeError("invalid receiver");return Dn(E(this,Pt),E(this,Nr))}with(s,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");if(!Jt(s))throw new TypeError("invalid zoned-date-time-like");di(s);const e=yt(f),y=Ni(e),p=Qa(e,"prefer"),h=E(this,Pt),t=E(this,Se),c=fr(t,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);Wf.call(c,"offset");const u=mo(s,c);if(!u)throw new TypeError("invalid zoned-date-time-like");const d=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset"],["timeZone"]];c.forEach(C=>{d.some(([O])=>O===C)||d.push([C,void 0])});let l=Rr(this,d);l=Ao(t,l,u),l=Rr(l,d);const{year:n,month:r,day:o,hour:i,minute:a,second:m,millisecond:v,microsecond:b,nanosecond:x}=os(t,l,e),S=Io(l.offset),M=Bs(n,r,o,i,a,m,v,b,x,"option",S,h,y,p,!1);return kr(M,E(this,Pt),t)}withPlainDate(s){if(!Je(this))throw new TypeError("invalid receiver");const f=zt(s),e=E(f,Ye),y=E(f,$e),p=E(f,Xe);let h=E(f,Se);const t=tr(this),c=E(t,ct),u=E(t,dt),d=E(t,ht),l=E(t,ft),n=E(t,pt),r=E(t,mt);h=Wc(E(this,Se),h);const o=E(this,Pt),i=at("%Temporal.PlainDateTime%"),a=new i(e,y,p,c,u,d,l,n,r,h),m=Qr(o,a,"compatible");return kr(E(m,ot),o,h)}withPlainTime(s=void 0){if(!Je(this))throw new TypeError("invalid receiver");const f=at("%Temporal.PlainTime%"),e=s==null?new f:Nn(s),y=tr(this),p=E(y,Ye),h=E(y,$e),t=E(y,Xe),c=E(this,Se),u=E(e,ct),d=E(e,dt),l=E(e,ht),n=E(e,ft),r=E(e,pt),o=E(e,mt),i=E(this,Pt),a=at("%Temporal.PlainDateTime%"),m=new a(p,h,t,u,d,l,n,r,o,c),v=Qr(i,m,"compatible");return kr(E(v,ot),i,c)}withTimeZone(s){if(!Je(this))throw new TypeError("invalid receiver");const f=Jr(s);return kr(E(this,ot),f,E(this,Se))}withCalendar(s){if(!Je(this))throw new TypeError("invalid receiver");const f=Ir(s);return kr(E(this,ot),E(this,Pt),f)}add(s,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");const e=wn(s),{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e,o=yt(f),i=E(this,Pt),a=E(this,Se),m=un(E(this,Nr),i,a,y,p,h,t,c,u,d,l,n,r,o);return kr(m,i,a)}subtract(s,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");const e=wn(s),{years:y,months:p,weeks:h,days:t,hours:c,minutes:u,seconds:d,milliseconds:l,microseconds:n,nanoseconds:r}=e,o=yt(f),i=E(this,Pt),a=E(this,Se),m=un(E(this,Nr),i,a,-y,-p,-h,-t,-c,-u,-d,-l,-n,-r,o);return kr(m,i,a)}until(s,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");const e=Xo(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"nanosecond"),d=_n("hour",u),l=cn(c,"auto",[],d);yn(l,u);const n=xr(c,"trunc"),r=Ui(c,u),o=E(this,ot),i=E(e,ot);let a,m,v,b,x,S,M,C,O,R;if(l!=="year"&&l!=="month"&&l!=="week"&&l!=="day")a=0,m=0,v=0,b=0,{seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=Vi(o,i,r,u,n),{hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=Ar(0,0,0,M,C,O,R,l);else{const L=E(this,Pt);if(!Pa(L,E(e,Pt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const U=Yt(Mt({},c),{largestUnit:l});({years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=ul(o,i,L,y,l,U)),{years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=gn(a,m,v,b,x,S,M,C,O,R,r,u,n,this),{years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=fl(a,m,v,b,x,S,M,C,O,R,r,u,n,this)}const P=at("%Temporal.Duration%");return new P(a,m,v,b,x,S,M,C,O,R)}since(s,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");const e=Xo(s),y=E(this,Se),p=E(e,Se),h=lt(y),t=lt(p);if(h!==t)throw new RangeError(`cannot compute difference between dates of ${h} and ${t} calendars`);const c=yt(f),u=Xr(c,"nanosecond"),d=_n("hour",u),l=cn(c,"auto",[],d);yn(l,u);let n=xr(c,"trunc");n=ts(n);const r=Ui(c,u),o=E(this,ot),i=E(e,ot);let a,m,v,b,x,S,M,C,O,R;if(l!=="year"&&l!=="month"&&l!=="week"&&l!=="day")a=0,m=0,v=0,b=0,{seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=Vi(o,i,r,u,n),{hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=Ar(0,0,0,M,C,O,R,l);else{const L=E(this,Pt);if(!Pa(L,E(e,Pt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const U=Yt(Mt({},c),{largestUnit:l});({years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=ul(o,i,L,y,l,U)),{years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=gn(a,m,v,b,x,S,M,C,O,R,r,u,n,this),{years:a,months:m,weeks:v,days:b,hours:x,minutes:S,seconds:M,milliseconds:C,microseconds:O,nanoseconds:R}=fl(a,m,v,b,x,S,M,C,O,R,r,u,n,this)}const P=at("%Temporal.Duration%");return new P(-a,-m,-v,-b,-x,-S,-M,-C,-O,-R)}round(s){if(!Je(this))throw new TypeError("invalid receiver");if(s===void 0)throw new TypeError("options parameter is required");const f=typeof s=="string"?ii("smallestUnit",s):yt(s),e=Xr(f,void 0,["year","month","week"]);if(e===void 0)throw new RangeError("smallestUnit is required");const y=xr(f,"halfExpand"),h=mn(f,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1),t=tr(this);let c=E(t,Ye),u=E(t,$e),d=E(t,Xe),l=E(t,ct),n=E(t,dt),r=E(t,ht),o=E(t,ft),i=E(t,pt),a=E(t,mt);const m=at("%Temporal.PlainDateTime%"),v=E(this,Pt),b=E(this,Se),x=new m(E(t,Ye),E(t,$e),E(t,Xe),0,0,0,0,0,0),S=Qr(v,x,"compatible"),M=un(S,v,b,0,0,0,1,0,0,0,0,0,0),C=k.subtract(M,k.BigInt(E(S,ot)));if(k.equal(C,gr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");({year:c,month:u,day:d,hour:l,minute:n,second:r,millisecond:o,microsecond:i,nanosecond:a}=Ul(c,u,d,l,n,r,o,i,a,h,e,y,k.toNumber(C)));const O=Dn(v,E(this,Nr)),R=Bs(c,u,d,l,n,r,o,i,a,"option",O,v,"compatible","prefer",!1);return kr(R,v,E(this,Se))}equals(s){if(!Je(this))throw new TypeError("invalid receiver");const f=Xo(s),e=E(this,ot),y=E(f,ot);return!k.equal(k.BigInt(e),k.BigInt(y))||!Pa(E(this,Pt),E(f,Pt))?!1:ss(E(this,Se),E(f,Se))}toString(s=void 0){if(!Je(this))throw new TypeError("invalid receiver");const f=yt(s),{precision:e,unit:y,increment:p}=ns(f),h=xr(f,"trunc"),t=rs(f),c=df(f),u=hf(f);return sl(this,e,t,c,u,{unit:y,increment:p,roundingMode:h})}toLocaleString(s=void 0,f=void 0){if(!Je(this))throw new TypeError("invalid receiver");return new Bo(s,f).format(this)}toJSON(){if(!Je(this))throw new TypeError("invalid receiver");return sl(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Je(this))throw new TypeError("invalid receiver");const s=tr(this),f=at("%Temporal.PlainDateTime%"),e=E(this,Se),y=new f(E(s,Ye),E(s,$e),E(s,Xe),0,0,0,0,0,0,e),p=E(this,Pt),h=Qr(p,y,"compatible");return kr(E(h,ot),p,e)}toInstant(){if(!Je(this))throw new TypeError("invalid receiver");const s=at("%Temporal.Instant%");return new s(E(this,ot))}toPlainDate(){if(!Je(this))throw new TypeError("invalid receiver");return Po(tr(this))}toPlainTime(){if(!Je(this))throw new TypeError("invalid receiver");return Ll(tr(this))}toPlainDateTime(){if(!Je(this))throw new TypeError("invalid receiver");return tr(this)}toPlainYearMonth(){if(!Je(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["monthCode","year"]),e=rn(this,f);return co(s,e)}toPlainMonthDay(){if(!Je(this))throw new TypeError("invalid receiver");const s=E(this,Se),f=fr(s,["day","monthCode"]),e=ko(this,f);return ni(s,e)}getISOFields(){if(!Je(this))throw new TypeError("invalid receiver");const s=tr(this),f=E(this,Pt);return{calendar:E(this,Se),isoDay:E(s,Xe),isoHour:E(s,ct),isoMicrosecond:E(s,pt),isoMillisecond:E(s,ft),isoMinute:E(s,dt),isoMonth:E(s,$e),isoNanosecond:E(s,mt),isoSecond:E(s,ht),isoYear:E(s,Ye),offset:tl(f,E(this,Nr)),timeZone:f}}static from(s,f=void 0){const e=yt(f);return Je(s)?(Lr(e),Ni(e),Qa(e,"reject"),kr(E(s,ot),E(s,Pt),E(s,Se))):Xo(s,e)}static compare(s,f){const e=Xo(s),y=Xo(f),p=E(e,ot),h=E(y,ot);return k.lessThan(k.BigInt(p),k.BigInt(h))?-1:k.greaterThan(k.BigInt(p),k.BigInt(h))?1:0}}Vn($l,"Temporal.ZonedDateTime");function tr(_){return dn(E(_,Pt),E(_,Nr),E(_,Se))}var yl=Object.freeze({__proto__:null,Instant:hn,Calendar:Js,PlainDate:ls,PlainDateTime:us,Duration:Un,PlainMonthDay:zl,Now:bd,PlainTime:Kn,TimeZone:Wl,PlainYearMonth:Yl,ZonedDateTime:$l});const Yf=[hn,Js,ls,us,Un,zl,Kn,Wl,Yl,$l];for(const _ of Yf){const s=Object.getOwnPropertyDescriptor(_,"prototype");(s.configurable||s.enumerable||s.writable)&&(s.configurable=!1,s.enumerable=!1,s.writable=!1,Object.defineProperty(_,"prototype",s))}class Qu{constructor(s,f,e){bt(this,"shade");bt(this,"name","Default Name");bt(this,"uuid",lc());bt(this,"intervalID",null);bt(this,"isPaused",!0);bt(this,"game");bt(this,"currentTime",yl.Duration.from({minutes:30}));bt(this,"events",{ontimechanged(){}});this.shade=f,this.name=s,this.game=e,this.currentTime=yl.Duration.from(this.game.initialTime)}start(){return this.isPaused=!1,this.intervalID=setInterval(()=>{this.currentTime=this.currentTime.subtract({seconds:1}),this.events.ontimechanged(this.shade,this.currentTime)},1e3),this}pause(){return this.intervalID&&(clearInterval(this.intervalID),this.isPaused=!0),this}}class $f{constructor(){bt(this,"board");bt(this,"initialTime",yl.Duration.from({minutes:30}));bt(this,"light",new Qu("light","light",this));bt(this,"dark",new Qu("dark","dark",this));bt(this,"isPaused",!1);bt(this,"hasStarted",!1);bt(this,"currentPlayer",this.light);bt(this,"events",{light:Mt({},this.light.events),dark:Mt({},this.dark.events)});this.board=new ah,this.board.game=this}addLightPlayer(s){return this.light.name=s,this}addDarkPlayer(s){return this.dark.name=s,this}start(){return this.isPaused=!1,this.hasStarted=!0,this.currentPlayer.start(),this}pause(){return this.isPaused=!0,this.light.pause(),this.dark.pause(),this}reset(){return this.pause(),this}switch(){this.currentPlayer.pause(),this.currentPlayer=this.currentPlayer.shade==="dark"?this.light:this.dark,this.currentPlayer.start()}}const Cn={canvasSize:900,canvasParent:"app",game:new $f},wd={onpiecemove:(_,s,f)=>{}},Xf=_=>{const{board:s}=Cn.game;let f=null,e=!1;_.setup=()=>{_.createCanvas(Cn.canvasSize,Cn.canvasSize).parent(Cn.canvasParent),_.background(0,0,0),s.loadPieces()};const y=(l,n=!1)=>{const r=_.width,o=_.height,i=8;let a=l.file*r/i,m=(l.rank+7-l.rank*2)*o/i;return n&&(a+=r/(i*2),m+=o/(i*2)),[a,m]},p=(l,n)=>{if(l.pos){let r,o;if(n)r=n.x,o=n.y;else{const[i,a]=y(l.pos,!0);r=i,o=a}_.push(),_.fill(0,0,255),_.textSize(50),_.textAlign(_.CENTER,_.CENTER),_.text(l.unicodeChar,r,o),_.pop()}},h=(l,n,r,o)=>{_.fill(...r),_.square(l,n,_.width/8),_.fill(255,0,0),_.text(`${o.file}${o.rank}`,l,n+_.height/8)},t=(l,n=h)=>{const[r,o]=y(l.pos),i=l.shade==="dark"?[0,0,0]:[255,255,255],{rank:a,file:m}=l.chessPosition;_.push(),_.noStroke(),n(r,o,i,{rank:a,file:m}),_.pop()},c=l=>{l.forEach(n=>{n&&t(n)}),f&&f.piece&&(t(f,(n,r)=>{_.fill(0,0,120,175),_.square(n,r,_.width/8)}),f.piece.legalMoves.forEach(n=>{t(n,(r,o)=>{_.fill(0,255,0,150),n.piece&&!n.piece.canBeEaten&&_.fill(255,0,0,150),_.square(r,o,_.width/8)})})),l.pieces.forEach(n=>{n===(f==null?void 0:f.piece)&&e?p(n,{x:_.mouseX,y:_.mouseY}):p(n)})},u=l=>{const[n,r]=y(l.pos);return[_.mouseX>=n&&_.mouseX<=n+_.width/8&&_.mouseY>=r&&_.mouseY<=r+_.height/8,n,r]},d=()=>{var l;(l=f==null?void 0:f.piece)==null||l.legalMoves.forEach(n=>{const[r]=u(n);if(r){const o=f.piece;s.movePiece(n.pos,f.piece)&&(wd.onpiecemove(o,n,Cn.game.board.history.length),f=null)}}),s.forEach(n=>{n&&u(n)[0]&&(f=n)})};_.mousePressed=()=>{switch(_.mouseButton){case _.LEFT:d();break}},_.mouseDragged=()=>{switch(_.mouseButton){case _.LEFT:f&&f.piece?e=!0:d();break}},_.mouseReleased=()=>{e=!1,f&&d()},_.draw=()=>{c(s)}};var xs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Zf(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function Ts(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _d={exports:{}};/*! p5.js v1.4.1 February 02, 2022 */(function(_,s){(function(f){_.exports=f()})(function(){var f;return function e(y,p,h){function t(d,l){if(!p[d]){if(!y[d]){var n=typeof Ts=="function"&&Ts;if(!l&&n)return n(d,!0);if(c)return c(d,!0);var r=new Error("Cannot find module '"+d+"'");throw r.code="MODULE_NOT_FOUND",r}var o=p[d]={exports:{}};y[d][0].call(o.exports,function(i){return t(y[d][1][i]||i)},o,o.exports,e,y,p,h)}return p[d].exports}for(var c=typeof Ts=="function"&&Ts,u=0;u<h.length;u++)t(h[u]);return t}({1:[function(e,y,p){p.byteLength=function(o){var i=n(o),a=i[0],m=i[1];return 3*(a+m)/4-m},p.toByteArray=function(o){var i,a,m=n(o),v=m[0],b=m[1],x=new c(function(C,O){return 3*(C+O)/4-O}(v,b)),S=0,M=0<b?v-4:v;for(a=0;a<M;a+=4)i=t[o.charCodeAt(a)]<<18|t[o.charCodeAt(a+1)]<<12|t[o.charCodeAt(a+2)]<<6|t[o.charCodeAt(a+3)],x[S++]=i>>16&255,x[S++]=i>>8&255,x[S++]=255&i;return b===2&&(i=t[o.charCodeAt(a)]<<2|t[o.charCodeAt(a+1)]>>4,x[S++]=255&i),b===1&&(i=t[o.charCodeAt(a)]<<10|t[o.charCodeAt(a+1)]<<4|t[o.charCodeAt(a+2)]>>2,x[S++]=i>>8&255,x[S++]=255&i),x},p.fromByteArray=function(o){for(var i,a=o.length,m=a%3,v=[],b=0,x=a-m;b<x;b+=16383)v.push(r(o,b,x<b+16383?x:b+16383));return m==1?(i=o[a-1],v.push(h[i>>2]+h[i<<4&63]+"==")):m==2&&(i=(o[a-2]<<8)+o[a-1],v.push(h[i>>10]+h[i>>4&63]+h[i<<2&63]+"=")),v.join("")};for(var h=[],t=[],c=typeof Uint8Array!="undefined"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,l=u.length;d<l;++d)h[d]=u[d],t[u.charCodeAt(d)]=d;function n(o){var i=o.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=o.indexOf("=");return a===-1&&(a=i),[a,a===i?0:4-a%4]}function r(o,i,a){for(var m,v,b=[],x=i;x<a;x+=3)m=(o[x]<<16&16711680)+(o[x+1]<<8&65280)+(255&o[x+2]),b.push(h[(v=m)>>18&63]+h[v>>12&63]+h[v>>6&63]+h[63&v]);return b.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},{}],2:[function(e,y,p){},{}],3:[function(e,y,p){arguments[4][2][0].apply(p,arguments)},{dup:2}],4:[function(e,y,p){(function(n){var t=e("base64-js"),c=e("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.Buffer=n,p.SlowBuffer=function(I){return+I!=I&&(I=0),n.alloc(+I)},p.INSPECT_MAX_BYTES=50;var d=2147483647;function l(I){if(d<I)throw new RangeError('The value "'+I+'" is invalid for option "size"');var V=new Uint8Array(I);return Object.setPrototypeOf(V,n.prototype),V}function n(I,V,W){if(typeof I!="number")return r(I,V,W);if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(I)}function r(I,V,W){if(typeof I=="string")return function(te,Te){if(typeof Te=="string"&&Te!==""||(Te="utf8"),!n.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);var oe=0|v(te,Te),be=l(oe),me=be.write(te,Te);return me!==oe&&(be=be.slice(0,me)),be}(I,V);if(ArrayBuffer.isView(I))return a(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(De(I,ArrayBuffer)||I&&De(I.buffer,ArrayBuffer))return function(te,Te,oe){if(Te<0||te.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<Te+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var be;return be=Te===void 0&&oe===void 0?new Uint8Array(te):oe===void 0?new Uint8Array(te,Te):new Uint8Array(te,Te,oe),Object.setPrototypeOf(be,n.prototype),be}(I,V,W);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=I.valueOf&&I.valueOf();if(Z!=null&&Z!==I)return n.from(Z,V,W);var ie=function(te){if(n.isBuffer(te)){var Te=0|m(te.length),oe=l(Te);return oe.length===0||te.copy(oe,0,0,Te),oe}if(te.length!==void 0)return typeof te.length!="number"||ve(te.length)?l(0):a(te);if(te.type==="Buffer"&&Array.isArray(te.data))return a(te.data)}(I);if(ie)return ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return n.from(I[Symbol.toPrimitive]("string"),V,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function o(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function i(I){return o(I),l(I<0?0:0|m(I))}function a(I){for(var V=I.length<0?0:0|m(I.length),W=l(V),Z=0;Z<V;Z+=1)W[Z]=255&I[Z];return W}function m(I){if(d<=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|I}function v(I,V){if(n.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||De(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var W=I.length,Z=2<arguments.length&&arguments[2]===!0;if(!Z&&W===0)return 0;for(var ie=!1;;)switch(V){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return pe(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return _e(I).length;default:if(ie)return Z?-1:pe(I).length;V=(""+V).toLowerCase(),ie=!0}}function b(I,V,W){var Z=I[V];I[V]=I[W],I[W]=Z}function x(I,V,W,Z,ie){if(I.length===0)return-1;if(typeof W=="string"?(Z=W,W=0):2147483647<W?W=2147483647:W<-2147483648&&(W=-2147483648),ve(W=+W)&&(W=ie?0:I.length-1),W<0&&(W=I.length+W),W>=I.length){if(ie)return-1;W=I.length-1}else if(W<0){if(!ie)return-1;W=0}if(typeof V=="string"&&(V=n.from(V,Z)),n.isBuffer(V))return V.length===0?-1:S(I,V,W,Z,ie);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(I,V,W):Uint8Array.prototype.lastIndexOf.call(I,V,W):S(I,[V],W,Z,ie);throw new TypeError("val must be string, number or Buffer")}function S(I,V,W,Z,ie){var te,Te=1,oe=I.length,be=V.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(I.length<2||V.length<2)return-1;oe/=Te=2,be/=2,W/=2}function me(je,Ge){return Te===1?je[Ge]:je.readUInt16BE(Ge*Te)}if(ie){var de=-1;for(te=W;te<oe;te++)if(me(I,te)===me(V,de===-1?0:te-de)){if(de===-1&&(de=te),te-de+1===be)return de*Te}else de!==-1&&(te-=te-de),de=-1}else for(oe<W+be&&(W=oe-be),te=W;0<=te;te--){for(var Me=!0,Oe=0;Oe<be;Oe++)if(me(I,te+Oe)!==me(V,Oe)){Me=!1;break}if(Me)return te}return-1}function M(I,V,W,Z){W=Number(W)||0;var ie=I.length-W;Z?ie<(Z=Number(Z))&&(Z=ie):Z=ie;var te=V.length;te/2<Z&&(Z=te/2);for(var Te=0;Te<Z;++Te){var oe=parseInt(V.substr(2*Te,2),16);if(ve(oe))return Te;I[W+Te]=oe}return Te}function C(I,V,W,Z){return ce(function(ie){for(var te=[],Te=0;Te<ie.length;++Te)te.push(255&ie.charCodeAt(Te));return te}(V),I,W,Z)}function O(I,V,W,Z){return ce(function(ie,te){for(var Te,oe,be,me=[],de=0;de<ie.length&&!((te-=2)<0);++de)Te=ie.charCodeAt(de),oe=Te>>8,be=Te%256,me.push(be),me.push(oe);return me}(V,I.length-W),I,W,Z)}function R(I,V,W){return V===0&&W===I.length?t.fromByteArray(I):t.fromByteArray(I.slice(V,W))}function P(I,V,W){W=Math.min(I.length,W);for(var Z=[],ie=V;ie<W;){var te,Te,oe,be,me=I[ie],de=null,Me=239<me?4:223<me?3:191<me?2:1;if(ie+Me<=W)switch(Me){case 1:me<128&&(de=me);break;case 2:(192&(te=I[ie+1]))==128&&127<(be=(31&me)<<6|63&te)&&(de=be);break;case 3:te=I[ie+1],Te=I[ie+2],(192&te)==128&&(192&Te)==128&&2047<(be=(15&me)<<12|(63&te)<<6|63&Te)&&(be<55296||57343<be)&&(de=be);break;case 4:te=I[ie+1],Te=I[ie+2],oe=I[ie+3],(192&te)==128&&(192&Te)==128&&(192&oe)==128&&65535<(be=(15&me)<<18|(63&te)<<12|(63&Te)<<6|63&oe)&&be<1114112&&(de=be)}de===null?(de=65533,Me=1):65535<de&&(de-=65536,Z.push(de>>>10&1023|55296),de=56320|1023&de),Z.push(de),ie+=Me}return function(Oe){var je=Oe.length;if(je<=L)return String.fromCharCode.apply(String,Oe);for(var Ge="",Qe=0;Qe<je;)Ge+=String.fromCharCode.apply(String,Oe.slice(Qe,Qe+=L));return Ge}(Z)}p.kMaxLength=d,(n.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(I,V),I.foo()===42}catch{return!1}}())||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol!="undefined"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(I,V,W){return r(I,V,W)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(I,V,W){return ie=V,te=W,o(Z=I),Z<=0?l(Z):ie!==void 0?typeof te=="string"?l(Z).fill(ie,te):l(Z).fill(ie):l(Z);var Z,ie,te},n.allocUnsafe=function(I){return i(I)},n.allocUnsafeSlow=function(I){return i(I)},n.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==n.prototype},n.compare=function(I,V){if(De(I,Uint8Array)&&(I=n.from(I,I.offset,I.byteLength)),De(V,Uint8Array)&&(V=n.from(V,V.offset,V.byteLength)),!n.isBuffer(I)||!n.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===V)return 0;for(var W=I.length,Z=V.length,ie=0,te=Math.min(W,Z);ie<te;++ie)if(I[ie]!==V[ie]){W=I[ie],Z=V[ie];break}return W<Z?-1:Z<W?1:0},n.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(I,V){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return n.alloc(0);var W;if(V===void 0)for(W=V=0;W<I.length;++W)V+=I[W].length;var Z=n.allocUnsafe(V),ie=0;for(W=0;W<I.length;++W){var te=I[W];if(De(te,Uint8Array)&&(te=n.from(te)),!n.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(Z,ie),ie+=te.length}return Z},n.byteLength=v,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<I;V+=2)b(this,V,V+1);return this},n.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<I;V+=4)b(this,V,V+3),b(this,V+1,V+2);return this},n.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<I;V+=8)b(this,V,V+7),b(this,V+1,V+6),b(this,V+2,V+5),b(this,V+3,V+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?P(this,0,I):function(V,W,Z){var ie=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(W>>>=0))return"";for(V=V||"utf8";;)switch(V){case"hex":return B(this,W,Z);case"utf8":case"utf-8":return P(this,W,Z);case"ascii":return U(this,W,Z);case"latin1":case"binary":return A(this,W,Z);case"base64":return R(this,W,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,W,Z);default:if(ie)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ie=!0}}.apply(this,arguments)},n.prototype.equals=function(I){if(!n.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||n.compare(this,I)===0},n.prototype.inspect=function(){var I="",V=p.INSPECT_MAX_BYTES;return I=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(I+=" ... "),"<Buffer "+I+">"},u&&(n.prototype[u]=n.prototype.inspect),n.prototype.compare=function(I,V,W,Z,ie){if(De(I,Uint8Array)&&(I=n.from(I,I.offset,I.byteLength)),!n.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(V===void 0&&(V=0),W===void 0&&(W=I?I.length:0),Z===void 0&&(Z=0),ie===void 0&&(ie=this.length),V<0||W>I.length||Z<0||ie>this.length)throw new RangeError("out of range index");if(ie<=Z&&W<=V)return 0;if(ie<=Z)return-1;if(W<=V)return 1;if(this===I)return 0;for(var te=(ie>>>=0)-(Z>>>=0),Te=(W>>>=0)-(V>>>=0),oe=Math.min(te,Te),be=this.slice(Z,ie),me=I.slice(V,W),de=0;de<oe;++de)if(be[de]!==me[de]){te=be[de],Te=me[de];break}return te<Te?-1:Te<te?1:0},n.prototype.includes=function(I,V,W){return this.indexOf(I,V,W)!==-1},n.prototype.indexOf=function(I,V,W){return x(this,I,V,W,!0)},n.prototype.lastIndexOf=function(I,V,W){return x(this,I,V,W,!1)},n.prototype.write=function(I,V,W,Z){if(V===void 0)Z="utf8",W=this.length,V=0;else if(W===void 0&&typeof V=="string")Z=V,W=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(W)?(W>>>=0,Z===void 0&&(Z="utf8")):(Z=W,W=void 0)}var ie=this.length-V;if((W===void 0||ie<W)&&(W=ie),0<I.length&&(W<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z=Z||"utf8";for(var te,Te,oe,be,me,de,Me=!1;;)switch(Z){case"hex":return M(this,I,V,W);case"utf8":case"utf-8":return me=V,de=W,ce(pe(I,(be=this).length-me),be,me,de);case"ascii":return C(this,I,V,W);case"latin1":case"binary":return C(this,I,V,W);case"base64":return te=this,Te=V,oe=W,ce(_e(I),te,Te,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,I,V,W);default:if(Me)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),Me=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function U(I,V,W){var Z="";W=Math.min(I.length,W);for(var ie=V;ie<W;++ie)Z+=String.fromCharCode(127&I[ie]);return Z}function A(I,V,W){var Z="";W=Math.min(I.length,W);for(var ie=V;ie<W;++ie)Z+=String.fromCharCode(I[ie]);return Z}function B(I,V,W){var Z=I.length;(!V||V<0)&&(V=0),(!W||W<0||Z<W)&&(W=Z);for(var ie="",te=V;te<W;++te)ie+=ge[I[te]];return ie}function F(I,V,W){for(var Z=I.slice(V,W),ie="",te=0;te<Z.length;te+=2)ie+=String.fromCharCode(Z[te]+256*Z[te+1]);return ie}function K(I,V,W){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(W<I+V)throw new RangeError("Trying to access beyond buffer length")}function re(I,V,W,Z,ie,te){if(!n.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie<V||V<te)throw new RangeError('"value" argument is out of bounds');if(W+Z>I.length)throw new RangeError("Index out of range")}function Q(I,V,W,Z){if(W+Z>I.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function ne(I,V,W,Z,ie){return V=+V,W>>>=0,ie||Q(I,0,W,4),c.write(I,V,W,Z,23,4),W+4}function ee(I,V,W,Z,ie){return V=+V,W>>>=0,ie||Q(I,0,W,8),c.write(I,V,W,Z,52,8),W+8}n.prototype.slice=function(I,V){var W=this.length;(I=~~I)<0?(I+=W)<0&&(I=0):W<I&&(I=W),(V=V===void 0?W:~~V)<0?(V+=W)<0&&(V=0):W<V&&(V=W),V<I&&(V=I);var Z=this.subarray(I,V);return Object.setPrototypeOf(Z,n.prototype),Z},n.prototype.readUIntLE=function(I,V,W){I>>>=0,V>>>=0,W||K(I,V,this.length);for(var Z=this[I],ie=1,te=0;++te<V&&(ie*=256);)Z+=this[I+te]*ie;return Z},n.prototype.readUIntBE=function(I,V,W){I>>>=0,V>>>=0,W||K(I,V,this.length);for(var Z=this[I+--V],ie=1;0<V&&(ie*=256);)Z+=this[I+--V]*ie;return Z},n.prototype.readUInt8=function(I,V){return I>>>=0,V||K(I,1,this.length),this[I]},n.prototype.readUInt16LE=function(I,V){return I>>>=0,V||K(I,2,this.length),this[I]|this[I+1]<<8},n.prototype.readUInt16BE=function(I,V){return I>>>=0,V||K(I,2,this.length),this[I]<<8|this[I+1]},n.prototype.readUInt32LE=function(I,V){return I>>>=0,V||K(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},n.prototype.readUInt32BE=function(I,V){return I>>>=0,V||K(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},n.prototype.readIntLE=function(I,V,W){I>>>=0,V>>>=0,W||K(I,V,this.length);for(var Z=this[I],ie=1,te=0;++te<V&&(ie*=256);)Z+=this[I+te]*ie;return(ie*=128)<=Z&&(Z-=Math.pow(2,8*V)),Z},n.prototype.readIntBE=function(I,V,W){I>>>=0,V>>>=0,W||K(I,V,this.length);for(var Z=V,ie=1,te=this[I+--Z];0<Z&&(ie*=256);)te+=this[I+--Z]*ie;return(ie*=128)<=te&&(te-=Math.pow(2,8*V)),te},n.prototype.readInt8=function(I,V){return I>>>=0,V||K(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},n.prototype.readInt16LE=function(I,V){I>>>=0,V||K(I,2,this.length);var W=this[I]|this[I+1]<<8;return 32768&W?4294901760|W:W},n.prototype.readInt16BE=function(I,V){I>>>=0,V||K(I,2,this.length);var W=this[I+1]|this[I]<<8;return 32768&W?4294901760|W:W},n.prototype.readInt32LE=function(I,V){return I>>>=0,V||K(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},n.prototype.readInt32BE=function(I,V){return I>>>=0,V||K(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},n.prototype.readFloatLE=function(I,V){return I>>>=0,V||K(I,4,this.length),c.read(this,I,!0,23,4)},n.prototype.readFloatBE=function(I,V){return I>>>=0,V||K(I,4,this.length),c.read(this,I,!1,23,4)},n.prototype.readDoubleLE=function(I,V){return I>>>=0,V||K(I,8,this.length),c.read(this,I,!0,52,8)},n.prototype.readDoubleBE=function(I,V){return I>>>=0,V||K(I,8,this.length),c.read(this,I,!1,52,8)},n.prototype.writeUIntLE=function(I,V,W,Z){I=+I,V>>>=0,W>>>=0,Z||re(this,I,V,W,Math.pow(2,8*W)-1,0);var ie=1,te=0;for(this[V]=255&I;++te<W&&(ie*=256);)this[V+te]=I/ie&255;return V+W},n.prototype.writeUIntBE=function(I,V,W,Z){I=+I,V>>>=0,W>>>=0,Z||re(this,I,V,W,Math.pow(2,8*W)-1,0);var ie=W-1,te=1;for(this[V+ie]=255&I;0<=--ie&&(te*=256);)this[V+ie]=I/te&255;return V+W},n.prototype.writeUInt8=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,1,255,0),this[V]=255&I,V+1},n.prototype.writeUInt16LE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,2,65535,0),this[V]=255&I,this[V+1]=I>>>8,V+2},n.prototype.writeUInt16BE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,2,65535,0),this[V]=I>>>8,this[V+1]=255&I,V+2},n.prototype.writeUInt32LE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,4,4294967295,0),this[V+3]=I>>>24,this[V+2]=I>>>16,this[V+1]=I>>>8,this[V]=255&I,V+4},n.prototype.writeUInt32BE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,4,4294967295,0),this[V]=I>>>24,this[V+1]=I>>>16,this[V+2]=I>>>8,this[V+3]=255&I,V+4},n.prototype.writeIntLE=function(I,V,W,Z){if(I=+I,V>>>=0,!Z){var ie=Math.pow(2,8*W-1);re(this,I,V,W,ie-1,-ie)}var te=0,Te=1,oe=0;for(this[V]=255&I;++te<W&&(Te*=256);)I<0&&oe===0&&this[V+te-1]!==0&&(oe=1),this[V+te]=(I/Te>>0)-oe&255;return V+W},n.prototype.writeIntBE=function(I,V,W,Z){if(I=+I,V>>>=0,!Z){var ie=Math.pow(2,8*W-1);re(this,I,V,W,ie-1,-ie)}var te=W-1,Te=1,oe=0;for(this[V+te]=255&I;0<=--te&&(Te*=256);)I<0&&oe===0&&this[V+te+1]!==0&&(oe=1),this[V+te]=(I/Te>>0)-oe&255;return V+W},n.prototype.writeInt8=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,1,127,-128),I<0&&(I=255+I+1),this[V]=255&I,V+1},n.prototype.writeInt16LE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,2,32767,-32768),this[V]=255&I,this[V+1]=I>>>8,V+2},n.prototype.writeInt16BE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,2,32767,-32768),this[V]=I>>>8,this[V+1]=255&I,V+2},n.prototype.writeInt32LE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,4,2147483647,-2147483648),this[V]=255&I,this[V+1]=I>>>8,this[V+2]=I>>>16,this[V+3]=I>>>24,V+4},n.prototype.writeInt32BE=function(I,V,W){return I=+I,V>>>=0,W||re(this,I,V,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[V]=I>>>24,this[V+1]=I>>>16,this[V+2]=I>>>8,this[V+3]=255&I,V+4},n.prototype.writeFloatLE=function(I,V,W){return ne(this,I,V,!0,W)},n.prototype.writeFloatBE=function(I,V,W){return ne(this,I,V,!1,W)},n.prototype.writeDoubleLE=function(I,V,W){return ee(this,I,V,!0,W)},n.prototype.writeDoubleBE=function(I,V,W){return ee(this,I,V,!1,W)},n.prototype.copy=function(I,V,W,Z){if(!n.isBuffer(I))throw new TypeError("argument should be a Buffer");if(W=W||0,Z||Z===0||(Z=this.length),V>=I.length&&(V=I.length),V=V||0,0<Z&&Z<W&&(Z=W),Z===W||I.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),I.length-V<Z-W&&(Z=I.length-V+W);var ie=Z-W;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,W,Z);else if(this===I&&W<V&&V<Z)for(var te=ie-1;0<=te;--te)I[te+V]=this[te+W];else Uint8Array.prototype.set.call(I,this.subarray(W,Z),V);return ie},n.prototype.fill=function(I,V,W,Z){if(typeof I=="string"){if(typeof V=="string"?(Z=V,V=0,W=this.length):typeof W=="string"&&(Z=W,W=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!n.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(I.length===1){var ie=I.charCodeAt(0);(Z==="utf8"&&ie<128||Z==="latin1")&&(I=ie)}}else typeof I=="number"?I&=255:typeof I=="boolean"&&(I=Number(I));if(V<0||this.length<V||this.length<W)throw new RangeError("Out of range index");if(W<=V)return this;var te;if(V>>>=0,W=W===void 0?this.length:W>>>0,typeof(I=I||0)=="number")for(te=V;te<W;++te)this[te]=I;else{var Te=n.isBuffer(I)?I:n.from(I,Z),oe=Te.length;if(oe===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(te=0;te<W-V;++te)this[te+V]=Te[te%oe]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function pe(I,V){var W;V=V||1/0;for(var Z=I.length,ie=null,te=[],Te=0;Te<Z;++Te){if(55295<(W=I.charCodeAt(Te))&&W<57344){if(!ie){if(56319<W){-1<(V-=3)&&te.push(239,191,189);continue}if(Te+1===Z){-1<(V-=3)&&te.push(239,191,189);continue}ie=W;continue}if(W<56320){-1<(V-=3)&&te.push(239,191,189),ie=W;continue}W=65536+(ie-55296<<10|W-56320)}else ie&&-1<(V-=3)&&te.push(239,191,189);if(ie=null,W<128){if(--V<0)break;te.push(W)}else if(W<2048){if((V-=2)<0)break;te.push(W>>6|192,63&W|128)}else if(W<65536){if((V-=3)<0)break;te.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;te.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return te}function _e(I){return t.toByteArray(function(V){if((V=(V=V.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V}(I))}function ce(I,V,W,Z){for(var ie=0;ie<Z&&!(ie+W>=V.length||ie>=I.length);++ie)V[ie+W]=I[ie];return ie}function De(I,V){return I instanceof V||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===V.name}function ve(I){return I!=I}var ge=function(){for(var I="0123456789abcdef",V=new Array(256),W=0;W<16;++W)for(var Z=16*W,ie=0;ie<16;++ie)V[Z+ie]=I[W]+I[ie];return V}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,y,p){y.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(e,y,p){var h=e("../internals/is-object");y.exports=function(t){if(!h(t)&&t!==null)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":74}],7:[function(e,y,p){var h=e("../internals/well-known-symbol"),t=e("../internals/object-create"),c=e("../internals/object-define-property"),u=h("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:t(null)}),y.exports=function(l){d[u][l]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,y,p){var h=e("../internals/string-multibyte").charAt;y.exports=function(t,c,u){return c+(u?h(t,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,y,p){y.exports=function(h,t,c){if(!(h instanceof t))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return h}},{}],10:[function(e,y,p){var h=e("../internals/is-object");y.exports=function(t){if(!h(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":74}],11:[function(e,y,p){y.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},{}],12:[function(e,y,p){function h(Q){return l(Q)&&n(re,r(Q))}var t,c=e("../internals/array-buffer-native"),u=e("../internals/descriptors"),d=e("../internals/global"),l=e("../internals/is-object"),n=e("../internals/has"),r=e("../internals/classof"),o=e("../internals/create-non-enumerable-property"),i=e("../internals/redefine"),a=e("../internals/object-define-property").f,m=e("../internals/object-get-prototype-of"),v=e("../internals/object-set-prototype-of"),b=e("../internals/well-known-symbol"),x=e("../internals/uid"),S=d.Int8Array,M=S&&S.prototype,C=d.Uint8ClampedArray,O=C&&C.prototype,R=S&&m(S),P=M&&m(M),L=Object.prototype,U=L.isPrototypeOf,A=b("toStringTag"),B=x("TYPED_ARRAY_TAG"),F=c&&!!v&&r(d.opera)!=="Opera",K=!1,re={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(t in re)d[t]||(F=!1);if((!F||typeof R!="function"||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},F))for(t in re)d[t]&&v(d[t],R);if((!F||!P||P===L)&&(P=R.prototype,F))for(t in re)d[t]&&v(d[t].prototype,P);if(F&&m(O)!==P&&v(O,P),u&&!n(P,A))for(t in K=!0,a(P,A,{get:function(){return l(this)?this[B]:void 0}}),re)d[t]&&o(d[t],B,t);y.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:K&&B,aTypedArray:function(Q){if(h(Q))return Q;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Q){if(v){if(U.call(R,Q))return Q}else for(var ne in re)if(n(re,t)){var ee=d[ne];if(ee&&(Q===ee||U.call(ee,Q)))return Q}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Q,ne,ee){if(u){if(ee)for(var ue in re){var pe=d[ue];pe&&n(pe.prototype,Q)&&delete pe.prototype[Q]}P[Q]&&!ee||i(P,Q,ee?ne:F&&M[Q]||ne)}},exportTypedArrayStaticMethod:function(Q,ne,ee){var ue,pe;if(u){if(v){if(ee)for(ue in re)(pe=d[ue])&&n(pe,Q)&&delete pe[Q];if(R[Q]&&!ee)return;try{return i(R,Q,ee?ne:F&&S[Q]||ne)}catch{}}for(ue in re)!(pe=d[ue])||pe[Q]&&!ee||i(pe,Q,ne)}},isView:function(Q){var ne=r(Q);return ne==="DataView"||n(re,ne)},isTypedArray:h,TypedArray:R,TypedArrayPrototype:P}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,y,p){function h(me){return[255&me]}function t(me){return[255&me,me>>8&255]}function c(me){return[255&me,me>>8&255,me>>16&255,me>>24&255]}function u(me){return me[3]<<24|me[2]<<16|me[1]<<8|me[0]}function d(me){return V(me,23,4)}function l(me){return V(me,52,8)}function n(me,de){A(me[ue],de,{get:function(){return re(this)[de]}})}function r(me,de,Me,Oe){var je=O(Me),Ge=re(me);if(je+de>Ge.byteLength)throw I(pe);var Qe=re(Ge.buffer).bytes,Ze=je+Ge.byteOffset,Be=Qe.slice(Ze,Ze+de);return Oe?Be:Be.reverse()}function o(me,de,Me,Oe,je,Ge){var Qe=O(Me),Ze=re(me);if(Qe+de>Ze.byteLength)throw I(pe);for(var Be=re(Ze.buffer).bytes,xt=Qe+Ze.byteOffset,Re=Oe(+je),Le=0;Le<de;Le++)Be[xt+Le]=Re[Ge?Le:de-Le-1]}var i=e("../internals/global"),a=e("../internals/descriptors"),m=e("../internals/array-buffer-native"),v=e("../internals/create-non-enumerable-property"),b=e("../internals/redefine-all"),x=e("../internals/fails"),S=e("../internals/an-instance"),M=e("../internals/to-integer"),C=e("../internals/to-length"),O=e("../internals/to-index"),R=e("../internals/ieee754"),P=e("../internals/object-get-prototype-of"),L=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,A=e("../internals/object-define-property").f,B=e("../internals/array-fill"),F=e("../internals/set-to-string-tag"),K=e("../internals/internal-state"),re=K.get,Q=K.set,ne="ArrayBuffer",ee="DataView",ue="prototype",pe="Wrong index",_e=i[ne],ce=_e,De=i[ee],ve=De&&De[ue],ge=Object.prototype,I=i.RangeError,V=R.pack,W=R.unpack;if(m){if(!x(function(){_e(1)})||!x(function(){new _e(-1)})||x(function(){return new _e,new _e(1.5),new _e(NaN),_e.name!=ne})){for(var Z,ie=(ce=function(me){return S(this,ce),new _e(O(me))})[ue]=_e[ue],te=U(_e),Te=0;te.length>Te;)(Z=te[Te++])in ce||v(ce,Z,_e[Z]);ie.constructor=ce}L&&P(ve)!==ge&&L(ve,ge);var oe=new De(new ce(2)),be=ve.setInt8;oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||b(ve,{setInt8:function(me,de){be.call(this,me,de<<24>>24)},setUint8:function(me,de){be.call(this,me,de<<24>>24)}},{unsafe:!0})}else ce=function(me){S(this,ce,ne);var de=O(me);Q(this,{bytes:B.call(new Array(de),0),byteLength:de}),a||(this.byteLength=de)},De=function(me,de,Me){S(this,De,ee),S(me,ce,ee);var Oe=re(me).byteLength,je=M(de);if(je<0||Oe<je)throw I("Wrong offset");if(Oe<je+(Me=Me===void 0?Oe-je:C(Me)))throw I("Wrong length");Q(this,{buffer:me,byteLength:Me,byteOffset:je}),a||(this.buffer=me,this.byteLength=Me,this.byteOffset=je)},a&&(n(ce,"byteLength"),n(De,"buffer"),n(De,"byteLength"),n(De,"byteOffset")),b(De[ue],{getInt8:function(me){return r(this,1,me)[0]<<24>>24},getUint8:function(me){return r(this,1,me)[0]},getInt16:function(me,de){var Me=r(this,2,me,1<arguments.length?de:void 0);return(Me[1]<<8|Me[0])<<16>>16},getUint16:function(me,de){var Me=r(this,2,me,1<arguments.length?de:void 0);return Me[1]<<8|Me[0]},getInt32:function(me,de){return u(r(this,4,me,1<arguments.length?de:void 0))},getUint32:function(me,de){return u(r(this,4,me,1<arguments.length?de:void 0))>>>0},getFloat32:function(me,de){return W(r(this,4,me,1<arguments.length?de:void 0),23)},getFloat64:function(me,de){return W(r(this,8,me,1<arguments.length?de:void 0),52)},setInt8:function(me,de){o(this,1,me,h,de)},setUint8:function(me,de){o(this,1,me,h,de)},setInt16:function(me,de,Me){o(this,2,me,t,de,2<arguments.length?Me:void 0)},setUint16:function(me,de,Me){o(this,2,me,t,de,2<arguments.length?Me:void 0)},setInt32:function(me,de,Me){o(this,4,me,c,de,2<arguments.length?Me:void 0)},setUint32:function(me,de,Me){o(this,4,me,c,de,2<arguments.length?Me:void 0)},setFloat32:function(me,de,Me){o(this,4,me,d,de,2<arguments.length?Me:void 0)},setFloat64:function(me,de,Me){o(this,8,me,l,de,2<arguments.length?Me:void 0)}});F(ce,ne),F(De,ee),y.exports={ArrayBuffer:ce,DataView:De}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,y,p){var h=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length"),u=Math.min;y.exports=[].copyWithin||function(d,l,n){var r=h(this),o=c(r.length),i=t(d,o),a=t(l,o),m=2<arguments.length?n:void 0,v=u((m===void 0?o:t(m,o))-a,o-i),b=1;for(a<i&&i<a+v&&(b=-1,a+=v-1,i+=v-1);0<v--;)a in r?r[i]=r[a]:delete r[i],i+=b,a+=b;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,y,p){var h=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length");y.exports=function(u,d,l){for(var n=h(this),r=c(n.length),o=arguments.length,i=t(1<o?d:void 0,r),a=2<o?l:void 0,m=a===void 0?r:t(a,r);i<m;)n[i++]=u;return n}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,y,p){var h=e("../internals/array-iteration").forEach,t=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),u=t("forEach"),d=c("forEach");y.exports=u&&d?[].forEach:function(l,n){return h(this,l,1<arguments.length?n:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,y,p){var h=e("../internals/function-bind-context"),t=e("../internals/to-object"),c=e("../internals/call-with-safe-iteration-closing"),u=e("../internals/is-array-iterator-method"),d=e("../internals/to-length"),l=e("../internals/create-property"),n=e("../internals/get-iterator-method");y.exports=function(r,o,i){var a,m,v,b,x,S,M=t(r),C=typeof this=="function"?this:Array,O=arguments.length,R=1<O?o:void 0,P=R!==void 0,L=n(M),U=0;if(P&&(R=h(R,2<O?i:void 0,2)),L==null||C==Array&&u(L))for(m=new C(a=d(M.length));U<a;U++)S=P?R(M[U],U):M[U],l(m,U,S);else for(x=(b=L.call(M)).next,m=new C;!(v=x.call(b)).done;U++)S=P?c(b,R,[v.value,U],!0):v.value,l(m,U,S);return m.length=U,m}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,y,p){function h(d){return function(l,n,r){var o,i=t(l),a=c(i.length),m=u(r,a);if(d&&n!=n){for(;m<a;)if((o=i[m++])!=o)return!0}else for(;m<a;m++)if((d||m in i)&&i[m]===n)return d||m||0;return!d&&-1}}var t=e("../internals/to-indexed-object"),c=e("../internals/to-length"),u=e("../internals/to-absolute-index");y.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,y,p){function h(r){var o=r==1,i=r==2,a=r==3,m=r==4,v=r==6,b=r==5||v;return function(x,S,M,C){for(var O,R,P=u(x),L=c(P),U=t(S,M,3),A=d(L.length),B=0,F=C||l,K=o?F(x,A):i?F(x,0):void 0;B<A;B++)if((b||B in L)&&(R=U(O=L[B],B,P),r)){if(o)K[B]=R;else if(R)switch(r){case 3:return!0;case 5:return O;case 6:return B;case 2:n.call(K,O)}else if(m)return!1}return v?-1:a||m?m:K}}var t=e("../internals/function-bind-context"),c=e("../internals/indexed-object"),u=e("../internals/to-object"),d=e("../internals/to-length"),l=e("../internals/array-species-create"),n=[].push;y.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,y,p){var h=e("../internals/to-indexed-object"),t=e("../internals/to-integer"),c=e("../internals/to-length"),u=e("../internals/array-method-is-strict"),d=e("../internals/array-method-uses-to-length"),l=Math.min,n=[].lastIndexOf,r=!!n&&1/[1].lastIndexOf(1,-0)<0,o=u("lastIndexOf"),i=d("indexOf",{ACCESSORS:!0,1:0}),a=r||!o||!i;y.exports=a?function(m,v){if(r)return n.apply(this,arguments)||0;var b=h(this),x=c(b.length),S=x-1;for(1<arguments.length&&(S=l(S,t(v))),S<0&&(S=x+S);0<=S;S--)if(S in b&&b[S]===m)return S||0;return-1}:n},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,y,p){var h=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/engine-v8-version"),u=t("species");y.exports=function(d){return 51<=c||!h(function(){var l=[];return(l.constructor={})[u]=function(){return{foo:1}},l[d](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,y,p){var h=e("../internals/fails");y.exports=function(t,c){var u=[][t];return!!u&&h(function(){u.call(null,c||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,y,p){function h(n){throw n}var t=e("../internals/descriptors"),c=e("../internals/fails"),u=e("../internals/has"),d=Object.defineProperty,l={};y.exports=function(n,r){if(u(l,n))return l[n];var o=[][n],i=!!u(r=r||{},"ACCESSORS")&&r.ACCESSORS,a=u(r,0)?r[0]:h,m=u(r,1)?r[1]:void 0;return l[n]=!!o&&!c(function(){if(i&&!t)return!0;var v={length:-1};i?d(v,1,{enumerable:!0,get:h}):v[1]=1,o.call(v,a,m)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,y,p){function h(l){return function(n,r,o,i){t(r);var a=c(n),m=u(a),v=d(a.length),b=l?v-1:0,x=l?-1:1;if(o<2)for(;;){if(b in m){i=m[b],b+=x;break}if(b+=x,l?b<0:v<=b)throw TypeError("Reduce of empty array with no initial value")}for(;l?0<=b:b<v;b+=x)b in m&&(i=r(i,m[b],b,a));return i}}var t=e("../internals/a-function"),c=e("../internals/to-object"),u=e("../internals/indexed-object"),d=e("../internals/to-length");y.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,y,p){var h=e("../internals/is-object"),t=e("../internals/is-array"),c=e("../internals/well-known-symbol")("species");y.exports=function(u,d){var l;return t(u)&&(typeof(l=u.constructor)!="function"||l!==Array&&!t(l.prototype)?h(l)&&(l=l[c])===null&&(l=void 0):l=void 0),new(l===void 0?Array:l)(d===0?0:d)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,y,p){var h=e("../internals/an-object");y.exports=function(t,c,u,d){try{return d?c(h(u)[0],u[1]):c(u)}catch(n){var l=t.return;throw l!==void 0&&h(l.call(t)),n}}},{"../internals/an-object":10}],27:[function(e,y,p){var h=e("../internals/well-known-symbol")("iterator"),t=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){t=!0}};u[h]=function(){return this},Array.from(u,function(){throw 2})}catch{}y.exports=function(d,l){if(!l&&!t)return!1;var n=!1;try{var r={};r[h]=function(){return{next:function(){return{done:n=!0}}}},d(r)}catch{}return n}},{"../internals/well-known-symbol":146}],28:[function(e,y,p){var h={}.toString;y.exports=function(t){return h.call(t).slice(8,-1)}},{}],29:[function(e,y,p){var h=e("../internals/to-string-tag-support"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),u=t(function(){return arguments}())=="Arguments";y.exports=h?t:function(d){var l,n,r;return d===void 0?"Undefined":d===null?"Null":typeof(n=function(o,i){try{return o[i]}catch{}}(l=Object(d),c))=="string"?n:u?t(l):(r=t(l))=="Object"&&typeof l.callee=="function"?"Arguments":r}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,y,p){var h=e("../internals/object-define-property").f,t=e("../internals/object-create"),c=e("../internals/redefine-all"),u=e("../internals/function-bind-context"),d=e("../internals/an-instance"),l=e("../internals/iterate"),n=e("../internals/define-iterator"),r=e("../internals/set-species"),o=e("../internals/descriptors"),i=e("../internals/internal-metadata").fastKey,a=e("../internals/internal-state"),m=a.set,v=a.getterFor;y.exports={getConstructor:function(b,x,S,M){function C(L,U,A){var B,F,K=R(L),re=P(L,U);return re?re.value=A:(K.last=re={index:F=i(U,!0),key:U,value:A,previous:B=K.last,next:void 0,removed:!1},K.first||(K.first=re),B&&(B.next=re),o?K.size++:L.size++,F!=="F"&&(K.index[F]=re)),L}var O=b(function(L,U){d(L,O,x),m(L,{type:x,index:t(null),first:void 0,last:void 0,size:0}),o||(L.size=0),U!=null&&l(U,L[M],L,S)}),R=v(x),P=function(L,U){var A,B=R(L),F=i(U);if(F!=="F")return B.index[F];for(A=B.first;A;A=A.next)if(A.key==U)return A};return c(O.prototype,{clear:function(){for(var L=R(this),U=L.index,A=L.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),delete U[A.index],A=A.next;L.first=L.last=void 0,o?L.size=0:this.size=0},delete:function(L){var U=R(this),A=P(this,L);if(A){var B=A.next,F=A.previous;delete U.index[A.index],A.removed=!0,F&&(F.next=B),B&&(B.previous=F),U.first==A&&(U.first=B),U.last==A&&(U.last=F),o?U.size--:this.size--}return!!A},forEach:function(L,U){for(var A,B=R(this),F=u(L,1<arguments.length?U:void 0,3);A=A?A.next:B.first;)for(F(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(L){return!!P(this,L)}}),c(O.prototype,S?{get:function(L){var U=P(this,L);return U&&U.value},set:function(L,U){return C(this,L===0?0:L,U)}}:{add:function(L){return C(this,L=L===0?0:L,L)}}),o&&h(O.prototype,"size",{get:function(){return R(this).size}}),O},setStrong:function(b,x,S){var M=x+" Iterator",C=v(x),O=v(M);n(b,x,function(R,P){m(this,{type:M,target:R,state:C(R),kind:P,last:void 0})},function(){for(var R=O(this),P=R.kind,L=R.last;L&&L.removed;)L=L.previous;return R.target&&(R.last=L=L?L.next:R.state.first)?P=="keys"?{value:L.key,done:!1}:P=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:R.target=void 0,done:!0}},S?"entries":"values",!S,!0),r(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/global"),c=e("../internals/is-forced"),u=e("../internals/redefine"),d=e("../internals/internal-metadata"),l=e("../internals/iterate"),n=e("../internals/an-instance"),r=e("../internals/is-object"),o=e("../internals/fails"),i=e("../internals/check-correctness-of-iteration"),a=e("../internals/set-to-string-tag"),m=e("../internals/inherit-if-required");y.exports=function(v,b,x){function S(Q){var ne=P[Q];u(P,Q,Q=="add"?function(ee){return ne.call(this,ee===0?0:ee),this}:Q=="delete"?function(ee){return!(C&&!r(ee))&&ne.call(this,ee===0?0:ee)}:Q=="get"?function(ee){return C&&!r(ee)?void 0:ne.call(this,ee===0?0:ee)}:Q=="has"?function(ee){return!(C&&!r(ee))&&ne.call(this,ee===0?0:ee)}:function(ee,ue){return ne.call(this,ee===0?0:ee,ue),this})}var M=v.indexOf("Map")!==-1,C=v.indexOf("Weak")!==-1,O=M?"set":"add",R=t[v],P=R&&R.prototype,L=R,U={};if(c(v,typeof R!="function"||!(C||P.forEach&&!o(function(){new R().entries().next()}))))L=x.getConstructor(b,v,M,O),d.REQUIRED=!0;else if(c(v,!0)){var A=new L,B=A[O](C?{}:-0,1)!=A,F=o(function(){A.has(1)}),K=i(function(Q){new R(Q)}),re=!C&&o(function(){for(var Q=new R,ne=5;ne--;)Q[O](ne,ne);return!Q.has(-0)});K||(((L=b(function(Q,ne){n(Q,L,v);var ee=m(new R,Q,L);return ne!=null&&l(ne,ee[O],ee,M),ee})).prototype=P).constructor=L),(F||re)&&(S("delete"),S("has"),M&&S("get")),(re||B)&&S(O),C&&P.clear&&delete P.clear}return U[v]=L,h({global:!0,forced:L!=R},U),a(L,v),C||x.setStrong(L,v,M),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,y,p){var h=e("../internals/has"),t=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-define-property");y.exports=function(d,l){for(var n=t(l),r=u.f,o=c.f,i=0;i<n.length;i++){var a=n[i];h(d,a)||r(d,a,o(l,a))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,y,p){var h=e("../internals/well-known-symbol")("match");y.exports=function(t){var c=/./;try{"/./"[t](c)}catch{try{return c[h]=!1,"/./"[t](c)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,y,p){var h=e("../internals/fails");y.exports=!h(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":50}],35:[function(e,y,p){var h=e("../internals/require-object-coercible"),t=/"/g;y.exports=function(c,u,d,l){var n=String(h(c)),r="<"+u;return d!==""&&(r+=" "+d+'="'+String(l).replace(t,"&quot;")+'"'),r+">"+n+"</"+u+">"}},{"../internals/require-object-coercible":113}],36:[function(e,y,p){function h(){return this}var t=e("../internals/iterators-core").IteratorPrototype,c=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),d=e("../internals/set-to-string-tag"),l=e("../internals/iterators");y.exports=function(n,r,o){var i=r+" Iterator";return n.prototype=c(t,{next:u(1,o)}),d(n,i,!1,!0),l[i]=h,n}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");y.exports=h?function(u,d,l){return t.f(u,d,c(1,l))}:function(u,d,l){return u[d]=l,u}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,y,p){y.exports=function(h,t){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:t}}},{}],39:[function(e,y,p){var h=e("../internals/to-primitive"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");y.exports=function(u,d,l){var n=h(d);n in u?t.f(u,n,c(0,l)):u[n]=l}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,y,p){function h(){return this}var t=e("../internals/export"),c=e("../internals/create-iterator-constructor"),u=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),n=e("../internals/create-non-enumerable-property"),r=e("../internals/redefine"),o=e("../internals/well-known-symbol"),i=e("../internals/is-pure"),a=e("../internals/iterators"),m=e("../internals/iterators-core"),v=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,x=o("iterator"),S="values",M="entries";y.exports=function(C,O,R,P,L,U,A){c(R,O,P);function B(ce){if(ce===L&&pe)return pe;if(!b&&ce in ee)return ee[ce];switch(ce){case"keys":case S:case M:return function(){return new R(this,ce)}}return function(){return new R(this)}}var F,K,re,Q=O+" Iterator",ne=!1,ee=C.prototype,ue=ee[x]||ee["@@iterator"]||L&&ee[L],pe=!b&&ue||B(L),_e=O=="Array"&&ee.entries||ue;if(_e&&(F=u(_e.call(new C)),v!==Object.prototype&&F.next&&(i||u(F)===v||(d?d(F,v):typeof F[x]!="function"&&n(F,x,h)),l(F,Q,!0,!0),i&&(a[Q]=h))),L==S&&ue&&ue.name!==S&&(ne=!0,pe=function(){return ue.call(this)}),i&&!A||ee[x]===pe||n(ee,x,pe),a[O]=pe,L)if(K={values:B(S),keys:U?pe:B("keys"),entries:B(M)},A)for(re in K)!b&&!ne&&re in ee||r(ee,re,K[re]);else t({target:O,proto:!0,forced:b||ne},K);return K}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,y,p){var h=e("../internals/path"),t=e("../internals/has"),c=e("../internals/well-known-symbol-wrapped"),u=e("../internals/object-define-property").f;y.exports=function(d){var l=h.Symbol||(h.Symbol={});t(l,d)||u(l,d,{value:c.f(d)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,y,p){var h=e("../internals/fails");y.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/is-object"),c=h.document,u=t(c)&&t(c.createElement);y.exports=function(d){return u?c.createElement(d):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,y,p){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,y,p){var h=e("../internals/engine-user-agent");y.exports=/(iphone|ipod|ipad).*applewebkit/i.test(h)},{"../internals/engine-user-agent":46}],46:[function(e,y,p){var h=e("../internals/get-built-in");y.exports=h("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,y,p){var h,t,c=e("../internals/global"),u=e("../internals/engine-user-agent"),d=c.process,l=d&&d.versions,n=l&&l.v8;n?t=(h=n.split("."))[0]+h[1]:u&&(!(h=u.match(/Edge\/(\d+)/))||74<=h[1])&&(h=u.match(/Chrome\/(\d+)/))&&(t=h[1]),y.exports=t&&+t},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,y,p){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),u=e("../internals/redefine"),d=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),n=e("../internals/is-forced");y.exports=function(r,o){var i,a,m,v,b,x=r.target,S=r.global,M=r.stat;if(i=S?h:M?h[x]||d(x,{}):(h[x]||{}).prototype)for(a in o){if(v=o[a],m=r.noTargetGet?(b=t(i,a))&&b.value:i[a],!n(S?a:x+(M?".":"#")+a,r.forced)&&m!==void 0){if(typeof v==typeof m)continue;l(v,m)}(r.sham||m&&m.sham)&&c(v,"sham",!0),u(i,a,v,r)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,y,p){y.exports=function(h){try{return!!h()}catch{return!0}}},{}],51:[function(e,y,p){e("../modules/es.regexp.exec");var h=e("../internals/redefine"),t=e("../internals/fails"),c=e("../internals/well-known-symbol"),u=e("../internals/regexp-exec"),d=e("../internals/create-non-enumerable-property"),l=c("species"),n=!t(function(){var m=/./;return m.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(m,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",o=c("replace"),i=!!/./[o]&&/./[o]("a","$0")==="",a=!t(function(){var m=/(?:)/,v=m.exec;m.exec=function(){return v.apply(this,arguments)};var b="ab".split(m);return b.length!==2||b[0]!=="a"||b[1]!=="b"});y.exports=function(m,v,b,x){var S=c(m),M=!t(function(){var U={};return U[S]=function(){return 7},""[m](U)!=7}),C=M&&!t(function(){var U=!1,A=/a/;return m==="split"&&((A={constructor:{}}).constructor[l]=function(){return A},A.flags="",A[S]=/./[S]),A.exec=function(){return U=!0,null},A[S](""),!U});if(!M||!C||m==="replace"&&(!n||!r||i)||m==="split"&&!a){var O=/./[S],R=b(S,""[m],function(U,A,B,F,K){return A.exec===u?M&&!K?{done:!0,value:O.call(A,B,F)}:{done:!0,value:U.call(B,A,F)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}),P=R[0],L=R[1];h(String.prototype,m,P),h(RegExp.prototype,S,v==2?function(U,A){return L.call(U,this,A)}:function(U){return L.call(U,this)})}x&&d(RegExp.prototype[S],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,y,p){var h=e("../internals/is-array"),t=e("../internals/to-length"),c=e("../internals/function-bind-context"),u=function(d,l,n,r,o,i,a,m){for(var v,b=o,x=0,S=!!a&&c(a,m,3);x<r;){if(x in n){if(v=S?S(n[x],x,l):n[x],0<i&&h(v))b=u(d,l,v,t(v.length),b,i-1)-1;else{if(9007199254740991<=b)throw TypeError("Exceed the acceptable array length");d[b]=v}b++}x++}return b};y.exports=u},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,y,p){var h=e("../internals/fails");y.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,y,p){var h=e("../internals/a-function");y.exports=function(t,c,u){if(h(t),c===void 0)return t;switch(u){case 0:return function(){return t.call(c)};case 1:return function(d){return t.call(c,d)};case 2:return function(d,l){return t.call(c,d,l)};case 3:return function(d,l,n){return t.call(c,d,l,n)}}return function(){return t.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(e,y,p){var h=e("../internals/a-function"),t=e("../internals/is-object"),c=[].slice,u={};y.exports=Function.bind||function(d){var l=h(this),n=c.call(arguments,1),r=function(){var o=n.concat(c.call(arguments));return this instanceof r?function(i,a,m){if(!(a in u)){for(var v=[],b=0;b<a;b++)v[b]="a["+b+"]";u[a]=Function("C,a","return new C("+v.join(",")+")")}return u[a](i,m)}(l,o.length,o):l.apply(d,o)};return t(l.prototype)&&(r.prototype=l.prototype),r}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,y,p){function h(u){return typeof u=="function"?u:void 0}var t=e("../internals/path"),c=e("../internals/global");y.exports=function(u,d){return arguments.length<2?h(t[u])||h(c[u]):t[u]&&t[u][d]||c[u]&&c[u][d]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,y,p){var h=e("../internals/classof"),t=e("../internals/iterators"),c=e("../internals/well-known-symbol")("iterator");y.exports=function(u){if(u!=null)return u[c]||u["@@iterator"]||t[h(u)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,y,p){var h=e("../internals/an-object"),t=e("../internals/get-iterator-method");y.exports=function(c){var u=t(c);if(typeof u!="function")throw TypeError(String(c)+" is not iterable");return h(u.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,y,p){(function(h){function t(c){return c&&c.Math==Math&&c}y.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof h=="object"&&h)||Function("return this")()}).call(this,typeof xs!="undefined"?xs:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],60:[function(e,y,p){var h={}.hasOwnProperty;y.exports=function(t,c){return h.call(t,c)}},{}],61:[function(e,y,p){y.exports={}},{}],62:[function(e,y,p){var h=e("../internals/global");y.exports=function(t,c){var u=h.console;u&&u.error&&(arguments.length===1?u.error(t):u.error(t,c))}},{"../internals/global":59}],63:[function(e,y,p){var h=e("../internals/get-built-in");y.exports=h("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/document-create-element");y.exports=!h&&!t(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,y,p){var h=Math.abs,t=Math.pow,c=Math.floor,u=Math.log,d=Math.LN2;y.exports={pack:function(l,n,r){var o,i,a,m=new Array(r),v=8*r-n-1,b=(1<<v)-1,x=b>>1,S=n===23?t(2,-24)-t(2,-77):0,M=l<0||l===0&&1/l<0?1:0,C=0;for((l=h(l))!=l||l===1/0?(i=l!=l?1:0,o=b):(o=c(u(l)/d),l*(a=t(2,-o))<1&&(o--,a*=2),2<=(l+=1<=o+x?S/a:S*t(2,1-x))*a&&(o++,a/=2),b<=o+x?(i=0,o=b):1<=o+x?(i=(l*a-1)*t(2,n),o+=x):(i=l*t(2,x-1)*t(2,n),o=0));8<=n;m[C++]=255&i,i/=256,n-=8);for(o=o<<n|i,v+=n;0<v;m[C++]=255&o,o/=256,v-=8);return m[--C]|=128*M,m},unpack:function(l,n){var r,o=l.length,i=8*o-n-1,a=(1<<i)-1,m=a>>1,v=i-7,b=o-1,x=l[b--],S=127&x;for(x>>=7;0<v;S=256*S+l[b],b--,v-=8);for(r=S&(1<<-v)-1,S>>=-v,v+=n;0<v;r=256*r+l[b],b--,v-=8);if(S===0)S=1-m;else{if(S===a)return r?NaN:x?-1/0:1/0;r+=t(2,n),S-=m}return(x?-1:1)*r*t(2,S-n)}}},{}],66:[function(e,y,p){var h=e("../internals/fails"),t=e("../internals/classof-raw"),c="".split;y.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return t(u)=="String"?c.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,y,p){var h=e("../internals/is-object"),t=e("../internals/object-set-prototype-of");y.exports=function(c,u,d){var l,n;return t&&typeof(l=u.constructor)=="function"&&l!==d&&h(n=l.prototype)&&n!==d.prototype&&t(c,n),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,y,p){var h=e("../internals/shared-store"),t=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(c){return t.call(c)}),y.exports=h.inspectSource},{"../internals/shared-store":119}],69:[function(e,y,p){function h(m){d(m,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var t=e("../internals/hidden-keys"),c=e("../internals/is-object"),u=e("../internals/has"),d=e("../internals/object-define-property").f,l=e("../internals/uid"),n=e("../internals/freezing"),r=l("meta"),o=0,i=Object.isExtensible||function(){return!0},a=y.exports={REQUIRED:!1,fastKey:function(m,v){if(!c(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!u(m,r)){if(!i(m))return"F";if(!v)return"E";h(m)}return m[r].objectID},getWeakData:function(m,v){if(!u(m,r)){if(!i(m))return!0;if(!v)return!1;h(m)}return m[r].weakData},onFreeze:function(m){return n&&a.REQUIRED&&i(m)&&!u(m,r)&&h(m),m}};t[r]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,y,p){var h,t,c,u=e("../internals/native-weak-map"),d=e("../internals/global"),l=e("../internals/is-object"),n=e("../internals/create-non-enumerable-property"),r=e("../internals/has"),o=e("../internals/shared-key"),i=e("../internals/hidden-keys"),a=d.WeakMap;if(u){var m=new a,v=m.get,b=m.has,x=m.set;h=function(M,C){return x.call(m,M,C),C},t=function(M){return v.call(m,M)||{}},c=function(M){return b.call(m,M)}}else{var S=o("state");i[S]=!0,h=function(M,C){return n(M,S,C),C},t=function(M){return r(M,S)?M[S]:{}},c=function(M){return r(M,S)}}y.exports={set:h,get:t,has:c,enforce:function(M){return c(M)?t(M):h(M,{})},getterFor:function(M){return function(C){var O;if(!l(C)||(O=t(C)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return O}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,y,p){var h=e("../internals/well-known-symbol"),t=e("../internals/iterators"),c=h("iterator"),u=Array.prototype;y.exports=function(d){return d!==void 0&&(t.Array===d||u[c]===d)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,y,p){var h=e("../internals/classof-raw");y.exports=Array.isArray||function(t){return h(t)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,y,p){function h(r,o){var i=d[u(r)];return i==n||i!=l&&(typeof o=="function"?t(o):!!o)}var t=e("../internals/fails"),c=/#|\.prototype\./,u=h.normalize=function(r){return String(r).replace(c,".").toLowerCase()},d=h.data={},l=h.NATIVE="N",n=h.POLYFILL="P";y.exports=h},{"../internals/fails":50}],74:[function(e,y,p){y.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],75:[function(e,y,p){y.exports=!1},{}],76:[function(e,y,p){var h=e("../internals/is-object"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");y.exports=function(u){var d;return h(u)&&((d=u[c])!==void 0?!!d:t(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,y,p){function h(r,o){this.stopped=r,this.result=o}var t=e("../internals/an-object"),c=e("../internals/is-array-iterator-method"),u=e("../internals/to-length"),d=e("../internals/function-bind-context"),l=e("../internals/get-iterator-method"),n=e("../internals/call-with-safe-iteration-closing");(y.exports=function(r,o,i,a,m){var v,b,x,S,M,C,O,R=d(o,i,a?2:1);if(m)v=r;else{if(typeof(b=l(r))!="function")throw TypeError("Target is not iterable");if(c(b)){for(x=0,S=u(r.length);x<S;x++)if((M=a?R(t(O=r[x])[0],O[1]):R(r[x]))&&M instanceof h)return M;return new h(!1)}v=b.call(r)}for(C=v.next;!(O=C.call(v)).done;)if(typeof(M=n(v,R,O.value,a))=="object"&&M&&M instanceof h)return M;return new h(!1)}).stop=function(r){return new h(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,y,p){var h,t,c,u=e("../internals/object-get-prototype-of"),d=e("../internals/create-non-enumerable-property"),l=e("../internals/has"),n=e("../internals/well-known-symbol"),r=e("../internals/is-pure"),o=n("iterator"),i=!1;[].keys&&("next"in(c=[].keys())?(t=u(u(c)))!==Object.prototype&&(h=t):i=!0),h==null&&(h={}),r||l(h,o)||d(h,o,function(){return this}),y.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:i}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,y,p){arguments[4][61][0].apply(p,arguments)},{dup:61}],80:[function(e,y,p){y.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],81:[function(e,y,p){var h,t,c,u,d,l,n,r,o=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/classof-raw"),m=e("../internals/task").set,v=e("../internals/engine-is-ios"),b=o.MutationObserver||o.WebKitMutationObserver,x=o.process,S=o.Promise,M=a(x)=="process",C=i(o,"queueMicrotask"),O=C&&C.value;O||(h=function(){var R,P;for(M&&(R=x.domain)&&R.exit();t;){P=t.fn,t=t.next;try{P()}catch(L){throw t?u():c=void 0,L}}c=void 0,R&&R.enter()},u=M?function(){x.nextTick(h)}:b&&!v?(d=!0,l=document.createTextNode(""),new b(h).observe(l,{characterData:!0}),function(){l.data=d=!d}):S&&S.resolve?(n=S.resolve(void 0),r=n.then,function(){r.call(n,h)}):function(){m.call(o,h)}),y.exports=O||function(R){var P={fn:R,next:void 0};c&&(c.next=P),t||(t=P,u()),c=P}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,y,p){var h=e("../internals/global");y.exports=h.Promise},{"../internals/global":59}],83:[function(e,y,p){var h=e("../internals/fails");y.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,y,p){var h=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/is-pure"),u=t("iterator");y.exports=!h(function(){var d=new URL("b?a=1&b=2&c=3","http://a"),l=d.searchParams,n="";return d.pathname="c%20d",l.forEach(function(r,o){l.delete("b"),n+=o+r}),c&&!d.toJSON||!l.sort||d.href!=="http://a/c%20d?a=1&c=3"||l.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!l[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/inspect-source"),c=h.WeakMap;y.exports=typeof c=="function"&&/native code/.test(t(c))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,y,p){function h(c){var u,d;this.promise=new c(function(l,n){if(u!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");u=l,d=n}),this.resolve=t(u),this.reject=t(d)}var t=e("../internals/a-function");y.exports.f=function(c){return new h(c)}},{"../internals/a-function":5}],87:[function(e,y,p){var h=e("../internals/is-regexp");y.exports=function(t){if(h(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":76}],88:[function(e,y,p){var h=e("../internals/global").isFinite;y.exports=Number.isFinite||function(t){return typeof t=="number"&&h(t)}},{"../internals/global":59}],89:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),n=e("../internals/indexed-object"),r=Object.assign,o=Object.defineProperty;y.exports=!r||t(function(){if(h&&r({b:1},r(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},a={},m=Symbol(),v="abcdefghijklmnopqrst";return i[m]=7,v.split("").forEach(function(b){a[b]=b}),r({},i)[m]!=7||c(r({},a)).join("")!=v})?function(i,a){for(var m=l(i),v=arguments.length,b=1,x=u.f,S=d.f;b<v;)for(var M,C=n(arguments[b++]),O=x?c(C).concat(x(C)):c(C),R=O.length,P=0;P<R;)M=O[P++],h&&!S.call(C,M)||(m[M]=C[M]);return m}:r},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,y,p){function h(){}function t(x){return"<script>"+x+"</"+m+">"}var c,u=e("../internals/an-object"),d=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),n=e("../internals/hidden-keys"),r=e("../internals/html"),o=e("../internals/document-create-element"),i=e("../internals/shared-key"),a="prototype",m="script",v=i("IE_PROTO"),b=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}var x,S;b=c?function(C){C.write(t("")),C.close();var O=C.parentWindow.Object;return C=null,O}(c):((S=o("iframe")).style.display="none",r.appendChild(S),S.src=String("javascript:"),(x=S.contentWindow.document).open(),x.write(t("document.F=Object")),x.close(),x.F);for(var M=l.length;M--;)delete b[a][l[M]];return b()};n[v]=!0,y.exports=Object.create||function(x,S){var M;return x!==null?(h[a]=u(x),M=new h,h[a]=null,M[v]=x):M=b(),S===void 0?M:d(M,S)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/an-object"),u=e("../internals/object-keys");y.exports=h?Object.defineProperties:function(d,l){c(d);for(var n,r=u(l),o=r.length,i=0;i<o;)t.f(d,n=r[i++],l[n]);return d}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/ie8-dom-define"),c=e("../internals/an-object"),u=e("../internals/to-primitive"),d=Object.defineProperty;p.f=h?d:function(l,n,r){if(c(l),n=u(n,!0),c(r),t)try{return d(l,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(l[n]=r.value),l}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),u=e("../internals/to-indexed-object"),d=e("../internals/to-primitive"),l=e("../internals/has"),n=e("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;p.f=h?r:function(o,i){if(o=u(o),i=d(i,!0),n)try{return r(o,i)}catch{}if(l(o,i))return c(!t.f.call(o,i),o[i])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,y,p){var h=e("../internals/to-indexed-object"),t=e("../internals/object-get-own-property-names").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];y.exports.f=function(d){return u&&c.call(d)=="[object Window]"?function(l){try{return t(l)}catch{return u.slice()}}(d):t(h(d))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,y,p){var h=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys").concat("length","prototype");p.f=Object.getOwnPropertyNames||function(c){return h(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,y,p){p.f=Object.getOwnPropertySymbols},{}],97:[function(e,y,p){var h=e("../internals/has"),t=e("../internals/to-object"),c=e("../internals/shared-key"),u=e("../internals/correct-prototype-getter"),d=c("IE_PROTO"),l=Object.prototype;y.exports=u?Object.getPrototypeOf:function(n){return n=t(n),h(n,d)?n[d]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?l:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,y,p){var h=e("../internals/has"),t=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys");y.exports=function(d,l){var n,r=t(d),o=0,i=[];for(n in r)!h(u,n)&&h(r,n)&&i.push(n);for(;l.length>o;)h(r,n=l[o++])&&(~c(i,n)||i.push(n));return i}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,y,p){var h=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys");y.exports=Object.keys||function(c){return h(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,y,p){var h={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,c=t&&!h.call({1:2},1);p.f=c?function(u){var d=t(this,u);return!!d&&d.enumerable}:h},{}],101:[function(e,y,p){var h=e("../internals/an-object"),t=e("../internals/a-possible-prototype");y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,u=!1,d={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(d,[]),u=d instanceof Array}catch{}return function(l,n){return h(l),t(n),u?c.call(l,n):l.__proto__=n,l}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,y,p){var h=e("../internals/to-string-tag-support"),t=e("../internals/classof");y.exports=h?{}.toString:function(){return"[object "+t(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,y,p){var h=e("../internals/get-built-in"),t=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),u=e("../internals/an-object");y.exports=h("Reflect","ownKeys")||function(d){var l=t.f(u(d)),n=c.f;return n?l.concat(n(d)):l}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,y,p){var h=e("../internals/global");y.exports=h},{"../internals/global":59}],105:[function(e,y,p){y.exports=function(h){try{return{error:!1,value:h()}}catch(t){return{error:!0,value:t}}}},{}],106:[function(e,y,p){var h=e("../internals/an-object"),t=e("../internals/is-object"),c=e("../internals/new-promise-capability");y.exports=function(u,d){if(h(u),t(d)&&d.constructor===u)return d;var l=c.f(u);return(0,l.resolve)(d),l.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,y,p){var h=e("../internals/redefine");y.exports=function(t,c,u){for(var d in c)h(t,d,c[d],u);return t}},{"../internals/redefine":108}],108:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),u=e("../internals/set-global"),d=e("../internals/inspect-source"),l=e("../internals/internal-state"),n=l.get,r=l.enforce,o=String(String).split("String");(y.exports=function(i,a,m,v){var b=!!v&&!!v.unsafe,x=!!v&&!!v.enumerable,S=!!v&&!!v.noTargetGet;typeof m=="function"&&(typeof a!="string"||c(m,"name")||t(m,"name",a),r(m).source=o.join(typeof a=="string"?a:"")),i!==h?(b?!S&&i[a]&&(x=!0):delete i[a],x?i[a]=m:t(i,a,m)):x?i[a]=m:u(a,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||d(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,y,p){var h=e("./classof-raw"),t=e("./regexp-exec");y.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var l=d.call(c,u);if(typeof l!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return l}if(h(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return t.call(c,u)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,y,p){var h,t,c=e("./regexp-flags"),u=e("./regexp-sticky-helpers"),d=RegExp.prototype.exec,l=String.prototype.replace,n=d,r=(h=/a/,t=/b*/g,d.call(h,"a"),d.call(t,"a"),h.lastIndex!==0||t.lastIndex!==0),o=u.UNSUPPORTED_Y||u.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;(r||i||o)&&(n=function(a){var m,v,b,x,S=this,M=o&&S.sticky,C=c.call(S),O=S.source,R=0,P=a;return M&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),P=String(a).slice(S.lastIndex),0<S.lastIndex&&(!S.multiline||S.multiline&&a[S.lastIndex-1]!==`
`)&&(O="(?: "+O+")",P=" "+P,R++),v=new RegExp("^(?:"+O+")",C)),i&&(v=new RegExp("^"+O+"$(?!\\s)",C)),r&&(m=S.lastIndex),b=d.call(M?v:S,P),M?b?(b.input=b.input.slice(R),b[0]=b[0].slice(R),b.index=S.lastIndex,S.lastIndex+=b[0].length):S.lastIndex=0:r&&b&&(S.lastIndex=S.global?b.index+b[0].length:m),i&&b&&1<b.length&&l.call(b[0],v,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(b[x]=void 0)}),b}),y.exports=n},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,y,p){var h=e("../internals/an-object");y.exports=function(){var t=h(this),c="";return t.global&&(c+="g"),t.ignoreCase&&(c+="i"),t.multiline&&(c+="m"),t.dotAll&&(c+="s"),t.unicode&&(c+="u"),t.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(e,y,p){var h=e("./fails");function t(c,u){return RegExp(c,u)}p.UNSUPPORTED_Y=h(function(){var c=t("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),p.BROKEN_CARET=h(function(){var c=t("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":50}],113:[function(e,y,p){y.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],114:[function(e,y,p){y.exports=Object.is||function(h,t){return h===t?h!==0||1/h==1/t:h!=h&&t!=t}},{}],115:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/create-non-enumerable-property");y.exports=function(c,u){try{t(h,c,u)}catch{h[c]=u}return u}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,y,p){var h=e("../internals/get-built-in"),t=e("../internals/object-define-property"),c=e("../internals/well-known-symbol"),u=e("../internals/descriptors"),d=c("species");y.exports=function(l){var n=h(l),r=t.f;u&&n&&!n[d]&&r(n,d,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,y,p){var h=e("../internals/object-define-property").f,t=e("../internals/has"),c=e("../internals/well-known-symbol")("toStringTag");y.exports=function(u,d,l){u&&!t(u=l?u:u.prototype,c)&&h(u,c,{configurable:!0,value:d})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,y,p){var h=e("../internals/shared"),t=e("../internals/uid"),c=h("keys");y.exports=function(u){return c[u]||(c[u]=t(u))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/set-global"),c="__core-js_shared__",u=h[c]||t(c,{});y.exports=u},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,y,p){var h=e("../internals/is-pure"),t=e("../internals/shared-store");(y.exports=function(c,u){return t[c]||(t[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,y,p){var h=e("../internals/an-object"),t=e("../internals/a-function"),c=e("../internals/well-known-symbol")("species");y.exports=function(u,d){var l,n=h(u).constructor;return n===void 0||(l=h(n)[c])==null?d:t(l)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,y,p){var h=e("../internals/fails");y.exports=function(t){return h(function(){var c=""[t]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":50}],123:[function(e,y,p){function h(u){return function(d,l){var n,r,o=String(c(d)),i=t(l),a=o.length;return i<0||a<=i?u?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var t=e("../internals/to-integer"),c=e("../internals/require-object-coercible");y.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,y,p){function h(i){return i+22+75*(i<26)}function t(i,a,m){var v=0;for(i=m?r(i/700):i>>1,i+=r(i/a);455<i;v+=36)i=r(i/35);return r(v+36*i/(i+38))}function c(i){var a,m,v=[],b=(i=function(K){for(var re=[],Q=0,ne=K.length;Q<ne;){var ee=K.charCodeAt(Q++);if(55296<=ee&&ee<=56319&&Q<ne){var ue=K.charCodeAt(Q++);(64512&ue)==56320?re.push(((1023&ee)<<10)+(1023&ue)+65536):(re.push(ee),Q--)}else re.push(ee)}return re}(i)).length,x=128,S=0,M=72;for(a=0;a<i.length;a++)(m=i[a])<128&&v.push(o(m));var C=v.length,O=C;for(C&&v.push("-");O<b;){var R=u;for(a=0;a<i.length;a++)x<=(m=i[a])&&m<R&&(R=m);var P=O+1;if(R-x>r((u-S)/P))throw RangeError(n);for(S+=(R-x)*P,x=R,a=0;a<i.length;a++){if((m=i[a])<x&&++S>u)throw RangeError(n);if(m==x){for(var L=S,U=36;;U+=36){var A=U<=M?1:M+26<=U?26:U-M;if(L<A)break;var B=L-A,F=36-A;v.push(o(h(A+B%F))),L=r(B/F)}v.push(o(h(L))),M=t(S,P,O==C),S=0,++O}}++S,++x}return v.join("")}var u=2147483647,d=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",r=Math.floor,o=String.fromCharCode;y.exports=function(i){var a,m,v=[],b=i.toLowerCase().replace(l,".").split(".");for(a=0;a<b.length;a++)m=b[a],v.push(d.test(m)?"xn--"+c(m):m);return v.join(".")}},{}],125:[function(e,y,p){var h=e("../internals/to-integer"),t=e("../internals/require-object-coercible");y.exports="".repeat||function(c){var u=String(t(this)),d="",l=h(c);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;0<l;(l>>>=1)&&(u+=u))1&l&&(d+=u);return d}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,y,p){var h=e("../internals/fails"),t=e("../internals/whitespaces");y.exports=function(c){return h(function(){return!!t[c]()||"\u200B\x85\u180E"[c]()!="\u200B\x85\u180E"||t[c].name!==c})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,y,p){function h(l){return function(n){var r=String(t(n));return 1&l&&(r=r.replace(u,"")),2&l&&(r=r.replace(d,"")),r}}var t=e("../internals/require-object-coercible"),c="["+e("../internals/whitespaces")+"]",u=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$");y.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,y,p){function h(A){if(L.hasOwnProperty(A)){var B=L[A];delete L[A],B()}}function t(A){return function(){h(A)}}function c(A){h(A.data)}function u(A){r.postMessage(A+"",x.protocol+"//"+x.host)}var d,l,n,r=e("../internals/global"),o=e("../internals/fails"),i=e("../internals/classof-raw"),a=e("../internals/function-bind-context"),m=e("../internals/html"),v=e("../internals/document-create-element"),b=e("../internals/engine-is-ios"),x=r.location,S=r.setImmediate,M=r.clearImmediate,C=r.process,O=r.MessageChannel,R=r.Dispatch,P=0,L={},U="onreadystatechange";S&&M||(S=function(A){for(var B=[],F=1;F<arguments.length;)B.push(arguments[F++]);return L[++P]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,B)},d(P),P},M=function(A){delete L[A]},i(C)=="process"?d=function(A){C.nextTick(t(A))}:R&&R.now?d=function(A){R.now(t(A))}:O&&!b?(n=(l=new O).port2,l.port1.onmessage=c,d=a(n.postMessage,n,1)):!r.addEventListener||typeof postMessage!="function"||r.importScripts||o(u)||x.protocol==="file:"?d=U in v("script")?function(A){m.appendChild(v("script"))[U]=function(){m.removeChild(this),h(A)}}:function(A){setTimeout(t(A),0)}:(d=u,r.addEventListener("message",c,!1))),y.exports={set:S,clear:M}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,y,p){var h=e("../internals/classof-raw");y.exports=function(t){if(typeof t!="number"&&h(t)!="Number")throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],130:[function(e,y,p){var h=e("../internals/to-integer"),t=Math.max,c=Math.min;y.exports=function(u,d){var l=h(u);return l<0?t(l+d,0):c(l,d)}},{"../internals/to-integer":133}],131:[function(e,y,p){var h=e("../internals/to-integer"),t=e("../internals/to-length");y.exports=function(c){if(c===void 0)return 0;var u=h(c),d=t(u);if(u!==d)throw RangeError("Wrong length or index");return d}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,y,p){var h=e("../internals/indexed-object"),t=e("../internals/require-object-coercible");y.exports=function(c){return h(t(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,y,p){var h=Math.ceil,t=Math.floor;y.exports=function(c){return isNaN(c=+c)?0:(0<c?t:h)(c)}},{}],134:[function(e,y,p){var h=e("../internals/to-integer"),t=Math.min;y.exports=function(c){return 0<c?t(h(c),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,y,p){var h=e("../internals/require-object-coercible");y.exports=function(t){return Object(h(t))}},{"../internals/require-object-coercible":113}],136:[function(e,y,p){var h=e("../internals/to-positive-integer");y.exports=function(t,c){var u=h(t);if(u%c)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":137}],137:[function(e,y,p){var h=e("../internals/to-integer");y.exports=function(t){var c=h(t);if(c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":133}],138:[function(e,y,p){var h=e("../internals/is-object");y.exports=function(t,c){if(!h(t))return t;var u,d;if(c&&typeof(u=t.toString)=="function"&&!h(d=u.call(t))||typeof(u=t.valueOf)=="function"&&!h(d=u.call(t))||!c&&typeof(u=t.toString)=="function"&&!h(d=u.call(t)))return d;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,y,p){var h={};h[e("../internals/well-known-symbol")("toStringTag")]="z",y.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,y,p){function h(de,Me){for(var Oe=0,je=Me.length,Ge=new(Te(de))(je);Oe<je;)Ge[Oe]=Me[Oe++];return Ge}function t(de,Me){ce(de,Me,{get:function(){return pe(this)[Me]}})}function c(de){var Me;return de instanceof I||(Me=P(de))=="ArrayBuffer"||Me=="SharedArrayBuffer"}function u(de,Me){return oe(de)&&typeof Me!="symbol"&&Me in de&&String(+Me)==String(Me)}function d(de,Me){return u(de,Me=O(Me,!0))?b(2,de[Me]):De(de,Me)}function l(de,Me,Oe){return!(u(de,Me=O(Me,!0))&&L(Oe)&&R(Oe,"value"))||R(Oe,"get")||R(Oe,"set")||Oe.configurable||R(Oe,"writable")&&!Oe.writable||R(Oe,"enumerable")&&!Oe.enumerable?ce(de,Me,Oe):(de[Me]=Oe.value,de)}var n=e("../internals/export"),r=e("../internals/global"),o=e("../internals/descriptors"),i=e("../internals/typed-array-constructors-require-wrappers"),a=e("../internals/array-buffer-view-core"),m=e("../internals/array-buffer"),v=e("../internals/an-instance"),b=e("../internals/create-property-descriptor"),x=e("../internals/create-non-enumerable-property"),S=e("../internals/to-length"),M=e("../internals/to-index"),C=e("../internals/to-offset"),O=e("../internals/to-primitive"),R=e("../internals/has"),P=e("../internals/classof"),L=e("../internals/is-object"),U=e("../internals/object-create"),A=e("../internals/object-set-prototype-of"),B=e("../internals/object-get-own-property-names").f,F=e("../internals/typed-array-from"),K=e("../internals/array-iteration").forEach,re=e("../internals/set-species"),Q=e("../internals/object-define-property"),ne=e("../internals/object-get-own-property-descriptor"),ee=e("../internals/internal-state"),ue=e("../internals/inherit-if-required"),pe=ee.get,_e=ee.set,ce=Q.f,De=ne.f,ve=Math.round,ge=r.RangeError,I=m.ArrayBuffer,V=m.DataView,W=a.NATIVE_ARRAY_BUFFER_VIEWS,Z=a.TYPED_ARRAY_TAG,ie=a.TypedArray,te=a.TypedArrayPrototype,Te=a.aTypedArrayConstructor,oe=a.isTypedArray,be="BYTES_PER_ELEMENT",me="Wrong length";o?(W||(ne.f=d,Q.f=l,t(te,"buffer"),t(te,"byteOffset"),t(te,"byteLength"),t(te,"length")),n({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:d,defineProperty:l}),y.exports=function(de,Me,Oe){function je(We,ye){ce(We,ye,{get:function(){return nt=ye,(z=pe(this)).view[Ze](nt*Ge+z.byteOffset,!0);var nt,z},set:function(nt){return z=ye,Y=nt,H=pe(this),Oe&&(Y=(Y=ve(Y))<0?0:255<Y?255:255&Y),void H.view[Be](z*Ge+H.byteOffset,Y,!0);var z,Y,H},enumerable:!0})}var Ge=de.match(/\d+$/)[0]/8,Qe=de+(Oe?"Clamped":"")+"Array",Ze="get"+de,Be="set"+de,xt=r[Qe],Re=xt,Le=Re&&Re.prototype,qe={};W?i&&(Re=Me(function(We,ye,nt,z){return v(We,Re,Qe),ue(L(ye)?c(ye)?z!==void 0?new xt(ye,C(nt,Ge),z):nt!==void 0?new xt(ye,C(nt,Ge)):new xt(ye):oe(ye)?h(Re,ye):F.call(Re,ye):new xt(M(ye)),We,Re)}),A&&A(Re,ie),K(B(xt),function(We){We in Re||x(Re,We,xt[We])}),Re.prototype=Le):(Re=Me(function(We,ye,nt,z){v(We,Re,Qe);var Y,H,$,ae=0,xe=0;if(L(ye)){if(!c(ye))return oe(ye)?h(Re,ye):F.call(Re,ye);Y=ye,xe=C(nt,Ge);var Ce=ye.byteLength;if(z===void 0){if(Ce%Ge||(H=Ce-xe)<0)throw ge(me)}else if(Ce<(H=S(z)*Ge)+xe)throw ge(me);$=H/Ge}else $=M(ye),Y=new I(H=$*Ge);for(_e(We,{buffer:Y,byteOffset:xe,byteLength:H,length:$,view:new V(Y)});ae<$;)je(We,ae++)}),A&&A(Re,ie),Le=Re.prototype=U(te)),Le.constructor!==Re&&x(Le,"constructor",Re),Z&&x(Le,Z,Qe),qe[Qe]=Re,n({global:!0,forced:Re!=xt,sham:!W},qe),be in Re||x(Re,be,Ge),be in Le||x(Le,be,Ge),re(Qe)}):y.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/fails"),c=e("../internals/check-correctness-of-iteration"),u=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,d=h.ArrayBuffer,l=h.Int8Array;y.exports=!u||!t(function(){l(1)})||!t(function(){new l(-1)})||!c(function(n){new l,new l(null),new l(1.5),new l(n)},!0)||t(function(){return new l(new d(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,y,p){var h=e("../internals/to-object"),t=e("../internals/to-length"),c=e("../internals/get-iterator-method"),u=e("../internals/is-array-iterator-method"),d=e("../internals/function-bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;y.exports=function(n,r,o){var i,a,m,v,b,x,S=h(n),M=arguments.length,C=1<M?r:void 0,O=C!==void 0,R=c(S);if(R!=null&&!u(R))for(x=(b=R.call(S)).next,S=[];!(v=x.call(b)).done;)S.push(v.value);for(O&&2<M&&(C=d(C,o,2)),a=t(S.length),m=new(l(this))(a),i=0;i<a;i++)m[i]=O?C(S[i],i):S[i];return m}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,y,p){var h=0,t=Math.random();y.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++h+t).toString(36)}},{}],144:[function(e,y,p){var h=e("../internals/native-symbol");y.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,y,p){var h=e("../internals/well-known-symbol");p.f=h},{"../internals/well-known-symbol":146}],146:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/shared"),c=e("../internals/has"),u=e("../internals/uid"),d=e("../internals/native-symbol"),l=e("../internals/use-symbol-as-uid"),n=t("wks"),r=h.Symbol,o=l?r:r&&r.withoutSetter||u;y.exports=function(i){return c(n,i)||(d&&c(r,i)?n[i]=r[i]:n[i]=o("Symbol."+i)),n[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,y,p){y.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],148:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/global"),c=e("../internals/array-buffer"),u=e("../internals/set-species"),d="ArrayBuffer",l=c[d];h({global:!0,forced:t[d]!==l},{ArrayBuffer:l}),u(d)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,y,p){function h(C){if(!d(C))return!1;var O=C[v];return O!==void 0?!!O:u(C)}var t=e("../internals/export"),c=e("../internals/fails"),u=e("../internals/is-array"),d=e("../internals/is-object"),l=e("../internals/to-object"),n=e("../internals/to-length"),r=e("../internals/create-property"),o=e("../internals/array-species-create"),i=e("../internals/array-method-has-species-support"),a=e("../internals/well-known-symbol"),m=e("../internals/engine-v8-version"),v=a("isConcatSpreadable"),b=9007199254740991,x="Maximum allowed index exceeded",S=51<=m||!c(function(){var C=[];return C[v]=!1,C.concat()[0]!==C}),M=i("concat");t({target:"Array",proto:!0,forced:!S||!M},{concat:function(C){var O,R,P,L,U,A=l(this),B=o(A,0),F=0;for(O=-1,P=arguments.length;O<P;O++)if(h(U=O===-1?A:arguments[O])){if(L=n(U.length),b<F+L)throw TypeError(x);for(R=0;R<L;R++,F++)R in U&&r(B,F,U[R])}else{if(b<=F)throw TypeError(x);r(B,F++,U)}return B.length=F,B}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-iteration").every,c=e("../internals/array-method-is-strict"),u=e("../internals/array-method-uses-to-length"),d=c("every"),l=u("every");h({target:"Array",proto:!0,forced:!d||!l},{every:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-fill"),c=e("../internals/add-to-unscopables");h({target:"Array",proto:!0},{fill:t}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-iteration").filter,c=e("../internals/array-method-has-species-support"),u=e("../internals/array-method-uses-to-length"),d=c("filter"),l=u("filter");h({target:"Array",proto:!0,forced:!d||!l},{filter:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/flatten-into-array"),c=e("../internals/to-object"),u=e("../internals/to-length"),d=e("../internals/a-function"),l=e("../internals/array-species-create");h({target:"Array",proto:!0},{flatMap:function(n,r){var o,i=c(this),a=u(i.length);return d(n),(o=l(i,0)).length=t(o,i,i,a,0,1,n,1<arguments.length?r:void 0),o}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-for-each");h({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-from");h({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:t})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-includes").includes,c=e("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u,d){return t(this,u,1<arguments.length?d:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-includes").indexOf,c=e("../internals/array-method-is-strict"),u=e("../internals/array-method-uses-to-length"),d=[].indexOf,l=!!d&&1/[1].indexOf(1,-0)<0,n=c("indexOf"),r=u("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:l||!n||!r},{indexOf:function(o,i){return l?d.apply(this,arguments)||0:t(this,o,1<arguments.length?i:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,y,p){var h=e("../internals/to-indexed-object"),t=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),u=e("../internals/internal-state"),d=e("../internals/define-iterator"),l="Array Iterator",n=u.set,r=u.getterFor(l);y.exports=d(Array,"Array",function(o,i){n(this,{type:l,target:h(o),index:0,kind:i})},function(){var o=r(this),i=o.target,a=o.kind,m=o.index++;return!i||m>=i.length?{value:o.target=void 0,done:!0}:a=="keys"?{value:m,done:!1}:a=="values"?{value:i[m],done:!1}:{value:[m,i[m]],done:!1}},"values"),c.Arguments=c.Array,t("keys"),t("values"),t("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/indexed-object"),c=e("../internals/to-indexed-object"),u=e("../internals/array-method-is-strict"),d=[].join,l=t!=Object,n=u("join",",");h({target:"Array",proto:!0,forced:l||!n},{join:function(r){return d.call(c(this),r===void 0?",":r)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-last-index-of");h({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-iteration").map,c=e("../internals/array-method-has-species-support"),u=e("../internals/array-method-uses-to-length"),d=c("map"),l=u("map");h({target:"Array",proto:!0,forced:!d||!l},{map:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/is-object"),c=e("../internals/is-array"),u=e("../internals/to-absolute-index"),d=e("../internals/to-length"),l=e("../internals/to-indexed-object"),n=e("../internals/create-property"),r=e("../internals/well-known-symbol"),o=e("../internals/array-method-has-species-support"),i=e("../internals/array-method-uses-to-length"),a=o("slice"),m=i("slice",{ACCESSORS:!0,0:0,1:2}),v=r("species"),b=[].slice,x=Math.max;h({target:"Array",proto:!0,forced:!a||!m},{slice:function(S,M){var C,O,R,P=l(this),L=d(P.length),U=u(S,L),A=u(M===void 0?L:M,L);if(c(P)&&(typeof(C=P.constructor)!="function"||C!==Array&&!c(C.prototype)?t(C)&&(C=C[v])===null&&(C=void 0):C=void 0,C===Array||C===void 0))return b.call(P,U,A);for(O=new(C===void 0?Array:C)(x(A-U,0)),R=0;U<A;U++,R++)U in P&&n(O,R,P[U]);return O.length=R,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/array-iteration").some,c=e("../internals/array-method-is-strict"),u=e("../internals/array-method-uses-to-length"),d=c("some"),l=u("some");h({target:"Array",proto:!0,forced:!d||!l},{some:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/to-absolute-index"),c=e("../internals/to-integer"),u=e("../internals/to-length"),d=e("../internals/to-object"),l=e("../internals/array-species-create"),n=e("../internals/create-property"),r=e("../internals/array-method-has-species-support"),o=e("../internals/array-method-uses-to-length"),i=r("splice"),a=o("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min;h({target:"Array",proto:!0,forced:!i||!a},{splice:function(b,x){var S,M,C,O,R,P,L=d(this),U=u(L.length),A=t(b,U),B=arguments.length;if(B===0?S=M=0:M=B===1?(S=0,U-A):(S=B-2,v(m(c(x),0),U-A)),9007199254740991<U+S-M)throw TypeError("Maximum allowed length exceeded");for(C=l(L,M),O=0;O<M;O++)(R=A+O)in L&&n(C,O,L[R]);if(S<(C.length=M)){for(O=A;O<U-M;O++)P=O+S,(R=O+M)in L?L[P]=L[R]:delete L[P];for(O=U;U-M+S<O;O--)delete L[O-1]}else if(M<S)for(O=U-M;A<O;O--)P=O+S-1,(R=O+M-1)in L?L[P]=L[R]:delete L[P];for(O=0;O<S;O++)L[O+A]=arguments[O+2];return L.length=U-M+S,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,y,p){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/object-define-property").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/;!h||"name"in c||t(c,"name",{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,y,p){var h=e("../internals/collection"),t=e("../internals/collection-strong");y.exports=h("Map",function(c){return function(u){return c(this,arguments.length?u:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,y,p){var h=e("../internals/export"),t=Math.hypot,c=Math.abs,u=Math.sqrt;h({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(d,l){for(var n,r,o=0,i=0,a=arguments.length,m=0;i<a;)m<(n=c(arguments[i++]))?(o=o*(r=m/n)*r+1,m=n):o+=0<n?(r=n/m)*r:n;return m===1/0?1/0:m*u(o)}})},{"../internals/export":49}],169:[function(e,y,p){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,y,p){function h(A){var B,F,K,re,Q,ne,ee,ue,pe=o(A,!1);if(typeof pe=="string"&&2<pe.length){if((B=(pe=x(pe)).charCodeAt(0))===43||B===45){if((F=pe.charCodeAt(2))===88||F===120)return NaN}else if(B===48){switch(pe.charCodeAt(1)){case 66:case 98:K=2,re=49;break;case 79:case 111:K=8,re=55;break;default:return+pe}for(ne=(Q=pe.slice(2)).length,ee=0;ee<ne;ee++)if((ue=Q.charCodeAt(ee))<48||re<ue)return NaN;return parseInt(Q,K)}}return+pe}var t=e("../internals/descriptors"),c=e("../internals/global"),u=e("../internals/is-forced"),d=e("../internals/redefine"),l=e("../internals/has"),n=e("../internals/classof-raw"),r=e("../internals/inherit-if-required"),o=e("../internals/to-primitive"),i=e("../internals/fails"),a=e("../internals/object-create"),m=e("../internals/object-get-own-property-names").f,v=e("../internals/object-get-own-property-descriptor").f,b=e("../internals/object-define-property").f,x=e("../internals/string-trim").trim,S="Number",M=c[S],C=M.prototype,O=n(a(C))==S;if(u(S,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var R,P=function(A){var B=arguments.length<1?0:A,F=this;return F instanceof P&&(O?i(function(){C.valueOf.call(F)}):n(F)!=S)?r(new M(h(B)),F,P):h(B)},L=t?m(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;L.length>U;U++)l(M,R=L[U])&&!l(P,R)&&b(P,R,v(M,R));(P.prototype=C).constructor=P,d(c,S,P)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,y,p){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/to-integer"),c=e("../internals/this-number-value"),u=e("../internals/string-repeat"),d=e("../internals/fails"),l=1 .toFixed,n=Math.floor,r=function(o,i,a){return i===0?a:i%2==1?r(o,i-1,a*o):r(o*o,i/2,a)};h({target:"Number",proto:!0,forced:l&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!d(function(){l.call({})})},{toFixed:function(o){function i(L,U){for(var A=-1,B=U;++A<6;)B+=L*O[A],O[A]=B%1e7,B=n(B/1e7)}function a(L){for(var U=6,A=0;0<=--U;)A+=O[U],O[U]=n(A/L),A=A%L*1e7}function m(){for(var L=6,U="";0<=--L;)if(U!==""||L===0||O[L]!==0){var A=String(O[L]);U=U===""?A:U+u.call("0",7-A.length)+A}return U}var v,b,x,S,M=c(this),C=t(o),O=[0,0,0,0,0,0],R="",P="0";if(C<0||20<C)throw RangeError("Incorrect fraction digits");if(M!=M)return"NaN";if(M<=-1e21||1e21<=M)return String(M);if(M<0&&(R="-",M=-M),1e-21<M)if(b=(v=function(L){for(var U=0,A=L;4096<=A;)U+=12,A/=4096;for(;2<=A;)U+=1,A/=2;return U}(M*r(2,69,1))-69)<0?M*r(2,-v,1):M/r(2,v,1),b*=4503599627370496,0<(v=52-v)){for(i(0,b),x=C;7<=x;)i(1e7,0),x-=7;for(i(r(10,x,1),0),x=v-1;23<=x;)a(1<<23),x-=23;a(1<<x),i(1,1),a(2),P=m()}else i(0,b),i(1<<-v,0),P=m()+u.call("0",C);return P=0<C?R+((S=P.length)<=C?"0."+u.call("0",C-S)+P:P.slice(0,S-C)+"."+P.slice(S-C)):R+P}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/object-assign");h({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/object-get-own-property-names-external").f;h({target:"Object",stat:!0,forced:t(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/to-object"),u=e("../internals/object-get-prototype-of"),d=e("../internals/correct-prototype-getter");h({target:"Object",stat:!0,forced:t(function(){u(1)}),sham:!d},{getPrototypeOf:function(l){return u(c(l))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/to-object"),c=e("../internals/object-keys");h({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(u){return c(t(u))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,y,p){var h=e("../internals/to-string-tag-support"),t=e("../internals/redefine"),c=e("../internals/object-to-string");h||t(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,y,p){function h(Re){var Le;return!(!O(Re)||typeof(Le=Re.then)!="function")&&Le}function t(Re,Le,qe){if(!Le.notified){Le.notified=!0;var We=Le.reactions;re(function(){for(var ye=Le.value,nt=Le.state==1,z=0;We.length>z;){var Y,H,$,ae=We[z++],xe=nt?ae.ok:ae.fail,Ce=ae.resolve,Ne=ae.reject,fe=ae.domain;try{xe?(nt||(Le.rejection===2&&Be(Re,Le),Le.rejection=1),xe===!0?Y=ye:(fe&&fe.enter(),Y=xe(ye),fe&&(fe.exit(),$=!0)),Y===ae.promise?Ne(ie("Promise-chain cycle")):(H=h(Y))?H.call(Y,Ce,Ne):Ce(Y)):Ne(ye)}catch(ze){fe&&!$&&fe.exit(),Ne(ze)}}Le.reactions=[],Le.notified=!1,qe&&!Le.rejection&&Qe(Re,Le)})}}function c(Re,Le,qe){var We,ye;Me?((We=te.createEvent("Event")).promise=Le,We.reason=qe,We.initEvent(Re,!1,!0),m.dispatchEvent(We)):We={promise:Le,reason:qe},(ye=m["on"+Re])?ye(We):Re===Oe&&ne("Unhandled promise rejection",qe)}function u(Re,Le,qe,We){return function(ye){Re(Le,qe,ye,We)}}function d(Re,Le,qe,We){Le.done||(Le.done=!0,We&&(Le=We),Le.value=qe,Le.state=2,t(Re,Le,!0))}var l,n,r,o,i=e("../internals/export"),a=e("../internals/is-pure"),m=e("../internals/global"),v=e("../internals/get-built-in"),b=e("../internals/native-promise-constructor"),x=e("../internals/redefine"),S=e("../internals/redefine-all"),M=e("../internals/set-to-string-tag"),C=e("../internals/set-species"),O=e("../internals/is-object"),R=e("../internals/a-function"),P=e("../internals/an-instance"),L=e("../internals/classof-raw"),U=e("../internals/inspect-source"),A=e("../internals/iterate"),B=e("../internals/check-correctness-of-iteration"),F=e("../internals/species-constructor"),K=e("../internals/task").set,re=e("../internals/microtask"),Q=e("../internals/promise-resolve"),ne=e("../internals/host-report-errors"),ee=e("../internals/new-promise-capability"),ue=e("../internals/perform"),pe=e("../internals/internal-state"),_e=e("../internals/is-forced"),ce=e("../internals/well-known-symbol"),De=e("../internals/engine-v8-version"),ve=ce("species"),ge="Promise",I=pe.get,V=pe.set,W=pe.getterFor(ge),Z=b,ie=m.TypeError,te=m.document,Te=m.process,oe=v("fetch"),be=ee.f,me=be,de=L(Te)=="process",Me=!!(te&&te.createEvent&&m.dispatchEvent),Oe="unhandledrejection",je=_e(ge,function(){if(U(Z)===String(Z)&&(De===66||!de&&typeof PromiseRejectionEvent!="function")||a&&!Z.prototype.finally)return!0;if(51<=De&&/native code/.test(Z))return!1;function Re(qe){qe(function(){},function(){})}var Le=Z.resolve(1);return(Le.constructor={})[ve]=Re,!(Le.then(function(){})instanceof Re)}),Ge=je||!B(function(Re){Z.all(Re).catch(function(){})}),Qe=function(Re,Le){K.call(m,function(){var qe,We=Le.value;if(Ze(Le)&&(qe=ue(function(){de?Te.emit("unhandledRejection",We,Re):c(Oe,Re,We)}),Le.rejection=de||Ze(Le)?2:1,qe.error))throw qe.value})},Ze=function(Re){return Re.rejection!==1&&!Re.parent},Be=function(Re,Le){K.call(m,function(){de?Te.emit("rejectionHandled",Re):c("rejectionhandled",Re,Le.value)})},xt=function(Re,Le,qe,We){if(!Le.done){Le.done=!0,We&&(Le=We);try{if(Re===qe)throw ie("Promise can't be resolved itself");var ye=h(qe);ye?re(function(){var nt={done:!1};try{ye.call(qe,u(xt,Re,nt,Le),u(d,Re,nt,Le))}catch(z){d(Re,nt,z,Le)}}):(Le.value=qe,Le.state=1,t(Re,Le,!1))}catch(nt){d(Re,{done:!1},nt,Le)}}};je&&(Z=function(Re){P(this,Z,ge),R(Re),l.call(this);var Le=I(this);try{Re(u(xt,this,Le),u(d,this,Le))}catch(qe){d(this,Le,qe)}},(l=function(){V(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=S(Z.prototype,{then:function(Re,Le){var qe=W(this),We=be(F(this,Z));return We.ok=typeof Re!="function"||Re,We.fail=typeof Le=="function"&&Le,We.domain=de?Te.domain:void 0,qe.parent=!0,qe.reactions.push(We),qe.state!=0&&t(this,qe,!1),We.promise},catch:function(Re){return this.then(void 0,Re)}}),n=function(){var Re=new l,Le=I(Re);this.promise=Re,this.resolve=u(xt,Re,Le),this.reject=u(d,Re,Le)},ee.f=be=function(Re){return Re===Z||Re===r?new n(Re):me(Re)},a||typeof b!="function"||(o=b.prototype.then,x(b.prototype,"then",function(Re,Le){var qe=this;return new Z(function(We,ye){o.call(qe,We,ye)}).then(Re,Le)},{unsafe:!0}),typeof oe=="function"&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){return Q(Z,oe.apply(m,arguments))}}))),i({global:!0,wrap:!0,forced:je},{Promise:Z}),M(Z,ge,!1,!0),C(ge),r=v(ge),i({target:ge,stat:!0,forced:je},{reject:function(Re){var Le=be(this);return Le.reject.call(void 0,Re),Le.promise}}),i({target:ge,stat:!0,forced:a||je},{resolve:function(Re){return Q(a&&this===r?Z:this,Re)}}),i({target:ge,stat:!0,forced:Ge},{all:function(Re){var Le=this,qe=be(Le),We=qe.resolve,ye=qe.reject,nt=ue(function(){var z=R(Le.resolve),Y=[],H=0,$=1;A(Re,function(ae){var xe=H++,Ce=!1;Y.push(void 0),$++,z.call(Le,ae).then(function(Ne){Ce||(Ce=!0,Y[xe]=Ne,--$||We(Y))},ye)}),--$||We(Y)});return nt.error&&ye(nt.value),qe.promise},race:function(Re){var Le=this,qe=be(Le),We=qe.reject,ye=ue(function(){var nt=R(Le.resolve);A(Re,function(z){nt.call(Le,z).then(qe.resolve,We)})});return ye.error&&We(ye.value),qe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/get-built-in"),c=e("../internals/a-function"),u=e("../internals/an-object"),d=e("../internals/is-object"),l=e("../internals/object-create"),n=e("../internals/function-bind"),r=e("../internals/fails"),o=t("Reflect","construct"),i=r(function(){function v(){}return!(o(function(){},[],v)instanceof v)}),a=!r(function(){o(function(){})}),m=i||a;h({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(v,b,x){c(v),u(b);var S=arguments.length<3?v:c(x);if(a&&!i)return o(v,b,S);if(v==S){switch(b.length){case 0:return new v;case 1:return new v(b[0]);case 2:return new v(b[0],b[1]);case 3:return new v(b[0],b[1],b[2]);case 4:return new v(b[0],b[1],b[2],b[3])}var M=[null];return M.push.apply(M,b),new(n.apply(v,M))}var C=S.prototype,O=l(d(C)?C:Object.prototype),R=Function.apply.call(v,O,b);return d(R)?R:O}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,y,p){var h=e("../internals/descriptors"),t=e("../internals/global"),c=e("../internals/is-forced"),u=e("../internals/inherit-if-required"),d=e("../internals/object-define-property").f,l=e("../internals/object-get-own-property-names").f,n=e("../internals/is-regexp"),r=e("../internals/regexp-flags"),o=e("../internals/regexp-sticky-helpers"),i=e("../internals/redefine"),a=e("../internals/fails"),m=e("../internals/internal-state").set,v=e("../internals/set-species"),b=e("../internals/well-known-symbol")("match"),x=t.RegExp,S=x.prototype,M=/a/g,C=/a/g,O=new x(M)!==M,R=o.UNSUPPORTED_Y;if(h&&c("RegExp",!O||R||a(function(){return C[b]=!1,x(M)!=M||x(C)==C||x(M,"i")!="/a/i"}))){let B=function(F){F in P||d(P,F,{configurable:!0,get:function(){return x[F]},set:function(K){x[F]=K}})};for(var A=B,P=function(F,K){var re,Q=this instanceof P,ne=n(F),ee=K===void 0;if(!Q&&ne&&F.constructor===P&&ee)return F;O?ne&&!ee&&(F=F.source):F instanceof P&&(ee&&(K=r.call(F)),F=F.source),R&&(re=!!K&&-1<K.indexOf("y"))&&(K=K.replace(/y/g,""));var ue=u(O?new x(F,K):x(F,K),Q?this:S,P);return R&&re&&m(ue,{sticky:re}),ue},L=l(x),U=0;L.length>U;)B(L[U++]);(S.constructor=P).prototype=S,i(t,"RegExp",P)}v("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/regexp-exec");h({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,y,p){var h=e("../internals/redefine"),t=e("../internals/an-object"),c=e("../internals/fails"),u=e("../internals/regexp-flags"),d="toString",l=RegExp.prototype,n=l[d],r=c(function(){return n.call({source:"a",flags:"b"})!="/a/b"}),o=n.name!=d;(r||o)&&h(RegExp.prototype,d,function(){var i=t(this),a=String(i.source),m=i.flags;return"/"+a+"/"+String(m===void 0&&i instanceof RegExp&&!("flags"in l)?u.call(i):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,y,p){var h=e("../internals/collection"),t=e("../internals/collection-strong");y.exports=h("Set",function(c){return function(u){return c(this,arguments.length?u:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,y,p){var h,t=e("../internals/export"),c=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/to-length"),d=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),n=e("../internals/correct-is-regexp-logic"),r=e("../internals/is-pure"),o="".endsWith,i=Math.min,a=n("endsWith");t({target:"String",proto:!0,forced:!!(r||a||!(h=c(String.prototype,"endsWith"))||h.writable)&&!a},{endsWith:function(m,v){var b=String(l(this));d(m);var x=1<arguments.length?v:void 0,S=u(b.length),M=x===void 0?S:i(u(x),S),C=String(m);return o?o.call(b,C,M):b.slice(M-C.length,M)===C}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(u,d){return!!~String(c(this)).indexOf(t(u),1<arguments.length?d:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,y,p){var h=e("../internals/string-multibyte").charAt,t=e("../internals/internal-state"),c=e("../internals/define-iterator"),u="String Iterator",d=t.set,l=t.getterFor(u);c(String,"String",function(n){d(this,{type:u,string:String(n),index:0})},function(){var n,r=l(this),o=r.string,i=r.index;return i>=o.length?{value:void 0,done:!0}:(n=h(o,i),r.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,y,p){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-length"),u=e("../internals/require-object-coercible"),d=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");h("match",1,function(n,r,o){return[function(i){var a=u(this),m=i==null?void 0:i[n];return m!==void 0?m.call(i,a):new RegExp(i)[n](String(a))},function(i){var a=o(r,i,this);if(a.done)return a.value;var m=t(i),v=String(this);if(!m.global)return l(m,v);for(var b,x=m.unicode,S=[],M=m.lastIndex=0;(b=l(m,v))!==null;){var C=String(b[0]);(S[M]=C)===""&&(m.lastIndex=d(v,c(m.lastIndex),x)),M++}return M===0?null:S}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,y,p){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,y,p){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-object"),u=e("../internals/to-length"),d=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),n=e("../internals/advance-string-index"),r=e("../internals/regexp-exec-abstract"),o=Math.max,i=Math.min,a=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;h("replace",2,function(b,x,S,M){var C=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=M.REPLACE_KEEPS_$0,R=C?"$":"$0";return[function(L,U){var A=l(this),B=L==null?void 0:L[b];return B!==void 0?B.call(L,A,U):x.call(String(A),L,U)},function(L,U){if(!C&&O||typeof U=="string"&&U.indexOf(R)===-1){var A=S(x,L,this,U);if(A.done)return A.value}var B=t(L),F=String(this),K=typeof U=="function";K||(U=String(U));var re=B.global;if(re){var Q=B.unicode;B.lastIndex=0}for(var ne=[];;){var ee=r(B,F);if(ee===null||(ne.push(ee),!re))break;String(ee[0])===""&&(B.lastIndex=n(F,u(B.lastIndex),Q))}for(var ue,pe="",_e=0,ce=0;ce<ne.length;ce++){ee=ne[ce];for(var De=String(ee[0]),ve=o(i(d(ee.index),F.length),0),ge=[],I=1;I<ee.length;I++)ge.push((ue=ee[I])===void 0?ue:String(ue));var V=ee.groups;if(K){var W=[De].concat(ge,ve,F);V!==void 0&&W.push(V);var Z=String(U.apply(void 0,W))}else Z=P(De,F,ve,ge,V,U);_e<=ve&&(pe+=F.slice(_e,ve)+Z,_e=ve+De.length)}return pe+F.slice(_e)}];function P(L,U,A,B,F,K){var re=A+L.length,Q=B.length,ne=v;return F!==void 0&&(F=c(F),ne=m),x.call(K,ne,function(ee,ue){var pe;switch(ue.charAt(0)){case"$":return"$";case"&":return L;case"`":return U.slice(0,A);case"'":return U.slice(re);case"<":pe=F[ue.slice(1,-1)];break;default:var _e=+ue;if(_e==0)return ee;if(Q<_e){var ce=a(_e/10);return ce===0?ee:ce<=Q?B[ce-1]===void 0?ue.charAt(1):B[ce-1]+ue.charAt(1):ee}pe=B[_e-1]}return pe===void 0?"":pe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,y,p){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/require-object-coercible"),u=e("../internals/same-value"),d=e("../internals/regexp-exec-abstract");h("search",1,function(l,n,r){return[function(o){var i=c(this),a=o==null?void 0:o[l];return a!==void 0?a.call(o,i):new RegExp(o)[l](String(i))},function(o){var i=r(n,o,this);if(i.done)return i.value;var a=t(o),m=String(this),v=a.lastIndex;u(v,0)||(a.lastIndex=0);var b=d(a,m);return u(a.lastIndex,v)||(a.lastIndex=v),b===null?-1:b.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,y,p){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/is-regexp"),c=e("../internals/an-object"),u=e("../internals/require-object-coercible"),d=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),n=e("../internals/to-length"),r=e("../internals/regexp-exec-abstract"),o=e("../internals/regexp-exec"),i=e("../internals/fails"),a=[].push,m=Math.min,v=4294967295,b=!i(function(){return!RegExp(v,"y")});h("split",2,function(x,S,M){var C;return C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(O,R){var P=String(u(this)),L=R===void 0?v:R>>>0;if(L==0)return[];if(O===void 0)return[P];if(!t(O))return S.call(P,O,L);for(var U,A,B,F=[],K=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(O.sticky?"y":""),re=0,Q=new RegExp(O.source,K+"g");(U=o.call(Q,P))&&!(re<(A=Q.lastIndex)&&(F.push(P.slice(re,U.index)),1<U.length&&U.index<P.length&&a.apply(F,U.slice(1)),B=U[0].length,re=A,F.length>=L));)Q.lastIndex===U.index&&Q.lastIndex++;return re===P.length?!B&&Q.test("")||F.push(""):F.push(P.slice(re)),F.length>L?F.slice(0,L):F}:"0".split(void 0,0).length?function(O,R){return O===void 0&&R===0?[]:S.call(this,O,R)}:S,[function(O,R){var P=u(this),L=O==null?void 0:O[x];return L!==void 0?L.call(O,P,R):C.call(String(P),O,R)},function(O,R){var P=M(C,O,this,R,C!==S);if(P.done)return P.value;var L=c(O),U=String(this),A=d(L,RegExp),B=L.unicode,F=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(b?"y":"g"),K=new A(b?L:"^(?:"+L.source+")",F),re=R===void 0?v:R>>>0;if(re==0)return[];if(U.length===0)return r(K,U)===null?[U]:[];for(var Q=0,ne=0,ee=[];ne<U.length;){K.lastIndex=b?ne:0;var ue,pe=r(K,b?U:U.slice(ne));if(pe===null||(ue=m(n(K.lastIndex+(b?0:ne)),U.length))===Q)ne=l(U,ne,B);else{if(ee.push(U.slice(Q,ne)),ee.length===re)return ee;for(var _e=1;_e<=pe.length-1;_e++)if(ee.push(pe[_e]),ee.length===re)return ee;ne=Q=ue}}return ee.push(U.slice(Q)),ee}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/create-html");h({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return t(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/string-trim").trim;h({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return t(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,y,p){var h=e("../internals/export"),t=e("../internals/descriptors"),c=e("../internals/global"),u=e("../internals/has"),d=e("../internals/is-object"),l=e("../internals/object-define-property").f,n=e("../internals/copy-constructor-properties"),r=c.Symbol;if(t&&typeof r=="function"&&(!("description"in r.prototype)||r().description!==void 0)){var o={},i=function(x){var S=arguments.length<1||x===void 0?void 0:String(x),M=this instanceof i?new r(S):S===void 0?r():r(S);return S===""&&(o[M]=!0),M};n(i,r);var a=i.prototype=r.prototype;a.constructor=i;var m=a.toString,v=String(r("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;l(a,"description",{configurable:!0,get:function(){var x=d(this)?this.valueOf():this,S=m.call(x);if(u(o,x))return"";var M=v?S.slice(7,-1):S.replace(b,"$1");return M===""?void 0:M}}),h({global:!0,forced:!0},{Symbol:i})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,y,p){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,y,p){function h(H,$){var ae=Qe[H]=P(me[ie]);return Te(ae,{type:Z,tag:H,description:$}),o||(ae.description=$),ae}function t(H,$){S(H);var ae=C($),xe=L(ae).concat(Y(ae));return V(xe,function(Ce){o&&!z.call(ae,Ce)||nt(H,Ce,ae[Ce])}),H}function c(H,$){var ae=C(H),xe=O($,!0);if(ae!==be||!v(Qe,xe)||v(Ze,xe)){var Ce=Me(ae,xe);return!Ce||!v(Qe,xe)||v(ae,W)&&ae[W][xe]||(Ce.enumerable=!0),Ce}}function u(H){var $=je(C(H)),ae=[];return V($,function(xe){v(Qe,xe)||v(pe,xe)||ae.push(xe)}),ae}var d=e("../internals/export"),l=e("../internals/global"),n=e("../internals/get-built-in"),r=e("../internals/is-pure"),o=e("../internals/descriptors"),i=e("../internals/native-symbol"),a=e("../internals/use-symbol-as-uid"),m=e("../internals/fails"),v=e("../internals/has"),b=e("../internals/is-array"),x=e("../internals/is-object"),S=e("../internals/an-object"),M=e("../internals/to-object"),C=e("../internals/to-indexed-object"),O=e("../internals/to-primitive"),R=e("../internals/create-property-descriptor"),P=e("../internals/object-create"),L=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),A=e("../internals/object-get-own-property-names-external"),B=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),K=e("../internals/object-define-property"),re=e("../internals/object-property-is-enumerable"),Q=e("../internals/create-non-enumerable-property"),ne=e("../internals/redefine"),ee=e("../internals/shared"),ue=e("../internals/shared-key"),pe=e("../internals/hidden-keys"),_e=e("../internals/uid"),ce=e("../internals/well-known-symbol"),De=e("../internals/well-known-symbol-wrapped"),ve=e("../internals/define-well-known-symbol"),ge=e("../internals/set-to-string-tag"),I=e("../internals/internal-state"),V=e("../internals/array-iteration").forEach,W=ue("hidden"),Z="Symbol",ie="prototype",te=ce("toPrimitive"),Te=I.set,oe=I.getterFor(Z),be=Object[ie],me=l.Symbol,de=n("JSON","stringify"),Me=F.f,Oe=K.f,je=A.f,Ge=re.f,Qe=ee("symbols"),Ze=ee("op-symbols"),Be=ee("string-to-symbol-registry"),xt=ee("symbol-to-string-registry"),Re=ee("wks"),Le=l.QObject,qe=!Le||!Le[ie]||!Le[ie].findChild,We=o&&m(function(){return P(Oe({},"a",{get:function(){return Oe(this,"a",{value:7}).a}})).a!=7})?function(H,$,ae){var xe=Me(be,$);xe&&delete be[$],Oe(H,$,ae),xe&&H!==be&&Oe(be,$,xe)}:Oe,ye=a?function(H){return typeof H=="symbol"}:function(H){return Object(H)instanceof me},nt=function(H,$,ae){H===be&&nt(Ze,$,ae),S(H);var xe=O($,!0);return S(ae),v(Qe,xe)?(ae.enumerable?(v(H,W)&&H[W][xe]&&(H[W][xe]=!1),ae=P(ae,{enumerable:R(0,!1)})):(v(H,W)||Oe(H,W,R(1,{})),H[W][xe]=!0),We(H,xe,ae)):Oe(H,xe,ae)},z=function(H){var $=O(H,!0),ae=Ge.call(this,$);return!(this===be&&v(Qe,$)&&!v(Ze,$))&&(!(ae||!v(this,$)||!v(Qe,$)||v(this,W)&&this[W][$])||ae)},Y=function(H){var $=H===be,ae=je($?Ze:C(H)),xe=[];return V(ae,function(Ce){!v(Qe,Ce)||$&&!v(be,Ce)||xe.push(Qe[Ce])}),xe};i||(ne((me=function(H){if(this instanceof me)throw TypeError("Symbol is not a constructor");var $=arguments.length&&H!==void 0?String(H):void 0,ae=_e($),xe=function(Ce){this===be&&xe.call(Ze,Ce),v(this,W)&&v(this[W],ae)&&(this[W][ae]=!1),We(this,ae,R(1,Ce))};return o&&qe&&We(be,ae,{configurable:!0,set:xe}),h(ae,$)})[ie],"toString",function(){return oe(this).tag}),ne(me,"withoutSetter",function(H){return h(_e(H),H)}),re.f=z,K.f=nt,F.f=c,U.f=A.f=u,B.f=Y,De.f=function(H){return h(ce(H),H)},o&&(Oe(me[ie],"description",{configurable:!0,get:function(){return oe(this).description}}),r||ne(be,"propertyIsEnumerable",z,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:me}),V(L(Re),function(H){ve(H)}),d({target:Z,stat:!0,forced:!i},{for:function(H){var $=String(H);if(v(Be,$))return Be[$];var ae=me($);return Be[$]=ae,xt[ae]=$,ae},keyFor:function(H){if(!ye(H))throw TypeError(H+" is not a symbol");if(v(xt,H))return xt[H]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),d({target:"Object",stat:!0,forced:!i,sham:!o},{create:function(H,$){return $===void 0?P(H):t(P(H),$)},defineProperty:nt,defineProperties:t,getOwnPropertyDescriptor:c}),d({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:u,getOwnPropertySymbols:Y}),d({target:"Object",stat:!0,forced:m(function(){B.f(1)})},{getOwnPropertySymbols:function(H){return B.f(M(H))}}),de&&d({target:"JSON",stat:!0,forced:!i||m(function(){var H=me();return de([H])!="[null]"||de({a:H})!="{}"||de(Object(H))!="{}"})},{stringify:function(H,$,ae){for(var xe,Ce=[H],Ne=1;Ne<arguments.length;)Ce.push(arguments[Ne++]);if((x(xe=$)||H!==void 0)&&!ye(H))return b($)||($=function(fe,ze){if(typeof xe=="function"&&(ze=xe.call(this,fe,ze)),!ye(ze))return ze}),Ce[1]=$,de.apply(null,Ce)}}),me[ie][te]||Q(me[ie],te,me[ie].valueOf),ge(me,Z),pe[W]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-copy-within"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(u,d,l){return t.call(c(this),u,d,2<arguments.length?l:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").every,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-fill"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(u){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").filter,c=e("../internals/species-constructor"),u=h.aTypedArray,d=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(l,n){for(var r=t(u(this),l,1<arguments.length?n:void 0),o=c(this,this.constructor),i=0,a=r.length,m=new(d(o))(a);i<a;)m[i]=r[i++];return m})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").findIndex,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").find,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,y,p){e("../internals/typed-array-constructor")("Float32",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],204:[function(e,y,p){e("../internals/typed-array-constructor")("Float64",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],205:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").forEach,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(u,d){t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").includes,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").indexOf,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,y,p){e("../internals/typed-array-constructor")("Int16",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],209:[function(e,y,p){e("../internals/typed-array-constructor")("Int32",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],210:[function(e,y,p){function h(){return n.call(i(this))}var t=e("../internals/global"),c=e("../internals/array-buffer-view-core"),u=e("../modules/es.array.iterator"),d=e("../internals/well-known-symbol")("iterator"),l=t.Uint8Array,n=u.values,r=u.keys,o=u.entries,i=c.aTypedArray,a=c.exportTypedArrayMethod,m=l&&l.prototype[d],v=!!m&&(m.name=="values"||m.name==null);a("entries",function(){return o.call(i(this))}),a("keys",function(){return r.call(i(this))}),a("values",h,!v),a(d,h,!v)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,c=h.exportTypedArrayMethod,u=[].join;c("join",function(d){return u.apply(t(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-last-index-of"),c=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(u){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").map,c=e("../internals/species-constructor"),u=h.aTypedArray,d=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(l,n){return t(u(this),l,1<arguments.length?n:void 0,function(r,o){return new(d(c(r,r.constructor)))(o)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").right,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(u,d){return t(c(this),u,arguments.length,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").left,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(u,d){return t(c(this),u,arguments.length,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,c=h.exportTypedArrayMethod,u=Math.floor;c("reverse",function(){for(var d,l=t(this).length,n=u(l/2),r=0;r<n;)d=this[r],this[r++]=this[--l],this[l]=d;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-offset"),u=e("../internals/to-object"),d=e("../internals/fails"),l=h.aTypedArray;(0,h.exportTypedArrayMethod)("set",function(n,r){l(this);var o=c(1<arguments.length?r:void 0,1),i=this.length,a=u(n),m=t(a.length),v=0;if(i<m+o)throw RangeError("Wrong length");for(;v<m;)this[o+v]=a[v++]},d(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/species-constructor"),c=e("../internals/fails"),u=h.aTypedArray,d=h.aTypedArrayConstructor,l=h.exportTypedArrayMethod,n=[].slice;l("slice",function(r,o){for(var i=n.call(u(this),r,o),a=t(this,this.constructor),m=0,v=i.length,b=new(d(a))(v);m<v;)b[m]=i[m++];return b},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").some,c=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(u,d){return t(c(this),u,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,c=h.exportTypedArrayMethod,u=[].sort;c("sort",function(d){return u.call(t(this),d)})},{"../internals/array-buffer-view-core":12}],221:[function(e,y,p){var h=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-absolute-index"),u=e("../internals/species-constructor"),d=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(l,n){var r=d(this),o=r.length,i=c(l,o);return new(u(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,t((n===void 0?o:c(n,o))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/array-buffer-view-core"),c=e("../internals/fails"),u=h.Int8Array,d=t.aTypedArray,l=t.exportTypedArrayMethod,n=[].toLocaleString,r=[].slice,o=!!u&&c(function(){n.call(new u(1))});l("toLocaleString",function(){return n.apply(o?r.call(d(this)):d(this),arguments)},c(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!c(function(){u.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,y,p){var h=e("../internals/array-buffer-view-core").exportTypedArrayMethod,t=e("../internals/fails"),c=e("../internals/global").Uint8Array,u=c&&c.prototype||{},d=[].toString,l=[].join;t(function(){d.call({})})&&(d=function(){return l.call(this)}),h("toString",d,u.toString!=d)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,y,p){e("../internals/typed-array-constructor")("Uint16",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],225:[function(e,y,p){e("../internals/typed-array-constructor")("Uint32",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],226:[function(e,y,p){e("../internals/typed-array-constructor")("Uint8",function(h){return function(t,c,u){return h(this,t,c,u)}})},{"../internals/typed-array-constructor":140}],227:[function(e,y,p){e("../internals/typed-array-constructor")("Uint8",function(h){return function(t,c,u){return h(this,t,c,u)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../internals/array-for-each"),u=e("../internals/create-non-enumerable-property");for(var d in t){var l=h[d],n=l&&l.prototype;if(n&&n.forEach!==c)try{u(n,"forEach",c)}catch{n.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,y,p){var h=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../modules/es.array.iterator"),u=e("../internals/create-non-enumerable-property"),d=e("../internals/well-known-symbol"),l=d("iterator"),n=d("toStringTag"),r=c.values;for(var o in t){var i=h[o],a=i&&i.prototype;if(a){if(a[l]!==r)try{u(a,l,r)}catch{a[l]=r}if(a[n]||u(a,n,o),t[o]){for(var m in c)if(a[m]!==c[m])try{u(a,m,c[m])}catch{a[m]=c[m]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,y,p){e("../modules/es.array.iterator");function h(Z){try{return decodeURIComponent(Z)}catch{return Z}}function t(Z){var ie,te=Z.replace(ce," "),Te=4;try{return decodeURIComponent(te)}catch{for(;Te;)te=te.replace((ie=Te--,De[ie-1]||(De[ie-1]=RegExp("((?:%[\\da-f]{2}){"+ie+"})","gi"))),h);return te}}function c(Z){return ge[Z]}function u(Z){return encodeURIComponent(Z).replace(ve,c)}function d(Z,ie){if(ie)for(var te,Te,oe=ie.split("&"),be=0;be<oe.length;)(te=oe[be++]).length&&(Te=te.split("="),Z.push({key:t(Te.shift()),value:t(Te.join("="))}))}function l(Z){this.entries.length=0,d(this.entries,Z)}function n(Z,ie){if(Z<ie)throw TypeError("Not enough arguments")}var r=e("../internals/export"),o=e("../internals/get-built-in"),i=e("../internals/native-url"),a=e("../internals/redefine"),m=e("../internals/redefine-all"),v=e("../internals/set-to-string-tag"),b=e("../internals/create-iterator-constructor"),x=e("../internals/internal-state"),S=e("../internals/an-instance"),M=e("../internals/has"),C=e("../internals/function-bind-context"),O=e("../internals/classof"),R=e("../internals/an-object"),P=e("../internals/is-object"),L=e("../internals/object-create"),U=e("../internals/create-property-descriptor"),A=e("../internals/get-iterator"),B=e("../internals/get-iterator-method"),F=e("../internals/well-known-symbol"),K=o("fetch"),re=o("Headers"),Q=F("iterator"),ne="URLSearchParams",ee=ne+"Iterator",ue=x.set,pe=x.getterFor(ne),_e=x.getterFor(ee),ce=/\+/g,De=Array(4),ve=/[!'()~]|%20/g,ge={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=b(function(Z,ie){ue(this,{type:ee,iterator:A(pe(Z).entries),kind:ie})},"Iterator",function(){var Z=_e(this),ie=Z.kind,te=Z.iterator.next(),Te=te.value;return te.done||(te.value=ie==="keys"?Te.key:ie==="values"?Te.value:[Te.key,Te.value]),te}),V=function(Z){S(this,V,ne);var ie,te,Te,oe,be,me,de,Me,Oe,je=0<arguments.length?Z:void 0,Ge=[];if(ue(this,{type:ne,entries:Ge,updateURL:function(){},updateSearchParams:l}),je!==void 0)if(P(je))if(typeof(ie=B(je))=="function")for(Te=(te=ie.call(je)).next;!(oe=Te.call(te)).done;){if((de=(me=(be=A(R(oe.value))).next).call(be)).done||(Me=me.call(be)).done||!me.call(be).done)throw TypeError("Expected sequence with length 2");Ge.push({key:de.value+"",value:Me.value+""})}else for(Oe in je)M(je,Oe)&&Ge.push({key:Oe,value:je[Oe]+""});else d(Ge,typeof je=="string"?je.charAt(0)==="?"?je.slice(1):je:je+"")},W=V.prototype;m(W,{append:function(Z,ie){n(arguments.length,2);var te=pe(this);te.entries.push({key:Z+"",value:ie+""}),te.updateURL()},delete:function(Z){n(arguments.length,1);for(var ie=pe(this),te=ie.entries,Te=Z+"",oe=0;oe<te.length;)te[oe].key===Te?te.splice(oe,1):oe++;ie.updateURL()},get:function(Z){n(arguments.length,1);for(var ie=pe(this).entries,te=Z+"",Te=0;Te<ie.length;Te++)if(ie[Te].key===te)return ie[Te].value;return null},getAll:function(Z){n(arguments.length,1);for(var ie=pe(this).entries,te=Z+"",Te=[],oe=0;oe<ie.length;oe++)ie[oe].key===te&&Te.push(ie[oe].value);return Te},has:function(Z){n(arguments.length,1);for(var ie=pe(this).entries,te=Z+"",Te=0;Te<ie.length;)if(ie[Te++].key===te)return!0;return!1},set:function(Z,ie){n(arguments.length,1);for(var te,Te=pe(this),oe=Te.entries,be=!1,me=Z+"",de=ie+"",Me=0;Me<oe.length;Me++)(te=oe[Me]).key===me&&(be?oe.splice(Me--,1):(be=!0,te.value=de));be||oe.push({key:me,value:de}),Te.updateURL()},sort:function(){var Z,ie,te,Te=pe(this),oe=Te.entries,be=oe.slice();for(te=oe.length=0;te<be.length;te++){for(Z=be[te],ie=0;ie<te;ie++)if(oe[ie].key>Z.key){oe.splice(ie,0,Z);break}ie===te&&oe.push(Z)}Te.updateURL()},forEach:function(Z,ie){for(var te,Te=pe(this).entries,oe=C(Z,1<arguments.length?ie:void 0,3),be=0;be<Te.length;)oe((te=Te[be++]).value,te.key,this)},keys:function(){return new I(this,"keys")},values:function(){return new I(this,"values")},entries:function(){return new I(this,"entries")}},{enumerable:!0}),a(W,Q,W.entries),a(W,"toString",function(){for(var Z,ie=pe(this).entries,te=[],Te=0;Te<ie.length;)Z=ie[Te++],te.push(u(Z.key)+"="+u(Z.value));return te.join("&")},{enumerable:!0}),v(V,ne),r({global:!0,forced:!i},{URLSearchParams:V}),i||typeof K!="function"||typeof re!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(Z,ie){var te,Te,oe,be=[Z];return 1<arguments.length&&(P(te=ie)&&(Te=te.body,O(Te)===ne&&((oe=te.headers?new re(te.headers):new re).has("content-type")||oe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),te=L(te,{body:U(0,String(Te)),headers:U(0,oe)}))),be.push(te)),K.apply(this,be)}}),y.exports={URLSearchParams:V,getState:pe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,y,p){e("../modules/es.string.iterator");function h(le,Ie){var He,Ue,et;if(Ie.charAt(0)=="["){if(Ie.charAt(Ie.length-1)!="]"||!(He=me(Ie.slice(1,-1))))return _e;le.host=He}else if(Ze(le)){if(Ie=L(Ie),ie.test(Ie)||(He=be(Ie))===null)return _e;le.host=He}else{if(te.test(Ie))return _e;for(He="",Ue=R(Ie),et=0;et<Ue.length;et++)He+=Ge(Ue[et],de);le.host=He}}function t(le){var Ie,He,Ue,et;if(typeof le=="number"){for(Ie=[],He=0;He<4;He++)Ie.unshift(le%256),le=ee(le/256);return Ie.join(".")}if(typeof le!="object")return le;for(Ie="",Ue=function(Ae){for(var It=null,Ht=1,Zt=null,Ot=0,Ke=0;Ke<8;Ke++)Ae[Ke]!==0?(Ht<Ot&&(It=Zt,Ht=Ot),Zt=null,Ot=0):(Zt===null&&(Zt=Ke),++Ot);return Ht<Ot&&(It=Zt,Ht=Ot),It}(le),He=0;He<8;He++)et&&le[He]===0||(et=et&&!1,Ue===He?(Ie+=He?":":"::",et=!0):(Ie+=le[He].toString(16),He<7&&(Ie+=":")));return"["+Ie+"]"}function c(le){return le.username!=""||le.password!=""}function u(le){return!le.host||le.cannotBeABaseURL||le.scheme=="file"}function d(le,Ie){var He;return le.length==2&&De.test(le.charAt(0))&&((He=le.charAt(1))==":"||!Ie&&He=="|")}function l(le){var Ie;return 1<le.length&&d(le.slice(0,2))&&(le.length==2||(Ie=le.charAt(2))==="/"||Ie==="\\"||Ie==="?"||Ie==="#")}function n(le){var Ie=le.path,He=Ie.length;!He||le.scheme=="file"&&He==1&&d(Ie[0],!0)||Ie.pop()}function r(le,Ie,He,Ue){var et,Ae,It,Ht,Zt,Ot,Ke=He||Be,cr=0,gt="",pi=!1,To=!1,mi=!1;for(He||(le.scheme="",le.username="",le.password="",le.host=null,le.port=null,le.path=[],le.query=null,le.fragment=null,le.cannotBeABaseURL=!1,Ie=Ie.replace(Te,"")),Ie=Ie.replace(oe,""),et=R(Ie);cr<=et.length;){switch(Ae=et[cr],Ke){case Be:if(!Ae||!De.test(Ae)){if(He)return pe;Ke=Re;continue}gt+=Ae.toLowerCase(),Ke=xt;break;case xt:if(Ae&&(ve.test(Ae)||Ae=="+"||Ae=="-"||Ae=="."))gt+=Ae.toLowerCase();else{if(Ae!=":"){if(He)return pe;gt="",Ke=Re,cr=0;continue}if(He&&(Ze(le)!=C(Qe,gt)||gt=="file"&&(c(le)||le.port!==null)||le.scheme=="file"&&!le.host))return;if(le.scheme=gt,He)return void(Ze(le)&&Qe[le.scheme]==le.port&&(le.port=null));gt="",le.scheme=="file"?Ke=xe:Ze(le)&&Ue&&Ue.scheme==le.scheme?Ke=Le:Ze(le)?Ke=nt:et[cr+1]=="/"?(Ke=qe,cr++):(le.cannotBeABaseURL=!0,le.path.push(""),Ke=st)}break;case Re:if(!Ue||Ue.cannotBeABaseURL&&Ae!="#")return pe;if(Ue.cannotBeABaseURL&&Ae=="#"){le.scheme=Ue.scheme,le.path=Ue.path.slice(),le.query=Ue.query,le.fragment="",le.cannotBeABaseURL=!0,Ke=jt;break}Ke=Ue.scheme=="file"?xe:We;continue;case Le:if(Ae!="/"||et[cr+1]!="/"){Ke=We;continue}Ke=z,cr++;break;case qe:if(Ae=="/"){Ke=Y;break}Ke=ze;continue;case We:if(le.scheme=Ue.scheme,Ae==i)le.username=Ue.username,le.password=Ue.password,le.host=Ue.host,le.port=Ue.port,le.path=Ue.path.slice(),le.query=Ue.query;else if(Ae=="/"||Ae=="\\"&&Ze(le))Ke=ye;else if(Ae=="?")le.username=Ue.username,le.password=Ue.password,le.host=Ue.host,le.port=Ue.port,le.path=Ue.path.slice(),le.query="",Ke=wt;else{if(Ae!="#"){le.username=Ue.username,le.password=Ue.password,le.host=Ue.host,le.port=Ue.port,le.path=Ue.path.slice(),le.path.pop(),Ke=ze;continue}le.username=Ue.username,le.password=Ue.password,le.host=Ue.host,le.port=Ue.port,le.path=Ue.path.slice(),le.query=Ue.query,le.fragment="",Ke=jt}break;case ye:if(!Ze(le)||Ae!="/"&&Ae!="\\"){if(Ae!="/"){le.username=Ue.username,le.password=Ue.password,le.host=Ue.host,le.port=Ue.port,Ke=ze;continue}Ke=Y}else Ke=z;break;case nt:if(Ke=z,Ae!="/"||gt.charAt(cr+1)!="/")continue;cr++;break;case z:if(Ae=="/"||Ae=="\\")break;Ke=Y;continue;case Y:if(Ae=="@"){pi&&(gt="%40"+gt),pi=!0,It=R(gt);for(var yi=0;yi<It.length;yi++){var gi=It[yi];if(gi!=":"||mi){var Vo=Ge(gi,je);mi?le.password+=Vo:le.username+=Vo}else mi=!0}gt=""}else if(Ae==i||Ae=="/"||Ae=="?"||Ae=="#"||Ae=="\\"&&Ze(le)){if(pi&&gt=="")return"Invalid authority";cr-=R(gt).length+1,gt="",Ke=H}else gt+=Ae;break;case H:case $:if(He&&le.scheme=="file"){Ke=Ne;continue}if(Ae!=":"||To){if(Ae==i||Ae=="/"||Ae=="?"||Ae=="#"||Ae=="\\"&&Ze(le)){if(Ze(le)&&gt=="")return _e;if(He&&gt==""&&(c(le)||le.port!==null))return;if(Ht=h(le,gt))return Ht;if(gt="",Ke=fe,He)return;continue}Ae=="["?To=!0:Ae=="]"&&(To=!1),gt+=Ae}else{if(gt=="")return _e;if(Ht=h(le,gt))return Ht;if(gt="",Ke=ae,He==$)return}break;case ae:if(!ge.test(Ae)){if(Ae==i||Ae=="/"||Ae=="?"||Ae=="#"||Ae=="\\"&&Ze(le)||He){if(gt!=""){var zo=parseInt(gt,10);if(65535<zo)return ce;le.port=Ze(le)&&zo===Qe[le.scheme]?null:zo,gt=""}if(He)return;Ke=fe;continue}return ce}gt+=Ae;break;case xe:if(le.scheme="file",Ae=="/"||Ae=="\\")Ke=Ce;else{if(!Ue||Ue.scheme!="file"){Ke=ze;continue}if(Ae==i)le.host=Ue.host,le.path=Ue.path.slice(),le.query=Ue.query;else if(Ae=="?")le.host=Ue.host,le.path=Ue.path.slice(),le.query="",Ke=wt;else{if(Ae!="#"){l(et.slice(cr).join(""))||(le.host=Ue.host,le.path=Ue.path.slice(),n(le)),Ke=ze;continue}le.host=Ue.host,le.path=Ue.path.slice(),le.query=Ue.query,le.fragment="",Ke=jt}}break;case Ce:if(Ae=="/"||Ae=="\\"){Ke=Ne;break}Ue&&Ue.scheme=="file"&&!l(et.slice(cr).join(""))&&(d(Ue.path[0],!0)?le.path.push(Ue.path[0]):le.host=Ue.host),Ke=ze;continue;case Ne:if(Ae==i||Ae=="/"||Ae=="\\"||Ae=="?"||Ae=="#"){if(!He&&d(gt))Ke=ze;else if(gt==""){if(le.host="",He)return;Ke=fe}else{if(Ht=h(le,gt))return Ht;if(le.host=="localhost"&&(le.host=""),He)return;gt="",Ke=fe}continue}gt+=Ae;break;case fe:if(Ze(le)){if(Ke=ze,Ae!="/"&&Ae!="\\")continue}else if(He||Ae!="?")if(He||Ae!="#"){if(Ae!=i&&(Ke=ze,Ae!="/"))continue}else le.fragment="",Ke=jt;else le.query="",Ke=wt;break;case ze:if(Ae==i||Ae=="/"||Ae=="\\"&&Ze(le)||!He&&(Ae=="?"||Ae=="#")){if((Ot=(Ot=gt).toLowerCase())===".."||Ot==="%2e."||Ot===".%2e"||Ot==="%2e%2e"?(n(le),Ae=="/"||Ae=="\\"&&Ze(le)||le.path.push("")):(Zt=gt)==="."||Zt.toLowerCase()==="%2e"?Ae=="/"||Ae=="\\"&&Ze(le)||le.path.push(""):(le.scheme=="file"&&!le.path.length&&d(gt)&&(le.host&&(le.host=""),gt=gt.charAt(0)+":"),le.path.push(gt)),gt="",le.scheme=="file"&&(Ae==i||Ae=="?"||Ae=="#"))for(;1<le.path.length&&le.path[0]==="";)le.path.shift();Ae=="?"?(le.query="",Ke=wt):Ae=="#"&&(le.fragment="",Ke=jt)}else gt+=Ge(Ae,Oe);break;case st:Ae=="?"?(le.query="",Ke=wt):Ae=="#"?(le.fragment="",Ke=jt):Ae!=i&&(le.path[0]+=Ge(Ae,de));break;case wt:He||Ae!="#"?Ae!=i&&(Ae=="'"&&Ze(le)?le.query+="%27":le.query+=Ae=="#"?"%23":Ge(Ae,de)):(le.fragment="",Ke=jt);break;case jt:Ae!=i&&(le.fragment+=Ge(Ae,Me))}cr++}}function o(le,Ie){return{get:le,set:Ie,configurable:!0,enumerable:!0}}var i,a=e("../internals/export"),m=e("../internals/descriptors"),v=e("../internals/native-url"),b=e("../internals/global"),x=e("../internals/object-define-properties"),S=e("../internals/redefine"),M=e("../internals/an-instance"),C=e("../internals/has"),O=e("../internals/object-assign"),R=e("../internals/array-from"),P=e("../internals/string-multibyte").codeAt,L=e("../internals/string-punycode-to-ascii"),U=e("../internals/set-to-string-tag"),A=e("../modules/web.url-search-params"),B=e("../internals/internal-state"),F=b.URL,K=A.URLSearchParams,re=A.getState,Q=B.set,ne=B.getterFor("URL"),ee=Math.floor,ue=Math.pow,pe="Invalid scheme",_e="Invalid host",ce="Invalid port",De=/[A-Za-z]/,ve=/[\d+-.A-Za-z]/,ge=/\d/,I=/^(0x|0X)/,V=/^[0-7]+$/,W=/^\d+$/,Z=/^[\dA-Fa-f]+$/,ie=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,te=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Te=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,oe=/[\u0009\u000A\u000D]/g,be=function(le){var Ie,He,Ue,et,Ae,It,Ht,Zt=le.split(".");if(Zt.length&&Zt[Zt.length-1]==""&&Zt.pop(),4<(Ie=Zt.length))return le;for(He=[],Ue=0;Ue<Ie;Ue++){if((et=Zt[Ue])=="")return le;if(Ae=10,1<et.length&&et.charAt(0)=="0"&&(Ae=I.test(et)?16:8,et=et.slice(Ae==8?1:2)),et==="")It=0;else{if(!(Ae==10?W:Ae==8?V:Z).test(et))return le;It=parseInt(et,Ae)}He.push(It)}for(Ue=0;Ue<Ie;Ue++)if(It=He[Ue],Ue==Ie-1){if(It>=ue(256,5-Ie))return null}else if(255<It)return null;for(Ht=He.pop(),Ue=0;Ue<He.length;Ue++)Ht+=He[Ue]*ue(256,3-Ue);return Ht},me=function(le){function Ie(){return le.charAt(gt)}var He,Ue,et,Ae,It,Ht,Zt,Ot=[0,0,0,0,0,0,0,0],Ke=0,cr=null,gt=0;if(Ie()==":"){if(le.charAt(1)!=":")return;gt+=2,cr=++Ke}for(;Ie();){if(Ke==8)return;if(Ie()!=":"){for(He=Ue=0;Ue<4&&Z.test(Ie());)He=16*He+parseInt(Ie(),16),gt++,Ue++;if(Ie()=="."){if(Ue==0||(gt-=Ue,6<Ke))return;for(et=0;Ie();){if(Ae=null,0<et){if(!(Ie()=="."&&et<4))return;gt++}if(!ge.test(Ie()))return;for(;ge.test(Ie());){if(It=parseInt(Ie(),10),Ae===null)Ae=It;else{if(Ae==0)return;Ae=10*Ae+It}if(255<Ae)return;gt++}Ot[Ke]=256*Ot[Ke]+Ae,++et!=2&&et!=4||Ke++}if(et!=4)return;break}if(Ie()==":"){if(gt++,!Ie())return}else if(Ie())return;Ot[Ke++]=He}else{if(cr!==null)return;gt++,cr=++Ke}}if(cr!==null)for(Ht=Ke-cr,Ke=7;Ke!=0&&0<Ht;)Zt=Ot[Ke],Ot[Ke--]=Ot[cr+Ht-1],Ot[cr+--Ht]=Zt;else if(Ke!=8)return;return Ot},de={},Me=O({},de,{" ":1,'"':1,"<":1,">":1,"`":1}),Oe=O({},Me,{"#":1,"?":1,"{":1,"}":1}),je=O({},Oe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ge=function(le,Ie){var He=P(le,0);return 32<He&&He<127&&!C(Ie,le)?le:encodeURIComponent(le)},Qe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ze=function(le){return C(Qe,le.scheme)},Be={},xt={},Re={},Le={},qe={},We={},ye={},nt={},z={},Y={},H={},$={},ae={},xe={},Ce={},Ne={},fe={},ze={},st={},wt={},jt={},_t=function(le,Ie){var He,Ue,et=M(this,_t,"URL"),Ae=1<arguments.length?Ie:void 0,It=String(le),Ht=Q(et,{type:"URL"});if(Ae!==void 0){if(Ae instanceof _t)He=ne(Ae);else if(Ue=r(He={},String(Ae)))throw TypeError(Ue)}if(Ue=r(Ht,It,null,He))throw TypeError(Ue);var Zt=Ht.searchParams=new K,Ot=re(Zt);Ot.updateSearchParams(Ht.query),Ot.updateURL=function(){Ht.query=String(Zt)||null},m||(et.href=Gt.call(et),et.origin=On.call(et),et.protocol=tn.call(et),et.username=go.call(et),et.password=Wn.call(et),et.host=kn.call(et),et.hostname=vo.call(et),et.port=bo.call(et),et.pathname=wo.call(et),et.search=_o.call(et),et.searchParams=xo.call(et),et.hash=Go.call(et))},Tt=_t.prototype,Gt=function(){var le=ne(this),Ie=le.scheme,He=le.username,Ue=le.password,et=le.host,Ae=le.port,It=le.path,Ht=le.query,Zt=le.fragment,Ot=Ie+":";return et!==null?(Ot+="//",c(le)&&(Ot+=He+(Ue?":"+Ue:"")+"@"),Ot+=t(et),Ae!==null&&(Ot+=":"+Ae)):Ie=="file"&&(Ot+="//"),Ot+=le.cannotBeABaseURL?It[0]:It.length?"/"+It.join("/"):"",Ht!==null&&(Ot+="?"+Ht),Zt!==null&&(Ot+="#"+Zt),Ot},On=function(){var le=ne(this),Ie=le.scheme,He=le.port;if(Ie=="blob")try{return new URL(Ie.path[0]).origin}catch{return"null"}return Ie!="file"&&Ze(le)?Ie+"://"+t(le.host)+(He!==null?":"+He:""):"null"},tn=function(){return ne(this).scheme+":"},go=function(){return ne(this).username},Wn=function(){return ne(this).password},kn=function(){var le=ne(this),Ie=le.host,He=le.port;return Ie===null?"":He===null?t(Ie):t(Ie)+":"+He},vo=function(){var le=ne(this).host;return le===null?"":t(le)},bo=function(){var le=ne(this).port;return le===null?"":String(le)},wo=function(){var le=ne(this),Ie=le.path;return le.cannotBeABaseURL?Ie[0]:Ie.length?"/"+Ie.join("/"):""},_o=function(){var le=ne(this).query;return le?"?"+le:""},xo=function(){return ne(this).searchParams},Go=function(){var le=ne(this).fragment;return le?"#"+le:""};if(m&&x(Tt,{href:o(Gt,function(le){var Ie=ne(this),He=String(le),Ue=r(Ie,He);if(Ue)throw TypeError(Ue);re(Ie.searchParams).updateSearchParams(Ie.query)}),origin:o(On),protocol:o(tn,function(le){var Ie=ne(this);r(Ie,String(le)+":",Be)}),username:o(go,function(le){var Ie=ne(this),He=R(String(le));if(!u(Ie)){Ie.username="";for(var Ue=0;Ue<He.length;Ue++)Ie.username+=Ge(He[Ue],je)}}),password:o(Wn,function(le){var Ie=ne(this),He=R(String(le));if(!u(Ie)){Ie.password="";for(var Ue=0;Ue<He.length;Ue++)Ie.password+=Ge(He[Ue],je)}}),host:o(kn,function(le){var Ie=ne(this);Ie.cannotBeABaseURL||r(Ie,String(le),H)}),hostname:o(vo,function(le){var Ie=ne(this);Ie.cannotBeABaseURL||r(Ie,String(le),$)}),port:o(bo,function(le){var Ie=ne(this);u(Ie)||((le=String(le))==""?Ie.port=null:r(Ie,le,ae))}),pathname:o(wo,function(le){var Ie=ne(this);Ie.cannotBeABaseURL||(Ie.path=[],r(Ie,le+"",fe))}),search:o(_o,function(le){var Ie=ne(this);(le=String(le))==""?Ie.query=null:(le.charAt(0)=="?"&&(le=le.slice(1)),Ie.query="",r(Ie,le,wt)),re(Ie.searchParams).updateSearchParams(Ie.query)}),searchParams:o(xo),hash:o(Go,function(le){var Ie=ne(this);(le=String(le))!=""?(le.charAt(0)=="#"&&(le=le.slice(1)),Ie.fragment="",r(Ie,le,jt)):Ie.fragment=null})}),S(Tt,"toJSON",function(){return Gt.call(this)},{enumerable:!0}),S(Tt,"toString",function(){return Gt.call(this)},{enumerable:!0}),F){var no=F.createObjectURL,oo=F.revokeObjectURL;no&&S(_t,"createObjectURL",function(le){return no.apply(F,arguments)}),oo&&S(_t,"revokeObjectURL",function(le){return oo.apply(F,arguments)})}U(_t,"URL"),a({global:!0,forced:!v,sham:!m},{URL:_t})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,y,p){y.exports=e("./").polyfill()},{"./":233}],233:[function(e,y,p){(function(h,t){var c,u;c=this,u=function(){function d(oe){return typeof oe=="function"}var l=Array.isArray?Array.isArray:function(oe){return Object.prototype.toString.call(oe)==="[object Array]"},n=0,r=void 0,o=void 0,i=function(oe,be){M[n]=oe,M[n+1]=be,(n+=2)===2&&(o?o(C):U())},a=typeof window!="undefined"?window:void 0,m=a||{},v=m.MutationObserver||m.WebKitMutationObserver,b=typeof self=="undefined"&&h!==void 0&&{}.toString.call(h)==="[object process]",x=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function S(){var oe=setTimeout;return function(){return oe(C,1)}}var M=new Array(1e3);function C(){for(var oe=0;oe<n;oe+=2)(0,M[oe])(M[oe+1]),M[oe]=void 0,M[oe+1]=void 0;n=0}var O,R,P,L,U=void 0;function A(oe,be){var me=this,de=new this.constructor(K);de[F]===void 0&&W(de);var Me=me._state;if(Me){var Oe=arguments[Me-1];i(function(){return I(Me,de,Oe,me._result)})}else ve(me,de,oe,be);return de}function B(oe){if(oe&&typeof oe=="object"&&oe.constructor===this)return oe;var be=new this(K);return pe(be,oe),be}U=b?function(){return h.nextTick(C)}:v?(R=0,P=new v(C),L=document.createTextNode(""),P.observe(L,{characterData:!0}),function(){L.data=R=++R%2}):x?((O=new MessageChannel).port1.onmessage=C,function(){return O.port2.postMessage(0)}):a===void 0&&typeof e=="function"?function(){try{var oe=Function("return this")().require("vertx");return(r=oe.runOnLoop||oe.runOnContext)!==void 0?function(){r(C)}:S()}catch{return S()}}():S();var F=Math.random().toString(36).substring(2);function K(){}var re=void 0,Q=1,ne=2;function ee(oe,be,me){i(function(de){var Me=!1,Oe=function(je,Ge,Qe,Ze){try{je.call(Ge,Qe,Ze)}catch(Be){return Be}}(me,be,function(je){Me||(Me=!0,be!==je?pe(de,je):ce(de,je))},function(je){Me||(Me=!0,De(de,je))},de._label);!Me&&Oe&&(Me=!0,De(de,Oe))},oe)}function ue(oe,be,me){var de,Me;be.constructor===oe.constructor&&me===A&&be.constructor.resolve===B?(de=oe,(Me=be)._state===Q?ce(de,Me._result):Me._state===ne?De(de,Me._result):ve(Me,void 0,function(Oe){return pe(de,Oe)},function(Oe){return De(de,Oe)})):me===void 0?ce(oe,be):d(me)?ee(oe,be,me):ce(oe,be)}function pe(oe,be){if(oe===be)De(oe,new TypeError("You cannot resolve a promise with itself"));else if(Me=typeof(de=be),de===null||Me!="object"&&Me!="function")ce(oe,be);else{var me=void 0;try{me=be.then}catch(Oe){return void De(oe,Oe)}ue(oe,be,me)}var de,Me}function _e(oe){oe._onerror&&oe._onerror(oe._result),ge(oe)}function ce(oe,be){oe._state===re&&(oe._result=be,oe._state=Q,oe._subscribers.length!==0&&i(ge,oe))}function De(oe,be){oe._state===re&&(oe._state=ne,oe._result=be,i(_e,oe))}function ve(oe,be,me,de){var Me=oe._subscribers,Oe=Me.length;oe._onerror=null,Me[Oe]=be,Me[Oe+Q]=me,Me[Oe+ne]=de,Oe===0&&oe._state&&i(ge,oe)}function ge(oe){var be=oe._subscribers,me=oe._state;if(be.length!==0){for(var de=void 0,Me=void 0,Oe=oe._result,je=0;je<be.length;je+=3)de=be[je],Me=be[je+me],de?I(me,de,Me,Oe):Me(Oe);oe._subscribers.length=0}}function I(oe,be,me,de){var Me=d(me),Oe=void 0,je=void 0,Ge=!0;if(Me){try{Oe=me(de)}catch(Qe){Ge=!1,je=Qe}if(be===Oe)return void De(be,new TypeError("A promises callback cannot return that same promise."))}else Oe=de;be._state!==re||(Me&&Ge?pe(be,Oe):Ge===!1?De(be,je):oe===Q?ce(be,Oe):oe===ne&&De(be,Oe))}var V=0;function W(oe){oe[F]=V++,oe._state=void 0,oe._result=void 0,oe._subscribers=[]}var Z=(ie.prototype._enumerate=function(oe){for(var be=0;this._state===re&&be<oe.length;be++)this._eachEntry(oe[be],be)},ie.prototype._eachEntry=function(oe,be){var me=this._instanceConstructor,de=me.resolve;if(de===B){var Me=void 0,Oe=void 0,je=!1;try{Me=oe.then}catch(Qe){je=!0,Oe=Qe}if(Me===A&&oe._state!==re)this._settledAt(oe._state,be,oe._result);else if(typeof Me!="function")this._remaining--,this._result[be]=oe;else if(me===te){var Ge=new me(K);je?De(Ge,Oe):ue(Ge,oe,Me),this._willSettleAt(Ge,be)}else this._willSettleAt(new me(function(Qe){return Qe(oe)}),be)}else this._willSettleAt(de(oe),be)},ie.prototype._settledAt=function(oe,be,me){var de=this.promise;de._state===re&&(this._remaining--,oe===ne?De(de,me):this._result[be]=me),this._remaining===0&&ce(de,this._result)},ie.prototype._willSettleAt=function(oe,be){var me=this;ve(oe,void 0,function(de){return me._settledAt(Q,be,de)},function(de){return me._settledAt(ne,be,de)})},ie);function ie(oe,be){this._instanceConstructor=oe,this.promise=new oe(K),this.promise[F]||W(this.promise),l(be)?(this.length=be.length,this._remaining=be.length,this._result=new Array(this.length),this.length===0?ce(this.promise,this._result):(this.length=this.length||0,this._enumerate(be),this._remaining===0&&ce(this.promise,this._result))):De(this.promise,new Error("Array Methods must be provided an Array"))}var te=(Te.prototype.catch=function(oe){return this.then(null,oe)},Te.prototype.finally=function(oe){var be=this.constructor;return d(oe)?this.then(function(me){return be.resolve(oe()).then(function(){return me})},function(me){return be.resolve(oe()).then(function(){throw me})}):this.then(oe,oe)},Te);function Te(oe){this[F]=V++,this._result=this._state=void 0,this._subscribers=[],K!==oe&&(typeof oe!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Te?function(be,me){try{me(function(de){pe(be,de)},function(de){De(be,de)})}catch(de){De(be,de)}}(this,oe):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return te.prototype.then=A,te.all=function(oe){return new Z(this,oe).promise},te.race=function(oe){var be=this;return l(oe)?new be(function(me,de){for(var Me=oe.length,Oe=0;Oe<Me;Oe++)be.resolve(oe[Oe]).then(me,de)}):new be(function(me,de){return de(new TypeError("You must pass an array to race."))})},te.resolve=B,te.reject=function(oe){var be=new this(K);return De(be,oe),be},te._setScheduler=function(oe){o=oe},te._setAsap=function(oe){i=oe},te._asap=i,te.polyfill=function(){var oe=void 0;if(t!==void 0)oe=t;else if(typeof self!="undefined")oe=self;else try{oe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=oe.Promise;if(be){var me=null;try{me=Object.prototype.toString.call(be.resolve())}catch{}if(me==="[object Promise]"&&!be.cast)return}oe.Promise=te},te.Promise=te},typeof p=="object"&&y!==void 0?y.exports=u():c.ES6Promise=u()}).call(this,e("_process"),typeof xs!="undefined"?xs:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:241}],234:[function(e,y,p){(function(h,t){if(p!==void 0&&y!==void 0)t(p,y);else{var c={exports:{}};t(c.exports,c),h.fetchJsonp=c.exports}})(this,function(h,t){var c=5e3,u="callback";function d(n){try{delete window[n]}catch{window[n]=void 0}}function l(n){var r=document.getElementById(n);r&&document.getElementsByTagName("head")[0].removeChild(r)}t.exports=function(n){var r=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],o=n,i=r.timeout||c,a=r.jsonpCallback||u,m=void 0;return new Promise(function(v,b){var x=r.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),S=a+"_"+x;window[x]=function(C){v({ok:!0,json:function(){return Promise.resolve(C)}}),m&&clearTimeout(m),l(S),d(x)},o+=o.indexOf("?")===-1?"?":"&";var M=document.createElement("script");M.setAttribute("src",""+o+a+"="+x),r.charset&&M.setAttribute("charset",r.charset),M.id=S,document.getElementsByTagName("head")[0].appendChild(M),m=setTimeout(function(){b(new Error("JSONP request to "+n+" timed out")),d(x),l(S),window[x]=function(){d(x)}},i),M.onerror=function(){b(new Error("JSONP request to "+n+" failed")),d(x),l(S),m&&clearTimeout(m)}})}})},{}],235:[function(e,y,p){var h=h||function(t){if(!(t===void 0||typeof navigator!="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=t.document,u=function(){return t.URL||t.webkitURL||t},d=c.createElementNS("http://www.w3.org/1999/xhtml","a"),l="download"in d,n=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(b){(t.setImmediate||t.setTimeout)(function(){throw b},0)},i=function(b){setTimeout(function(){typeof b=="string"?u().revokeObjectURL(b):b.remove()},4e4)},a=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob([String.fromCharCode(65279),b],{type:b.type}):b},m=function(b,x,S){S||(b=a(b));function M(){(function(P,L,U){for(var A=(L=[].concat(L)).length;A--;){var B=P["on"+L[A]];if(typeof B=="function")try{B.call(P,U||P)}catch(F){o(F)}}})(O,"writestart progress write writeend".split(" "))}var C,O=this,R=b.type==="application/octet-stream";if(O.readyState=O.INIT,l)return C=u().createObjectURL(b),void setTimeout(function(){var P,L;d.href=C,d.download=x,P=d,L=new MouseEvent("click"),P.dispatchEvent(L),M(),i(C),O.readyState=O.DONE});(function(){if((r||R&&n)&&t.FileReader){var P=new FileReader;return P.onloadend=function(){var L=r?P.result:P.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(L,"_blank")||(t.location.href=L),L=void 0,O.readyState=O.DONE,M()},P.readAsDataURL(b),O.readyState=O.INIT}C=C||u().createObjectURL(b),R?t.location.href=C:t.open(C,"_blank")||(t.location.href=C),O.readyState=O.DONE,M(),i(C)})()},v=m.prototype;return typeof navigator!="undefined"&&navigator.msSaveOrOpenBlob?function(b,x,S){return x=x||b.name||"download",S||(b=a(b)),navigator.msSaveOrOpenBlob(b,x)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(b,x,S){return new m(b,x||b.name||"download",S)})}}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||this.content);y!==void 0&&y.exports?y.exports.saveAs=h:f!=null},{}],236:[function(e,y,p){p.read=function(h,t,c,u,d){var l,n,r=8*d-u-1,o=(1<<r)-1,i=o>>1,a=-7,m=c?d-1:0,v=c?-1:1,b=h[t+m];for(m+=v,l=b&(1<<-a)-1,b>>=-a,a+=r;0<a;l=256*l+h[t+m],m+=v,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=u;0<a;n=256*n+h[t+m],m+=v,a-=8);if(l===0)l=1-i;else{if(l===o)return n?NaN:1/0*(b?-1:1);n+=Math.pow(2,u),l-=i}return(b?-1:1)*n*Math.pow(2,l-u)},p.write=function(h,t,c,u,d,l){var n,r,o,i=8*l-d-1,a=(1<<i)-1,m=a>>1,v=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:l-1,x=u?1:-1,S=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,n=a):(n=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-n))<1&&(n--,o*=2),2<=(t+=1<=n+m?v/o:v*Math.pow(2,1-m))*o&&(n++,o/=2),a<=n+m?(r=0,n=a):1<=n+m?(r=(t*o-1)*Math.pow(2,d),n+=m):(r=t*Math.pow(2,m-1)*Math.pow(2,d),n=0));8<=d;h[c+b]=255&r,b+=x,r/=256,d-=8);for(n=n<<d|r,i+=d;0<i;h[c+b]=255&n,b+=x,n/=256,i-=8);h[c+b-x]|=128*S}},{}],237:[function(e,y,p){var h;function t(z,Y){return z.b===Y.b&&z.a===Y.a}function c(z,Y){return z.b<Y.b||z.b===Y.b&&z.a<=Y.a}function u(z,Y,H){var $=Y.b-z.b,ae=H.b-Y.b;return 0<$+ae?$<ae?Y.a-z.a+$/($+ae)*(z.a-H.a):Y.a-H.a+ae/($+ae)*(H.a-z.a):0}function d(z,Y,H){var $=Y.b-z.b,ae=H.b-Y.b;return 0<$+ae?(Y.a-H.a)*$+(Y.a-z.a)*ae:0}function l(z,Y){return z.a<Y.a||z.a===Y.a&&z.b<=Y.b}function n(z,Y,H){var $=Y.a-z.a,ae=H.a-Y.a;return 0<$+ae?$<ae?Y.b-z.b+$/($+ae)*(z.b-H.b):Y.b-H.b+ae/($+ae)*(H.b-z.b):0}function r(z,Y,H){var $=Y.a-z.a,ae=H.a-Y.a;return 0<$+ae?(Y.b-H.b)*$+(Y.b-z.b)*ae:0}function o(z,Y,H,$){return(z=z<0?0:z)<=(H=H<0?0:H)?H===0?(Y+$)/2:Y+z/(z+H)*($-Y):$+H/(z+H)*(Y-$)}function i(z){var Y=x(z.b);return M(Y,z.c),M(Y.b,z.c),C(Y,z.a),Y}function a(z,Y){var H=!1,$=!1;z!==Y&&(Y.a!==z.a&&($=!0,R(Y.a,z.a)),Y.d!==z.d&&(H=!0,P(Y.d,z.d)),S(Y,z),$||(M(Y,z.a),z.a.c=z),H||(C(Y,z.d),z.d.a=z))}function m(z){var Y=z.b,H=!1;z.d!==z.b.d&&(H=!0,P(z.d,z.b.d)),z.c===z?R(z.a,null):(z.b.d.a=de(z),z.a.c=z.c,S(z,de(z)),H||C(z,z.d)),Y.c===Y?(R(Y.a,null),P(Y.d,null)):(z.d.a=de(Y),Y.a.c=Y.c,S(Y,de(Y))),O(z)}function v(z){var Y=x(z),H=Y.b;return S(Y,z.e),Y.a=z.b.a,M(H,Y.a),Y.d=H.d=z.d,Y=Y.b,S(z.b,de(z.b)),S(z.b,Y),z.b.a=Y.a,Y.b.a.c=Y.b,Y.b.d=z.b.d,Y.f=z.f,Y.b.f=z.b.f,Y}function b(z,Y){var H=!1,$=x(z),ae=$.b;return Y.d!==z.d&&(H=!0,P(Y.d,z.d)),S($,z.e),S(ae,Y),$.a=z.b.a,ae.a=Y.a,$.d=ae.d=z.d,z.d.a=ae,H||C($,z.d),$}function x(z){var Y=new me,H=new me,$=z.b.h;return(((H.h=$).b.h=Y).h=z).b.h=H,Y.b=H,((Y.c=Y).e=H).b=Y,(H.c=H).e=Y}function S(z,Y){var H=z.c,$=Y.c;H.b.e=Y,($.b.e=z).c=$,Y.c=H}function M(z,Y){var H=Y.f,$=new Oe(Y,H);for(H.e=$,H=(Y.f=$).c=z;H.a=$,(H=H.c)!==z;);}function C(z,Y){var H=Y.d,$=new be(Y,H);for(H.b=$,(Y.d=$).a=z,$.c=Y.c,H=z;H.d=$,(H=H.e)!==z;);}function O(z){var Y=z.h;z=z.b.h,(Y.b.h=z).b.h=Y}function R(z,Y){for(var H=z.c,$=H;$.a=Y,($=$.c)!==H;);H=z.f,(($=z.e).f=H).e=$}function P(z,Y){for(var H=z.a,$=H;$.d=Y,($=$.e)!==H;);H=z.d,(($=z.b).d=H).b=$}function L(z){var Y=0;return Math.abs(z[1])>Math.abs(z[0])&&(Y=1),Math.abs(z[2])>Math.abs(z[Y])&&(Y=2),Y}function U(z,Y){z.f+=Y.f,z.b.f+=Y.b.f}function A(z,Y,H){return z=z.a,Y=Y.a,H=H.a,Y.b.a===z?H.b.a===z?c(Y.a,H.a)?d(H.b.a,Y.a,H.a)<=0:0<=d(Y.b.a,H.a,Y.a):d(H.b.a,z,H.a)<=0:H.b.a===z?0<=d(Y.b.a,z,Y.a):(Y=u(Y.b.a,z,Y.a),(z=u(H.b.a,z,H.a))<=Y)}function B(z){z.a.i=null;var Y=z.e;Y.a.c=Y.c,Y.c.a=Y.a,z.e=null}function F(z,Y){m(z.a),z.c=!1,(z.a=Y).i=z}function K(z){for(var Y=z.a.a;(z=nt(z)).a.a===Y;);return z.c&&(F(z,Y=b(ye(z).a.b,z.a.e)),z=nt(z)),z}function re(z,Y,H){var $=new We;return $.a=H,$.e=Z(z.f,Y.e,$),H.i=$}function Q(z,Y){switch(z.s){case 100130:return(1&Y)!=0;case 100131:return Y!==0;case 100132:return 0<Y;case 100133:return Y<0;case 100134:return 2<=Y||Y<=-2}return!1}function ne(z){var Y=z.a,H=Y.d;H.c=z.d,H.a=Y,B(z)}function ee(z,Y,H){for(Y=(z=Y).a;z!==H;){z.c=!1;var $=ye(z),ae=$.a;if(ae.a!==Y.a){if(!$.c){ne(z);break}F($,ae=b(Y.c.b,ae.b))}Y.c!==ae&&(a(de(ae),ae),a(Y,ae)),ne(z),Y=$.a,z=$}return Y}function ue(z,Y,H,$,ae,xe){for(var Ce=!0;re(z,Y,H.b),(H=H.c)!==$;);for(ae===null&&(ae=ye(Y).a.b.c);(H=($=ye(Y)).a.b).a===ae.a;)H.c!==ae&&(a(de(H),H),a(de(ae),H)),$.f=Y.f-H.f,$.d=Q(z,$.f),Y.b=!0,!Ce&&De(z,Y)&&(U(H,ae),B(Y),m(ae)),Ce=!1,Y=$,ae=H;Y.b=!0,xe&&ge(z,Y)}function pe(z,Y,H,$,ae){var xe=[Y.g[0],Y.g[1],Y.g[2]];Y.d=null,Y.d=z.o&&z.o(xe,H,$,z.c)||null,Y.d===null&&(ae?z.n||(oe(z,100156),z.n=!0):Y.d=H[0])}function _e(z,Y,H){var $=[null,null,null,null];$[0]=Y.a.d,$[1]=H.a.d,pe(z,Y.a,$,[.5,.5,0,0],!1),a(Y,H)}function ce(z,Y,H,$,ae){var xe=Math.abs(Y.b-z.b)+Math.abs(Y.a-z.a),Ce=Math.abs(H.b-z.b)+Math.abs(H.a-z.a),Ne=ae+1;$[ae]=.5*Ce/(xe+Ce),$[Ne]=.5*xe/(xe+Ce),z.g[0]+=$[ae]*Y.g[0]+$[Ne]*H.g[0],z.g[1]+=$[ae]*Y.g[1]+$[Ne]*H.g[1],z.g[2]+=$[ae]*Y.g[2]+$[Ne]*H.g[2]}function De(z,Y){var H=ye(Y),$=Y.a,ae=H.a;if(c($.a,ae.a)){if(0<d(ae.b.a,$.a,ae.a))return!1;if(t($.a,ae.a)){if($.a!==ae.a){H=z.e;var xe=$.a.h;if(0<=xe){var Ce=(H=H.b).d,Ne=H.e,fe=H.c,ze=fe[xe];Ce[ze]=Ce[H.a],(fe[Ce[ze]]=ze)<=--H.a&&(ze<=1||c(Ne[Ce[ze>>1]],Ne[Ce[ze]])?Le(H,ze):qe(H,ze)),Ne[xe]=null,fe[xe]=H.b,H.b=xe}else for(H.c[-(xe+1)]=null;0<H.a&&H.c[H.d[H.a-1]]===null;)--H.a;_e(z,de(ae),$)}}else v(ae.b),a($,de(ae)),Y.b=H.b=!0}else{if(d($.b.a,ae.a,$.a)<0)return!1;nt(Y).b=Y.b=!0,v($.b),a(de(ae),$)}return!0}function ve(z,Y){var H=ye(Y),$=Y.a,ae=H.a,xe=$.a,Ce=ae.a,Ne=$.b.a,fe=ae.b.a,ze=new Oe;if(d(Ne,z.a,xe),d(fe,z.a,Ce),xe===Ce||Math.min(xe.a,Ne.a)>Math.max(Ce.a,fe.a))return!1;if(c(xe,Ce)){if(0<d(fe,xe,Ce))return!1}else if(d(Ne,Ce,xe)<0)return!1;var st,wt,jt=Ne,_t=xe,Tt=fe,Gt=Ce;if(c(jt,_t)||(st=jt,jt=_t,_t=st),c(Tt,Gt)||(st=Tt,Tt=Gt,Gt=st),c(jt,Tt)||(st=jt,jt=Tt,Tt=st,st=_t,_t=Gt,Gt=st),c(Tt,_t)?c(_t,Gt)?((st=u(jt,Tt,_t))+(wt=u(Tt,_t,Gt))<0&&(st=-st,wt=-wt),ze.b=o(st,Tt.b,wt,_t.b)):((st=d(jt,Tt,_t))+(wt=-d(jt,Gt,_t))<0&&(st=-st,wt=-wt),ze.b=o(st,Tt.b,wt,Gt.b)):ze.b=(Tt.b+_t.b)/2,l(jt,_t)||(st=jt,jt=_t,_t=st),l(Tt,Gt)||(st=Tt,Tt=Gt,Gt=st),l(jt,Tt)||(st=jt,jt=Tt,Tt=st,st=_t,_t=Gt,Gt=st),l(Tt,_t)?l(_t,Gt)?((st=n(jt,Tt,_t))+(wt=n(Tt,_t,Gt))<0&&(st=-st,wt=-wt),ze.a=o(st,Tt.a,wt,_t.a)):((st=r(jt,Tt,_t))+(wt=-r(jt,Gt,_t))<0&&(st=-st,wt=-wt),ze.a=o(st,Tt.a,wt,Gt.a)):ze.a=(Tt.a+_t.a)/2,c(ze,z.a)&&(ze.b=z.a.b,ze.a=z.a.a),jt=c(xe,Ce)?xe:Ce,c(jt,ze)&&(ze.b=jt.b,ze.a=jt.a),t(ze,xe)||t(ze,Ce))return De(z,Y),!1;if(!t(Ne,z.a)&&0<=d(Ne,z.a,ze)||!t(fe,z.a)&&d(fe,z.a,ze)<=0){if(fe===z.a)return v($.b),a(ae.b,$),$=ye(Y=K(Y)).a,ee(z,ye(Y),H),ue(z,Y,de($),$,$,!0),!0;if(Ne!==z.a)return 0<=d(Ne,z.a,ze)&&(nt(Y).b=Y.b=!0,v($.b),$.a.b=z.a.b,$.a.a=z.a.a),d(fe,z.a,ze)<=0&&(Y.b=H.b=!0,v(ae.b),ae.a.b=z.a.b,ae.a.a=z.a.a),!1;for(v(ae.b),a($.e,de(ae)),Ce=(xe=H=Y).a.b.a;(xe=nt(xe)).a.b.a===Ce;);return xe=ye(Y=xe).a.b.c,H.a=de(ae),ue(z,Y,(ae=ee(z,H,null)).c,$.b.c,xe,!0),!0}return v($.b),v(ae.b),a(de(ae),$),$.a.b=ze.b,$.a.a=ze.a,$.a.h=Ge(z.e,$.a),$=$.a,ae=[0,0,0,0],ze=[xe.d,Ne.d,Ce.d,fe.d],$.g[0]=$.g[1]=$.g[2]=0,ce($,xe,Ne,ae,0),ce($,Ce,fe,ae,2),pe(z,$,ze,ae,!0),nt(Y).b=Y.b=H.b=!0,!1}function ge(z,Y){for(var H=ye(Y);;){for(;H.b;)H=ye(Y=H);if(!Y.b&&((Y=nt(H=Y))===null||!Y.b))break;Y.b=!1;var $,ae=Y.a,xe=H.a;if($=ae.b.a!==xe.b.a)e:{var Ce=ye($=Y),Ne=$.a,fe=Ce.a,ze=void 0;if(c(Ne.b.a,fe.b.a)){if(d(Ne.b.a,fe.b.a,Ne.a)<0){$=!1;break e}nt($).b=$.b=!0,ze=v(Ne),a(fe.b,ze),ze.d.c=$.d}else{if(0<d(fe.b.a,Ne.b.a,fe.a)){$=!1;break e}$.b=Ce.b=!0,ze=v(fe),a(Ne.e,fe.b),ze.b.d.c=$.d}$=!0}if($&&(H.c?(B(H),m(xe),xe=(H=ye(Y)).a):Y.c&&(B(Y),m(ae),ae=(Y=nt(H)).a)),ae.a!==xe.a){if(ae.b.a===xe.b.a||Y.c||H.c||ae.b.a!==z.a&&xe.b.a!==z.a)De(z,Y);else if(ve(z,Y))break}ae.a===xe.a&&ae.b.a===xe.b.a&&(U(xe,ae),B(Y),m(ae),Y=nt(H))}}function I(z,Y){for(var H=(z.a=Y).c;H.i===null;)if((H=H.c)===Y.c){H=z;var $=Y;(Ce=new We).a=$.c.b;for(var ae=(fe=H.f).a;(ae=ae.a).b!==null&&!fe.c(fe.b,Ce,ae.b););var xe=ye(fe=ae.b),Ce=fe.a;if(ae=xe.a,d(Ce.b.a,$,Ce.a)===0)t((Ce=fe.a).a,$)||t(Ce.b.a,$)||(v(Ce.b),fe.c&&(m(Ce.c),fe.c=!1),a($.c,Ce),I(H,$));else{var Ne=c(ae.b.a,Ce.b.a)?fe:xe;xe=void 0,fe.d||Ne.c?(xe=Ne===fe?b($.c.b,Ce.e):b(ae.b.c.b,$.c).b,Ne.c?F(Ne,xe):((fe=re(Ce=H,fe,xe)).f=nt(fe).f+fe.a.f,fe.d=Q(Ce,fe.f)),I(H,$)):ue(H,fe,$.c,$.c,null,!0)}return}if(fe=(Ce=ye(H=K(H.i))).a,(Ce=ee(z,Ce,null)).c===fe){Ce=(fe=Ce).c,ae=ye(H),xe=H.a,Ne=ae.a;var fe,ze=!1;xe.b.a!==Ne.b.a&&ve(z,H),t(xe.a,z.a)&&(a(de(Ce),xe),Ce=ye(H=K(H)).a,ee(z,ye(H),ae),ze=!0),t(Ne.a,z.a)&&(a(fe,de(Ne)),fe=ee(z,ae,null),ze=!0),ze?ue(z,H,fe.c,Ce,Ce,!0):($=c(Ne.a,xe.a)?de(Ne):xe,ue(z,H,$=b(fe.c.b,$),$.c,$.c,!1),$.b.i.c=!0,ge(z,H))}else ue(z,H,Ce.c,fe,fe,!0)}function V(z,Y){var H=new We,$=i(z.b);$.a.b=4e150,$.a.a=Y,$.b.a.b=-4e150,$.b.a.a=Y,z.a=$.b.a,H.a=$,H.f=0,H.d=!1,H.c=!1,H.h=!0,H.b=!1,$=Z($=z.f,$.a,H),H.e=$}function W(z){this.a=new ie,this.b=z,this.c=A}function Z(z,Y,H){for(;(Y=Y.c).b!==null&&!z.c(z.b,Y.b,H););return z=new ie(H,Y.a,Y),Y.a.c=z,Y.a=z}function ie(z,Y,H){this.b=z||null,this.a=Y||this,this.c=H||this}function te(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Te(z,Y){if(z.d!==Y)for(;z.d!==Y;)if(z.d<Y)switch(z.d){case 0:oe(z,100151),z.u(null);break;case 1:oe(z,100152),z.t()}else switch(z.d){case 2:oe(z,100154),z.v();break;case 1:oe(z,100153),z.w()}}function oe(z,Y){z.p&&z.p(Y,z.c)}function be(z,Y){this.b=z||this,this.d=Y||this,this.a=null,this.c=!1}function me(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function de(z){return z.b.e}function Me(){this.c=new Oe,this.a=new be,this.b=new me,this.d=new me,this.b.b=this.d,this.d.b=this.b}function Oe(z,Y){this.e=z||this,this.f=Y||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function je(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ze}function Ge(z,Y){if(z.e){var H,$=z.b,ae=++$.a;return 2*ae>$.f&&($.f*=2,$.c=Be($.c,$.f+1)),$.b===0?H=ae:(H=$.b,$.b=$.c[$.b]),$.e[H]=Y,$.c[H]=ae,$.d[ae]=H,$.h&&qe($,ae),H}return $=z.a++,z.c[$]=Y,-($+1)}function Qe(z){if(z.a===0)return Re(z.b);var Y=z.c[z.d[z.a-1]];if(z.b.a!==0&&c(xt(z.b),Y))return Re(z.b);for(;--z.a,0<z.a&&z.c[z.d[z.a-1]]===null;);return Y}function Ze(){this.d=Be([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Be(z,Y){for(var H=Array(Y),$=0;$<z.length;$++)H[$]=z[$];for(;$<Y;$++)H[$]=0;return H}function xt(z){return z.e[z.d[1]]}function Re(z){var Y=z.d,H=z.e,$=z.c,ae=Y[1],xe=H[ae];return 0<z.a&&(Y[1]=Y[z.a],$[Y[1]]=1,H[ae]=null,$[ae]=z.b,z.b=ae,0<--z.a&&Le(z,1)),xe}function Le(z,Y){for(var H=z.d,$=z.e,ae=z.c,xe=Y,Ce=H[xe];;){var Ne=xe<<1;Ne<z.a&&c($[H[Ne+1]],$[H[Ne]])&&(Ne+=1);var fe=H[Ne];if(Ne>z.a||c($[Ce],$[fe])){ae[H[xe]=Ce]=xe;break}ae[H[xe]=fe]=xe,xe=Ne}}function qe(z,Y){for(var H=z.d,$=z.e,ae=z.c,xe=Y,Ce=H[xe];;){var Ne=xe>>1,fe=H[Ne];if(Ne==0||c($[fe],$[Ce])){ae[H[xe]=Ce]=xe;break}ae[H[xe]=fe]=xe,xe=Ne}}function We(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ye(z){return z.e.c.b}function nt(z){return z.e.a.b}(h=te.prototype).x=function(){Te(this,0)},h.B=function(z,Y){switch(z){case 100142:return;case 100140:switch(Y){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Y)}break;case 100141:return void(this.m=!!Y);default:return void oe(this,100900)}oe(this,100901)},h.y=function(z){switch(z){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:oe(this,100900)}return!1},h.A=function(z,Y,H){this.j[0]=z,this.j[1]=Y,this.j[2]=H},h.z=function(z,Y){var H=Y||null;switch(z){case 100100:case 100106:this.h=H;break;case 100104:case 100110:this.l=H;break;case 100101:case 100107:this.k=H;break;case 100102:case 100108:this.i=H;break;case 100103:case 100109:this.p=H;break;case 100105:case 100111:this.o=H;break;case 100112:this.r=H;break;default:oe(this,100900)}},h.C=function(z,Y){var H=!1,$=[0,0,0];Te(this,2);for(var ae=0;ae<3;++ae){var xe=z[ae];xe<-1e150&&(xe=-1e150,H=!0),1e150<xe&&(xe=1e150,H=!0),$[ae]=xe}H&&oe(this,100155),(H=this.q)===null?a(H=i(this.b),H.b):(v(H),H=H.e),H.a.d=Y,H.a.g[0]=$[0],H.a.g[1]=$[1],H.a.g[2]=$[2],H.f=1,H.b.f=-1,this.q=H},h.u=function(z){Te(this,0),this.d=1,this.b=new Me,this.c=z},h.t=function(){Te(this,1),this.d=2,this.q=null},h.v=function(){Te(this,2),this.d=1},h.w=function(){Te(this,1),this.d=0;var z,Y,H=!1,$=[fe=this.j[0],ae=this.j[1],Ce=this.j[2]];if(fe===0&&ae===0&&Ce===0){for(var ae=[-2e150,-2e150,-2e150],xe=[2e150,2e150,2e150],Ce=[],Ne=[],fe=(H=this.b.c).e;fe!==H;fe=fe.e)for(var ze=0;ze<3;++ze){var st=fe.g[ze];st<xe[ze]&&(xe[ze]=st,Ne[ze]=fe),st>ae[ze]&&(ae[ze]=st,Ce[ze]=fe)}if(fe=0,ae[1]-xe[1]>ae[0]-xe[0]&&(fe=1),ae[2]-xe[2]>ae[fe]-xe[fe]&&(fe=2),xe[fe]>=ae[fe])$[0]=0,$[1]=0,$[2]=1;else{for(ae=0,xe=Ne[fe],Ce=Ce[fe],Ne=[0,0,0],xe=[xe.g[0]-Ce.g[0],xe.g[1]-Ce.g[1],xe.g[2]-Ce.g[2]],ze=[0,0,0],fe=H.e;fe!==H;fe=fe.e)ze[0]=fe.g[0]-Ce.g[0],ze[1]=fe.g[1]-Ce.g[1],ze[2]=fe.g[2]-Ce.g[2],Ne[0]=xe[1]*ze[2]-xe[2]*ze[1],Ne[1]=xe[2]*ze[0]-xe[0]*ze[2],Ne[2]=xe[0]*ze[1]-xe[1]*ze[0],ae<(st=Ne[0]*Ne[0]+Ne[1]*Ne[1]+Ne[2]*Ne[2])&&(ae=st,$[0]=Ne[0],$[1]=Ne[1],$[2]=Ne[2]);ae<=0&&($[0]=$[1]=$[2]=0,$[L(xe)]=1)}H=!0}for(Ne=L($),fe=this.b.c,ae=(Ne+1)%3,Ce=(Ne+2)%3,Ne=0<$[Ne]?1:-1,$=fe.e;$!==fe;$=$.e)$.b=$.g[ae],$.a=Ne*$.g[Ce];if(H){for($=0,fe=(H=this.b.a).b;fe!==H;fe=fe.b)if(!((ae=fe.a).f<=0))for(;$+=(ae.a.b-ae.b.a.b)*(ae.a.a+ae.b.a.a),(ae=ae.e)!==fe.a;);if($<0)for(H=($=this.b.c).e;H!==$;H=H.e)H.a=-H.a}for(this.n=!1,fe=($=this.b.b).h;fe!==$;fe=H)H=fe.h,ae=fe.e,t(fe.a,fe.b.a)&&fe.e.e!==fe&&(_e(this,ae,fe),m(fe),ae=(fe=ae).e),ae.e===fe&&(ae!==fe&&(ae!==H&&ae!==H.b||(H=H.h),m(ae)),fe!==H&&fe!==H.b||(H=H.h),m(fe));for(this.e=$=new je,fe=(H=this.b.c).e;fe!==H;fe=fe.e)fe.h=Ge($,fe);for(function(wt){wt.d=[];for(var jt=0;jt<wt.a;jt++)wt.d[jt]=jt;wt.d.sort(function(_t){return function(Tt,Gt){return c(_t[Tt],_t[Gt])?1:-1}}(wt.c)),wt.e=!0,function(_t){for(var Tt=_t.a;1<=Tt;--Tt)Le(_t,Tt);_t.h=!0}(wt.b)}($),this.f=new W(this),V(this,-4e150),V(this,4e150);($=Qe(this.e))!==null;){for(;;){e:if(fe=this.e,fe.a===0)H=xt(fe.b);else if(H=fe.c[fe.d[fe.a-1]],fe.b.a!==0&&(fe=xt(fe.b),c(fe,H))){H=fe;break e}if(H===null||!t(H,$))break;H=Qe(this.e),_e(this,$.c,H.c)}I(this,$)}for(this.a=this.f.a.a.b.a.a,$=0;(H=this.f.a.a.b)!==null;)H.h||++$,B(H);for(this.f=null,($=this.e).b=null,$.d=null,this.e=$.c=null,fe=($=this.b).a.b;fe!==$.a;fe=H)H=fe.b,(fe=fe.a).e.e===fe&&(U(fe.c,fe),m(fe));if(!this.n){if($=this.b,this.m)for(fe=$.b.h;fe!==$.b;fe=H)H=fe.h,fe.b.d.c!==fe.d.c?fe.f=fe.d.c?1:-1:m(fe);else for(fe=$.a.b;fe!==$.a;fe=H)if(H=fe.b,fe.c){for(fe=fe.a;c(fe.b.a,fe.a);fe=fe.c.b);for(;c(fe.a,fe.b.a);fe=fe.e);for(ae=fe.c.b,Ce=void 0;fe.e!==ae;)if(c(fe.b.a,ae.a)){for(;ae.e!==fe&&(c((Y=ae.e).b.a,Y.a)||d(ae.a,ae.b.a,ae.e.b.a)<=0);)ae=(Ce=b(ae.e,ae)).b;ae=ae.c.b}else{for(;ae.e!==fe&&(c((z=fe.c.b).a,z.b.a)||0<=d(fe.b.a,fe.a,fe.c.b.a));)fe=(Ce=b(fe,fe.c.b)).b;fe=fe.e}for(;ae.e.e!==fe;)ae=(Ce=b(ae.e,ae)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(H=($=this.b).a.b;H!==$.a;H=H.b)if(H.c){for(this.h&&this.h(2,this.c),fe=H.a;this.k&&this.k(fe.a.d,this.c),(fe=fe.e)!==H.a;);this.i&&this.i(this.c)}}else{for($=this.b,H=!!this.l,fe=!1,ae=-1,Ce=$.a.d;Ce!==$.a;Ce=Ce.d)if(Ce.c)for(fe||(this.h&&this.h(4,this.c),fe=!0),Ne=Ce.a;H&&ae!==(xe=Ne.b.d.c?0:1)&&(ae=xe,this.l&&this.l(!!ae,this.c)),this.k&&this.k(Ne.a.d,this.c),(Ne=Ne.e)!==Ce.a;);fe&&this.i&&this.i(this.c)}if(this.r){for(fe=($=this.b).a.b;fe!==$.a;fe=H)if(H=fe.b,!fe.c){for(Ce=(ae=fe.a).e,Ne=void 0;Ce=(Ne=Ce).e,(Ne.d=null)===Ne.b.d&&(Ne.c===Ne?R(Ne.a,null):(Ne.a.c=Ne.c,S(Ne,de(Ne))),(xe=Ne.b).c===xe?R(xe.a,null):(xe.a.c=xe.c,S(xe,de(xe))),O(Ne)),Ne!==ae;);ae=fe.d,((fe=fe.b).d=ae).b=fe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:te,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},te.prototype.gluDeleteTess=te.prototype.x,te.prototype.gluTessProperty=te.prototype.B,te.prototype.gluGetTessProperty=te.prototype.y,te.prototype.gluTessNormal=te.prototype.A,te.prototype.gluTessCallback=te.prototype.z,te.prototype.gluTessVertex=te.prototype.C,te.prototype.gluTessBeginPolygon=te.prototype.u,te.prototype.gluTessBeginContour=te.prototype.t,te.prototype.gluTessEndContour=te.prototype.v,te.prototype.gluTessEndPolygon=te.prototype.w,y!==void 0&&(y.exports=this.libtess)},{}],238:[function(e,y,p){function h(t,c,u,d){for(var l=t[c++],n=1<<l,r=1+n,o=1+r,i=l+1,a=(1<<i)-1,m=0,v=0,b=0,x=t[c++],S=new Int32Array(4096),M=null;;){for(;m<16&&x!==0;)v|=t[c++]<<m,m+=8,x===1?x=t[c++]:--x;if(m<i)break;var C=v&a;if(v>>=i,m-=i,C!=n){if(C==r)break;for(var O=C<o?C:M,R=0,P=O;n<P;)P=S[P]>>8,++R;var L=P;if(d<b+R+(O!==C?1:0))return void console.log("Warning, gif stream longer than expected.");u[b++]=L;var U=b+=R;for(O!==C&&(u[b++]=L),P=O;R--;)P=S[P],u[--U]=255&P,P>>=8;M!==null&&o<4096&&(S[o++]=M<<8|L,a+1<=o&&i<12&&(++i,a=a<<1|1)),M=C}else o=1+r,a=(1<<(i=l+1))-1,M=null}return b!==d&&console.log("Warning, gif stream shorter than expected."),u}try{p.GifWriter=function(t,c,u,d){var l=0,n=(d=d===void 0?{}:d).loop===void 0?null:d.loop,r=d.palette===void 0?null:d.palette;if(c<=0||u<=0||65535<c||65535<u)throw new Error("Width/Height invalid.");function o(M){var C=M.length;if(C<2||256<C||C&C-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return C}t[l++]=71,t[l++]=73,t[l++]=70,t[l++]=56,t[l++]=57,t[l++]=97;var i=0,a=0;if(r!==null){for(var m=o(r);m>>=1;)++i;if(m=1<<i,--i,d.background!==void 0){if(m<=(a=d.background))throw new Error("Background index out of range.");if(a===0)throw new Error("Background index explicitly passed as 0.")}}if(t[l++]=255&c,t[l++]=c>>8&255,t[l++]=255&u,t[l++]=u>>8&255,t[l++]=(r!==null?128:0)|i,t[l++]=a,t[l++]=0,r!==null)for(var v=0,b=r.length;v<b;++v){var x=r[v];t[l++]=x>>16&255,t[l++]=x>>8&255,t[l++]=255&x}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");t[l++]=33,t[l++]=255,t[l++]=11,t[l++]=78,t[l++]=69,t[l++]=84,t[l++]=83,t[l++]=67,t[l++]=65,t[l++]=80,t[l++]=69,t[l++]=50,t[l++]=46,t[l++]=48,t[l++]=3,t[l++]=1,t[l++]=255&n,t[l++]=n>>8&255,t[l++]=0}var S=!1;this.addFrame=function(M,C,O,R,P,L){if(S===!0&&(--l,S=!1),L=L===void 0?{}:L,M<0||C<0||65535<M||65535<C)throw new Error("x/y invalid.");if(O<=0||R<=0||65535<O||65535<R)throw new Error("Width/Height invalid.");if(P.length<O*R)throw new Error("Not enough pixels for the frame size.");var U=!0,A=L.palette;if(A==null&&(U=!1,A=r),A==null)throw new Error("Must supply either a local or global palette.");for(var B=o(A),F=0;B>>=1;)++F;B=1<<F;var K=L.delay===void 0?0:L.delay,re=L.disposal===void 0?0:L.disposal;if(re<0||3<re)throw new Error("Disposal out of range.");var Q=!1,ne=0;if(L.transparent!==void 0&&L.transparent!==null&&(Q=!0,(ne=L.transparent)<0||B<=ne))throw new Error("Transparent color index.");if(re===0&&!Q&&K===0||(t[l++]=33,t[l++]=249,t[l++]=4,t[l++]=re<<2|(Q===!0?1:0),t[l++]=255&K,t[l++]=K>>8&255,t[l++]=ne,t[l++]=0),t[l++]=44,t[l++]=255&M,t[l++]=M>>8&255,t[l++]=255&C,t[l++]=C>>8&255,t[l++]=255&O,t[l++]=O>>8&255,t[l++]=255&R,t[l++]=R>>8&255,t[l++]=U===!0?128|F-1:0,U===!0)for(var ee=0,ue=A.length;ee<ue;++ee){var pe=A[ee];t[l++]=pe>>16&255,t[l++]=pe>>8&255,t[l++]=255&pe}return l=function(_e,ce,De,ve){_e[ce++]=De;var ge=ce++,I=1<<De,V=I-1,W=1+I,Z=1+W,ie=De+1,te=0,Te=0;function oe(Ze){for(;Ze<=te;)_e[ce++]=255&Te,Te>>=8,te-=8,ce===ge+256&&(_e[ge]=255,ge=ce++)}function be(Ze){Te|=Ze<<te,te+=ie,oe(8)}var me=ve[0]&V,de={};be(I);for(var Me=1,Oe=ve.length;Me<Oe;++Me){var je=ve[Me]&V,Ge=me<<8|je,Qe=de[Ge];if(Qe===void 0){for(Te|=me<<te,te+=ie;8<=te;)_e[ce++]=255&Te,Te>>=8,te-=8,ce===ge+256&&(_e[ge]=255,ge=ce++);Z===4096?(be(I),Z=1+W,ie=De+1,de={}):(1<<ie<=Z&&++ie,de[Ge]=Z++),me=je}else me=Qe}return be(me),be(W),oe(1),ge+1===ce?_e[ge]=0:(_e[ge]=ce-ge-1,_e[ce++]=0),ce}(t,l,F<2?2:F,P)},this.end=function(){return S===!1&&(t[l++]=59,S=!0),l},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(M){t=M},this.getOutputBufferPosition=function(){return l},this.setOutputBufferPosition=function(M){l=M}},p.GifReader=function(t){var c=0;if(t[c++]!==71||t[c++]!==73||t[c++]!==70||t[c++]!==56||(t[c++]+1&253)!=56||t[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=t[c++]|t[c++]<<8,d=t[c++]|t[c++]<<8,l=t[c++],n=l>>7,r=1<<1+(7&l);t[c++],t[c++];var o=null,i=null;n&&(o=c,c+=3*(i=r));var a=!0,m=[],v=0,b=null,x=0,S=null;for(this.width=u,this.height=d;a&&c<t.length;)switch(t[c++]){case 33:switch(t[c++]){case 255:if(t[c]!==11||t[c+1]==78&&t[c+2]==69&&t[c+3]==84&&t[c+4]==83&&t[c+5]==67&&t[c+6]==65&&t[c+7]==80&&t[c+8]==69&&t[c+9]==50&&t[c+10]==46&&t[c+11]==48&&t[c+12]==3&&t[c+13]==1&&t[c+16]==0)c+=14,S=t[c++]|t[c++]<<8,c++;else for(c+=12;;){if(!(0<=(Q=t[c++])))throw Error("Invalid block size");if(Q===0)break;c+=Q}break;case 249:if(t[c++]!==4||t[c+4]!==0)throw new Error("Invalid graphics extension block.");var M=t[c++];v=t[c++]|t[c++]<<8,b=t[c++],(1&M)==0&&(b=null),x=M>>2&7,c++;break;case 254:for(;;){if(!(0<=(Q=t[c++])))throw Error("Invalid block size");if(Q===0)break;c+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+t[c-1].toString(16))}break;case 44:var C=t[c++]|t[c++]<<8,O=t[c++]|t[c++]<<8,R=t[c++]|t[c++]<<8,P=t[c++]|t[c++]<<8,L=t[c++],U=L>>6&1,A=1<<1+(7&L),B=o,F=i,K=!1;L>>7&&(K=!0,B=c,c+=3*(F=A));var re=c;for(c++;;){var Q;if(!(0<=(Q=t[c++])))throw Error("Invalid block size");if(Q===0)break;c+=Q}m.push({x:C,y:O,width:R,height:P,has_local_palette:K,palette_offset:B,palette_size:F,data_offset:re,data_length:c-re,transparent_index:b,interlaced:!!U,delay:v,disposal:x});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+t[c-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(ne){if(ne<0||ne>=m.length)throw new Error("Frame index out of range.");return m[ne]},this.decodeAndBlitFrameBGRA=function(ne,ee){var ue=this.frameInfo(ne),pe=ue.width*ue.height,_e=new Uint8Array(pe);h(t,ue.data_offset,_e,pe);var ce=ue.palette_offset,De=ue.transparent_index;De===null&&(De=256);var ve=ue.width,ge=u-ve,I=ve,V=4*(ue.y*u+ue.x),W=4*((ue.y+ue.height)*u+ue.x),Z=V,ie=4*ge;ue.interlaced===!0&&(ie+=4*u*7);for(var te=8,Te=0,oe=_e.length;Te<oe;++Te){var be=_e[Te];if(I===0&&(I=ve,W<=(Z+=ie)&&(ie=4*ge+4*u*(te-1),Z=V+(ve+ge)*(te<<1),te>>=1)),be===De)Z+=4;else{var me=t[ce+3*be],de=t[ce+3*be+1],Me=t[ce+3*be+2];ee[Z++]=Me,ee[Z++]=de,ee[Z++]=me,ee[Z++]=255}--I}},this.decodeAndBlitFrameRGBA=function(ne,ee){var ue=this.frameInfo(ne),pe=ue.width*ue.height,_e=new Uint8Array(pe);h(t,ue.data_offset,_e,pe);var ce=ue.palette_offset,De=ue.transparent_index;De===null&&(De=256);var ve=ue.width,ge=u-ve,I=ve,V=4*(ue.y*u+ue.x),W=4*((ue.y+ue.height)*u+ue.x),Z=V,ie=4*ge;ue.interlaced===!0&&(ie+=4*u*7);for(var te=8,Te=0,oe=_e.length;Te<oe;++Te){var be=_e[Te];if(I===0&&(I=ve,W<=(Z+=ie)&&(ie=4*ge+4*u*(te-1),Z=V+(ve+ge)*(te<<1),te>>=1)),be===De)Z+=4;else{var me=t[ce+3*be],de=t[ce+3*be+1],Me=t[ce+3*be+2];ee[Z++]=me,ee[Z++]=de,ee[Z++]=Me,ee[Z++]=255}--I}}}}catch{}},{}],239:[function(e,y,p){(function(h){var t,c;t=this,c=function(u){function d(g){if(this==null)throw TypeError();var w=String(this),T=w.length,j=g?Number(g):0;if(j!=j&&(j=0),!(j<0||T<=j)){var D,N=w.charCodeAt(j);return 55296<=N&&N<=56319&&j+1<T&&56320<=(D=w.charCodeAt(j+1))&&D<=57343?1024*(N-55296)+D-56320+65536:N}}var l;String.prototype.codePointAt||((l=function(){try{var g={},w=Object.defineProperty,T=w(g,g,g)&&w}catch{}return T}())?l(String.prototype,"codePointAt",{value:d,configurable:!0,writable:!0}):String.prototype.codePointAt=d);var n=0,r=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(g,w){this.source=g,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=w,this.destLen=0,this.ltree=new o,this.dtree=new o}var a=new o,m=new o,v=new Uint8Array(30),b=new Uint16Array(30),x=new Uint8Array(30),S=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new o,O=new Uint8Array(320);function R(g,w,T,j){var D,N;for(D=0;D<T;++D)g[D]=0;for(D=0;D<30-T;++D)g[D+T]=D/T|0;for(N=j,D=0;D<30;++D)w[D]=N,N+=1<<g[D]}var P=new Uint16Array(16);function L(g,w,T,j){var D,N;for(D=0;D<16;++D)g.table[D]=0;for(D=0;D<j;++D)g.table[w[T+D]]++;for(D=N=g.table[0]=0;D<16;++D)P[D]=N,N+=g.table[D];for(D=0;D<j;++D)w[T+D]&&(g.trans[P[w[T+D]]++]=D)}function U(g){g.bitcount--||(g.tag=g.source[g.sourceIndex++],g.bitcount=7);var w=1&g.tag;return g.tag>>>=1,w}function A(g,w,T){if(!w)return T;for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;var j=g.tag&65535>>>16-w;return g.tag>>>=w,g.bitcount-=w,j+T}function B(g,w){for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;for(var T=0,j=0,D=0,N=g.tag;j=2*j+(1&N),N>>>=1,++D,T+=w.table[D],0<=(j-=w.table[D]););return g.tag=N,g.bitcount-=D,w.trans[T+j]}function F(g,w,T){var j,D,N,G,q,X;for(j=A(g,5,257),D=A(g,5,1),N=A(g,4,4),G=0;G<19;++G)O[G]=0;for(G=0;G<N;++G){var se=A(g,3,0);O[M[G]]=se}for(L(C,O,0,19),q=0;q<j+D;){var he=B(g,C);switch(he){case 16:var we=O[q-1];for(X=A(g,2,3);X;--X)O[q++]=we;break;case 17:for(X=A(g,3,3);X;--X)O[q++]=0;break;case 18:for(X=A(g,7,11);X;--X)O[q++]=0;break;default:O[q++]=he}}L(w,O,0,j),L(T,O,j,D)}function K(g,w,T){for(;;){var j,D,N,G,q=B(g,w);if(q===256)return n;if(q<256)g.dest[g.destLen++]=q;else for(j=A(g,v[q-=257],b[q]),D=B(g,T),G=N=g.destLen-A(g,x[D],S[D]);G<N+j;++G)g.dest[g.destLen++]=g.dest[G]}}function re(g){for(var w,T;8<g.bitcount;)g.sourceIndex--,g.bitcount-=8;if((w=256*(w=g.source[g.sourceIndex+1])+g.source[g.sourceIndex])!==(65535&~(256*g.source[g.sourceIndex+3]+g.source[g.sourceIndex+2])))return r;for(g.sourceIndex+=4,T=w;T;--T)g.dest[g.destLen++]=g.source[g.sourceIndex++];return g.bitcount=0,n}(function(g,w){var T;for(T=0;T<7;++T)g.table[T]=0;for(g.table[7]=24,g.table[8]=152,g.table[9]=112,T=0;T<24;++T)g.trans[T]=256+T;for(T=0;T<144;++T)g.trans[24+T]=T;for(T=0;T<8;++T)g.trans[168+T]=280+T;for(T=0;T<112;++T)g.trans[176+T]=144+T;for(T=0;T<5;++T)w.table[T]=0;for(w.table[5]=32,T=0;T<32;++T)w.trans[T]=T})(a,m),R(v,b,4,3),R(x,S,2,1),v[28]=0,b[28]=258;var Q=function(g,w){var T,j,D=new i(g,w);do{switch(T=U(D),A(D,2,0)){case 0:j=re(D);break;case 1:j=K(D,a,m);break;case 2:F(D,D.ltree,D.dtree),j=K(D,D.ltree,D.dtree);break;default:j=r}if(j!==n)throw new Error("Data error")}while(!T);return D.destLen<D.dest.length?typeof D.dest.slice=="function"?D.dest.slice(0,D.destLen):D.dest.subarray(0,D.destLen):D.dest};function ne(g,w,T,j,D){return Math.pow(1-D,3)*g+3*Math.pow(1-D,2)*D*w+3*(1-D)*Math.pow(D,2)*T+Math.pow(D,3)*j}function ee(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ue(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function pe(g){throw new Error(g)}function _e(g,w){g||pe(w)}ee.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ee.prototype.addPoint=function(g,w){typeof g=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=g,this.x2=g),g<this.x1&&(this.x1=g),g>this.x2&&(this.x2=g)),typeof w=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=w,this.y2=w),w<this.y1&&(this.y1=w),w>this.y2&&(this.y2=w))},ee.prototype.addX=function(g){this.addPoint(g,null)},ee.prototype.addY=function(g){this.addPoint(null,g)},ee.prototype.addBezier=function(g,w,T,j,D,N,G,q){var X=[g,w],se=[T,j],he=[D,N],we=[G,q];this.addPoint(g,w),this.addPoint(G,q);for(var J=0;J<=1;J++){var Ve=6*X[J]-12*se[J]+6*he[J],Fe=-3*X[J]+9*se[J]-9*he[J]+3*we[J],Pe=3*se[J]-3*X[J];if(Fe!=0){var Ee=Math.pow(Ve,2)-4*Pe*Fe;if(!(Ee<0)){var ke=(-Ve+Math.sqrt(Ee))/(2*Fe);0<ke&&ke<1&&(J===0&&this.addX(ne(X[J],se[J],he[J],we[J],ke)),J===1&&this.addY(ne(X[J],se[J],he[J],we[J],ke)));var rt=(-Ve-Math.sqrt(Ee))/(2*Fe);0<rt&&rt<1&&(J===0&&this.addX(ne(X[J],se[J],he[J],we[J],rt)),J===1&&this.addY(ne(X[J],se[J],he[J],we[J],rt)))}}else{if(Ve==0)continue;var tt=-Pe/Ve;0<tt&&tt<1&&(J===0&&this.addX(ne(X[J],se[J],he[J],we[J],tt)),J===1&&this.addY(ne(X[J],se[J],he[J],we[J],tt)))}}},ee.prototype.addQuad=function(g,w,T,j,D,N){var G=g+.6666666666666666*(T-g),q=w+2/3*(j-w),X=G+1/3*(D-g),se=q+1/3*(N-w);this.addBezier(g,w,G,q,X,se,D,N)},ue.prototype.moveTo=function(g,w){this.commands.push({type:"M",x:g,y:w})},ue.prototype.lineTo=function(g,w){this.commands.push({type:"L",x:g,y:w})},ue.prototype.curveTo=ue.prototype.bezierCurveTo=function(g,w,T,j,D,N){this.commands.push({type:"C",x1:g,y1:w,x2:T,y2:j,x:D,y:N})},ue.prototype.quadTo=ue.prototype.quadraticCurveTo=function(g,w,T,j){this.commands.push({type:"Q",x1:g,y1:w,x:T,y:j})},ue.prototype.close=ue.prototype.closePath=function(){this.commands.push({type:"Z"})},ue.prototype.extend=function(g){if(g.commands)g=g.commands;else if(g instanceof ee){var w=g;return this.moveTo(w.x1,w.y1),this.lineTo(w.x2,w.y1),this.lineTo(w.x2,w.y2),this.lineTo(w.x1,w.y2),void this.close()}Array.prototype.push.apply(this.commands,g)},ue.prototype.getBoundingBox=function(){for(var g=new ee,w=0,T=0,j=0,D=0,N=0;N<this.commands.length;N++){var G=this.commands[N];switch(G.type){case"M":g.addPoint(G.x,G.y),w=j=G.x,T=D=G.y;break;case"L":g.addPoint(G.x,G.y),j=G.x,D=G.y;break;case"Q":g.addQuad(j,D,G.x1,G.y1,G.x,G.y),j=G.x,D=G.y;break;case"C":g.addBezier(j,D,G.x1,G.y1,G.x2,G.y2,G.x,G.y),j=G.x,D=G.y;break;case"Z":j=w,D=T;break;default:throw new Error("Unexpected path command "+G.type)}}return g.isEmpty()&&g.addPoint(0,0),g},ue.prototype.draw=function(g){g.beginPath();for(var w=0;w<this.commands.length;w+=1){var T=this.commands[w];T.type==="M"?g.moveTo(T.x,T.y):T.type==="L"?g.lineTo(T.x,T.y):T.type==="C"?g.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?g.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&g.closePath()}this.fill&&(g.fillStyle=this.fill,g.fill()),this.stroke&&(g.strokeStyle=this.stroke,g.lineWidth=this.strokeWidth,g.stroke())},ue.prototype.toPathData=function(g){function w(){for(var N,G=arguments,q="",X=0;X<arguments.length;X+=1){var se=G[X];0<=se&&0<X&&(q+=" "),q+=(N=se,Math.round(N)===N?""+Math.round(N):N.toFixed(g))}return q}g=g!==void 0?g:2;for(var T="",j=0;j<this.commands.length;j+=1){var D=this.commands[j];D.type==="M"?T+="M"+w(D.x,D.y):D.type==="L"?T+="L"+w(D.x,D.y):D.type==="C"?T+="C"+w(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"?T+="Q"+w(D.x1,D.y1,D.x,D.y):D.type==="Z"&&(T+="Z")}return T},ue.prototype.toSVG=function(g){var w='<path d="';return w+=this.toPathData(g),w+='"',this.fill&&this.fill!=="black"&&(this.fill===null?w+=' fill="none"':w+=' fill="'+this.fill+'"'),this.stroke&&(w+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),w+="/>"},ue.prototype.toDOMElement=function(g){var w=this.toPathData(g),T=document.createElementNS("http://www.w3.org/2000/svg","path");return T.setAttribute("d",w),T};var ce={fail:pe,argument:_e,assert:_e},De={},ve={},ge={};function I(g){return function(){return g}}ve.BYTE=function(g){return ce.argument(0<=g&&g<=255,"Byte value should be between 0 and 255."),[g]},ge.BYTE=I(1),ve.CHAR=function(g){return[g.charCodeAt(0)]},ge.CHAR=I(1),ve.CHARARRAY=function(g){for(var w=[],T=0;T<g.length;T+=1)w[T]=g.charCodeAt(T);return w},ge.CHARARRAY=function(g){return g.length},ve.USHORT=function(g){return[g>>8&255,255&g]},ge.USHORT=I(2),ve.SHORT=function(g){return 32768<=g&&(g=-(65536-g)),[g>>8&255,255&g]},ge.SHORT=I(2),ve.UINT24=function(g){return[g>>16&255,g>>8&255,255&g]},ge.UINT24=I(3),ve.ULONG=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},ge.ULONG=I(4),ve.LONG=function(g){return 2147483648<=g&&(g=-(4294967296-g)),[g>>24&255,g>>16&255,g>>8&255,255&g]},ge.LONG=I(4),ve.FIXED=ve.ULONG,ge.FIXED=ge.ULONG,ve.FWORD=ve.SHORT,ge.FWORD=ge.SHORT,ve.UFWORD=ve.USHORT,ge.UFWORD=ge.USHORT,ve.LONGDATETIME=function(g){return[0,0,0,0,g>>24&255,g>>16&255,g>>8&255,255&g]},ge.LONGDATETIME=I(8),ve.TAG=function(g){return ce.argument(g.length===4,"Tag should be exactly 4 ASCII characters."),[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]},ge.TAG=I(4),ve.Card8=ve.BYTE,ge.Card8=ge.BYTE,ve.Card16=ve.USHORT,ge.Card16=ge.USHORT,ve.OffSize=ve.BYTE,ge.OffSize=ge.BYTE,ve.SID=ve.USHORT,ge.SID=ge.USHORT,ve.NUMBER=function(g){return-107<=g&&g<=107?[g+139]:108<=g&&g<=1131?[247+((g-=108)>>8),255&g]:-1131<=g&&g<=-108?[251+((g=-g-108)>>8),255&g]:-32768<=g&&g<=32767?ve.NUMBER16(g):ve.NUMBER32(g)},ge.NUMBER=function(g){return ve.NUMBER(g).length},ve.NUMBER16=function(g){return[28,g>>8&255,255&g]},ge.NUMBER16=I(3),ve.NUMBER32=function(g){return[29,g>>24&255,g>>16&255,g>>8&255,255&g]},ge.NUMBER32=I(5),ve.REAL=function(g){var w=g.toString(),T=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(w);if(T){var j=parseFloat("1e"+((T[2]?+T[2]:0)+T[1].length));w=(Math.round(g*j)/j).toString()}for(var D="",N=0,G=w.length;N<G;N+=1){var q=w[N];D+=q==="e"?w[++N]==="-"?"c":"b":q==="."?"a":q==="-"?"e":q}for(var X=[30],se=0,he=(D+=1&D.length?"f":"ff").length;se<he;se+=2)X.push(parseInt(D.substr(se,2),16));return X},ge.REAL=function(g){return ve.REAL(g).length},ve.NAME=ve.CHARARRAY,ge.NAME=ge.CHARARRAY,ve.STRING=ve.CHARARRAY,ge.STRING=ge.CHARARRAY,De.UTF8=function(g,w,T){for(var j=[],D=T,N=0;N<D;N++,w+=1)j[N]=g.getUint8(w);return String.fromCharCode.apply(null,j)},De.UTF16=function(g,w,T){for(var j=[],D=T/2,N=0;N<D;N++,w+=2)j[N]=g.getUint16(w);return String.fromCharCode.apply(null,j)},ve.UTF16=function(g){for(var w=[],T=0;T<g.length;T+=1){var j=g.charCodeAt(T);w[w.length]=j>>8&255,w[w.length]=255&j}return w},ge.UTF16=function(g){return 2*g.length};var V={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};De.MACSTRING=function(g,w,T,j){var D=V[j];if(D!==void 0){for(var N="",G=0;G<T;G++){var q=g.getUint8(w+G);N+=q<=127?String.fromCharCode(q):D[127&q]}return N}};var W,Z=typeof WeakMap=="function"&&new WeakMap;function ie(g){return-128<=g&&g<=127}function te(g,w,T){for(var j=0,D=g.length;w<D&&j<64&&g[w]===0;)++w,++j;return T.push(128|j-1),w}function Te(g,w,T){for(var j=0,D=g.length,N=w;N<D&&j<64;){var G=g[N];if(!ie(G)||G===0&&N+1<D&&g[N+1]===0)break;++N,++j}T.push(j-1);for(var q=w;q<N;++q)T.push(g[q]+256&255);return N}function oe(g,w,T){for(var j=0,D=g.length,N=w;N<D&&j<64;){var G=g[N];if(G===0||ie(G)&&N+1<D&&ie(g[N+1]))break;++N,++j}T.push(64|j-1);for(var q=w;q<N;++q){var X=g[q];T.push(X+65536>>8&255,X+256&255)}return N}ve.MACSTRING=function(g,w){var T=function(G){if(!W)for(var q in W={},V)W[q]=new String(q);var X=W[G];if(X!==void 0){if(Z){var se=Z.get(X);if(se!==void 0)return se}var he=V[G];if(he!==void 0){for(var we={},J=0;J<he.length;J++)we[he.charCodeAt(J)]=J+128;return Z&&Z.set(X,we),we}}}(w);if(T!==void 0){for(var j=[],D=0;D<g.length;D++){var N=g.charCodeAt(D);if(128<=N&&(N=T[N])===void 0)return;j[D]=N}return j}},ge.MACSTRING=function(g,w){var T=ve.MACSTRING(g,w);return T!==void 0?T.length:0},ve.VARDELTAS=function(g){for(var w=0,T=[];w<g.length;){var j=g[w];w=j===0?te(g,w,T):-128<=j&&j<=127?Te(g,w,T):oe(g,w,T)}return T},ve.INDEX=function(g){for(var w=1,T=[w],j=[],D=0;D<g.length;D+=1){var N=ve.OBJECT(g[D]);Array.prototype.push.apply(j,N),w+=N.length,T.push(w)}if(j.length===0)return[0,0];for(var G=[],q=1+Math.floor(Math.log(w)/Math.log(2))/8|0,X=[void 0,ve.BYTE,ve.USHORT,ve.UINT24,ve.ULONG][q],se=0;se<T.length;se+=1){var he=X(T[se]);Array.prototype.push.apply(G,he)}return Array.prototype.concat(ve.Card16(g.length),ve.OffSize(q),G,j)},ge.INDEX=function(g){return ve.INDEX(g).length},ve.DICT=function(g){for(var w=[],T=Object.keys(g),j=T.length,D=0;D<j;D+=1){var N=parseInt(T[D],0),G=g[N];w=(w=w.concat(ve.OPERAND(G.value,G.type))).concat(ve.OPERATOR(N))}return w},ge.DICT=function(g){return ve.DICT(g).length},ve.OPERATOR=function(g){return g<1200?[g]:[12,g-1200]},ve.OPERAND=function(g,w){var T=[];if(Array.isArray(w))for(var j=0;j<w.length;j+=1)ce.argument(g.length===w.length,"Not enough arguments given for type"+w),T=T.concat(ve.OPERAND(g[j],w[j]));else if(w==="SID")T=T.concat(ve.NUMBER(g));else if(w==="offset")T=T.concat(ve.NUMBER32(g));else if(w==="number")T=T.concat(ve.NUMBER(g));else{if(w!=="real")throw new Error("Unknown operand type "+w);T=T.concat(ve.REAL(g))}return T},ve.OP=ve.BYTE,ge.OP=ge.BYTE;var be=typeof WeakMap=="function"&&new WeakMap;function me(g,w,T){for(var j=0;j<w.length;j+=1){var D=w[j];this[D.name]=D.value}if(this.tableName=g,this.fields=w,T)for(var N=Object.keys(T),G=0;G<N.length;G+=1){var q=N[G],X=T[q];this[q]!==void 0&&(this[q]=X)}}function de(g,w,T){T===void 0&&(T=w.length);var j=new Array(w.length+1);j[0]={name:g+"Count",type:"USHORT",value:T};for(var D=0;D<w.length;D++)j[D+1]={name:g+D,type:"USHORT",value:w[D]};return j}function Me(g,w,T){var j=w.length,D=new Array(j+1);D[0]={name:g+"Count",type:"USHORT",value:j};for(var N=0;N<j;N++)D[N+1]={name:g+N,type:"TABLE",value:T(w[N],N)};return D}function Oe(g,w,T){var j=w.length,D=[];D[0]={name:g+"Count",type:"USHORT",value:j};for(var N=0;N<j;N++)D=D.concat(T(w[N],N));return D}function je(g){g.format===1?me.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(de("glyph",g.glyphs))):ce.assert(!1,"Can't create coverage table format 2 yet.")}function Ge(g){me.call(this,"scriptListTable",Oe("scriptRecord",g,function(w,T){var j=w.script,D=j.defaultLangSys;return ce.assert(!!D,"Unable to write GSUB: script "+w.tag+" has no default language system."),[{name:"scriptTag"+T,type:"TAG",value:w.tag},{name:"script"+T,type:"TABLE",value:new me("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new me("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:D.reqFeatureIndex}].concat(de("featureIndex",D.featureIndexes)))}].concat(Oe("langSys",j.langSysRecords,function(N,G){var q=N.langSys;return[{name:"langSysTag"+G,type:"TAG",value:N.tag},{name:"langSys"+G,type:"TABLE",value:new me("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:q.reqFeatureIndex}].concat(de("featureIndex",q.featureIndexes)))}]})))}]}))}function Qe(g){me.call(this,"featureListTable",Oe("featureRecord",g,function(w,T){var j=w.feature;return[{name:"featureTag"+T,type:"TAG",value:w.tag},{name:"feature"+T,type:"TABLE",value:new me("featureTable",[{name:"featureParams",type:"USHORT",value:j.featureParams}].concat(de("lookupListIndex",j.lookupListIndexes)))}]}))}function Ze(g,w){me.call(this,"lookupListTable",Me("lookup",g,function(T){var j=w[T.lookupType];return ce.assert(!!j,"Unable to write GSUB lookup type "+T.lookupType+" tables."),new me("lookupTable",[{name:"lookupType",type:"USHORT",value:T.lookupType},{name:"lookupFlag",type:"USHORT",value:T.lookupFlag}].concat(Me("subtable",T.subtables,j)))}))}ve.CHARSTRING=function(g){if(be){var w=be.get(g);if(w!==void 0)return w}for(var T=[],j=g.length,D=0;D<j;D+=1){var N=g[D];T=T.concat(ve[N.type](N.value))}return be&&be.set(g,T),T},ge.CHARSTRING=function(g){return ve.CHARSTRING(g).length},ve.OBJECT=function(g){var w=ve[g.type];return ce.argument(w!==void 0,"No encoding function for type "+g.type),w(g.value)},ge.OBJECT=function(g){var w=ge[g.type];return ce.argument(w!==void 0,"No sizeOf function for type "+g.type),w(g.value)},ve.TABLE=function(g){for(var w=[],T=g.fields.length,j=[],D=[],N=0;N<T;N+=1){var G=g.fields[N],q=ve[G.type];ce.argument(q!==void 0,"No encoding function for field type "+G.type+" ("+G.name+")");var X=g[G.name];X===void 0&&(X=G.value);var se=q(X);G.type==="TABLE"?(D.push(w.length),w=w.concat([0,0]),j.push(se)):w=w.concat(se)}for(var he=0;he<j.length;he+=1){var we=D[he],J=w.length;ce.argument(J<65536,"Table "+g.tableName+" too big."),w[we]=J>>8,w[we+1]=255&J,w=w.concat(j[he])}return w},ge.TABLE=function(g){for(var w=0,T=g.fields.length,j=0;j<T;j+=1){var D=g.fields[j],N=ge[D.type];ce.argument(N!==void 0,"No sizeOf function for field type "+D.type+" ("+D.name+")");var G=g[D.name];G===void 0&&(G=D.value),w+=N(G),D.type==="TABLE"&&(w+=2)}return w},ve.RECORD=ve.TABLE,ge.RECORD=ge.TABLE,ve.LITERAL=function(g){return g},ge.LITERAL=function(g){return g.length},me.prototype.encode=function(){return ve.TABLE(this)},me.prototype.sizeOf=function(){return ge.TABLE(this)};var Be={Table:me,Record:me,Coverage:(je.prototype=Object.create(me.prototype)).constructor=je,ScriptList:(Ge.prototype=Object.create(me.prototype)).constructor=Ge,FeatureList:(Qe.prototype=Object.create(me.prototype)).constructor=Qe,LookupList:(Ze.prototype=Object.create(me.prototype)).constructor=Ze,ushortList:de,tableList:Me,recordList:Oe};function xt(g,w){return g.getUint8(w)}function Re(g,w){return g.getUint16(w,!1)}function Le(g,w){return g.getUint32(w,!1)}function qe(g,w){return g.getInt16(w,!1)+g.getUint16(w+2,!1)/65535}var We={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ye(g,w){this.data=g,this.offset=w,this.relativeOffset=0}ye.prototype.parseByte=function(){var g=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},ye.prototype.parseChar=function(){var g=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},ye.prototype.parseCard8=ye.prototype.parseByte,ye.prototype.parseCard16=ye.prototype.parseUShort=function(){var g=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},ye.prototype.parseSID=ye.prototype.parseUShort,ye.prototype.parseOffset16=ye.prototype.parseUShort,ye.prototype.parseShort=function(){var g=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},ye.prototype.parseF2Dot14=function(){var g=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,g},ye.prototype.parseOffset32=ye.prototype.parseULong=function(){var g=Le(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},ye.prototype.parseFixed=function(){var g=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},ye.prototype.parseString=function(g){var w=this.data,T=this.offset+this.relativeOffset,j="";this.relativeOffset+=g;for(var D=0;D<g;D++)j+=String.fromCharCode(w.getUint8(T+D));return j},ye.prototype.parseTag=function(){return this.parseString(4)},ye.prototype.parseLongDateTime=function(){var g=Le(this.data,this.offset+this.relativeOffset+4);return g-=2082844800,this.relativeOffset+=8,g},ye.prototype.parseVersion=function(g){var w=Re(this.data,this.offset+this.relativeOffset),T=Re(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,g===void 0&&(g=4096),w+T/g/10},ye.prototype.skip=function(g,w){w===void 0&&(w=1),this.relativeOffset+=We[g]*w},ye.prototype.parseULongList=function(g){g===void 0&&(g=this.parseULong());for(var w=new Array(g),T=this.data,j=this.offset+this.relativeOffset,D=0;D<g;D++)w[D]=T.getUint32(j),j+=4;return this.relativeOffset+=4*g,w},ye.prototype.parseOffset16List=ye.prototype.parseUShortList=function(g){g===void 0&&(g=this.parseUShort());for(var w=new Array(g),T=this.data,j=this.offset+this.relativeOffset,D=0;D<g;D++)w[D]=T.getUint16(j),j+=2;return this.relativeOffset+=2*g,w},ye.prototype.parseShortList=function(g){for(var w=new Array(g),T=this.data,j=this.offset+this.relativeOffset,D=0;D<g;D++)w[D]=T.getInt16(j),j+=2;return this.relativeOffset+=2*g,w},ye.prototype.parseByteList=function(g){for(var w=new Array(g),T=this.data,j=this.offset+this.relativeOffset,D=0;D<g;D++)w[D]=T.getUint8(j++);return this.relativeOffset+=g,w},ye.prototype.parseList=function(g,w){w||(w=g,g=this.parseUShort());for(var T=new Array(g),j=0;j<g;j++)T[j]=w.call(this);return T},ye.prototype.parseList32=function(g,w){w||(w=g,g=this.parseULong());for(var T=new Array(g),j=0;j<g;j++)T[j]=w.call(this);return T},ye.prototype.parseRecordList=function(g,w){w||(w=g,g=this.parseUShort());for(var T=new Array(g),j=Object.keys(w),D=0;D<g;D++){for(var N={},G=0;G<j.length;G++){var q=j[G],X=w[q];N[q]=X.call(this)}T[D]=N}return T},ye.prototype.parseRecordList32=function(g,w){w||(w=g,g=this.parseULong());for(var T=new Array(g),j=Object.keys(w),D=0;D<g;D++){for(var N={},G=0;G<j.length;G++){var q=j[G],X=w[q];N[q]=X.call(this)}T[D]=N}return T},ye.prototype.parseStruct=function(g){if(typeof g=="function")return g.call(this);for(var w=Object.keys(g),T={},j=0;j<w.length;j++){var D=w[j],N=g[D];T[D]=N.call(this)}return T},ye.prototype.parseValueRecord=function(g){if(g===void 0&&(g=this.parseUShort()),g!==0){var w={};return 1&g&&(w.xPlacement=this.parseShort()),2&g&&(w.yPlacement=this.parseShort()),4&g&&(w.xAdvance=this.parseShort()),8&g&&(w.yAdvance=this.parseShort()),16&g&&(w.xPlaDevice=void 0,this.parseShort()),32&g&&(w.yPlaDevice=void 0,this.parseShort()),64&g&&(w.xAdvDevice=void 0,this.parseShort()),128&g&&(w.yAdvDevice=void 0,this.parseShort()),w}},ye.prototype.parseValueRecordList=function(){for(var g=this.parseUShort(),w=this.parseUShort(),T=new Array(w),j=0;j<w;j++)T[j]=this.parseValueRecord(g);return T},ye.prototype.parsePointer=function(g){var w=this.parseOffset16();if(0<w)return new ye(this.data,this.offset+w).parseStruct(g)},ye.prototype.parsePointer32=function(g){var w=this.parseOffset32();if(0<w)return new ye(this.data,this.offset+w).parseStruct(g)},ye.prototype.parseListOfLists=function(g){for(var w=this.parseOffset16List(),T=w.length,j=this.relativeOffset,D=new Array(T),N=0;N<T;N++){var G=w[N];if(G!==0)if(this.relativeOffset=G,g){for(var q=this.parseOffset16List(),X=new Array(q.length),se=0;se<q.length;se++)this.relativeOffset=G+q[se],X[se]=g.call(this);D[N]=X}else D[N]=this.parseUShortList();else D[N]=void 0}return this.relativeOffset=j,D},ye.prototype.parseCoverage=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort(),T=this.parseUShort();if(w===1)return{format:1,glyphs:this.parseUShortList(T)};if(w!==2)throw new Error("0x"+g.toString(16)+": Coverage format must be 1 or 2.");for(var j=new Array(T),D=0;D<T;D++)j[D]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:j}},ye.prototype.parseClassDef=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();if(w===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(w===2)return{format:2,ranges:this.parseRecordList({start:ye.uShort,end:ye.uShort,classId:ye.uShort})};throw new Error("0x"+g.toString(16)+": ClassDef format must be 1 or 2.")},ye.list=function(g,w){return function(){return this.parseList(g,w)}},ye.list32=function(g,w){return function(){return this.parseList32(g,w)}},ye.recordList=function(g,w){return function(){return this.parseRecordList(g,w)}},ye.recordList32=function(g,w){return function(){return this.parseRecordList32(g,w)}},ye.pointer=function(g){return function(){return this.parsePointer(g)}},ye.pointer32=function(g){return function(){return this.parsePointer32(g)}},ye.tag=ye.prototype.parseTag,ye.byte=ye.prototype.parseByte,ye.uShort=ye.offset16=ye.prototype.parseUShort,ye.uShortList=ye.prototype.parseUShortList,ye.uLong=ye.offset32=ye.prototype.parseULong,ye.uLongList=ye.prototype.parseULongList,ye.struct=ye.prototype.parseStruct,ye.coverage=ye.prototype.parseCoverage,ye.classDef=ye.prototype.parseClassDef;var nt={reserved:ye.uShort,reqFeatureIndex:ye.uShort,featureIndexes:ye.uShortList};ye.prototype.parseScriptList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,script:ye.pointer({defaultLangSys:ye.pointer(nt),langSysRecords:ye.recordList({tag:ye.tag,langSys:ye.pointer(nt)})})}))||[]},ye.prototype.parseFeatureList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,feature:ye.pointer({featureParams:ye.offset16,lookupListIndexes:ye.uShortList})}))||[]},ye.prototype.parseLookupList=function(g){return this.parsePointer(ye.list(ye.pointer(function(){var w=this.parseUShort();ce.argument(1<=w&&w<=9,"GPOS/GSUB lookup type "+w+" unknown.");var T=this.parseUShort(),j=16&T;return{lookupType:w,lookupFlag:T,subtables:this.parseList(ye.pointer(g[w])),markFilteringSet:j?this.parseUShort():void 0}})))||[]},ye.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var g=this.parseUShort(),w=this.parseUShort();return ce.argument(g===1&&w<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ye.offset32,featureTableSubstitutionOffset:ye.offset32})})||[]};var z={getByte:xt,getCard8:xt,getUShort:Re,getCard16:Re,getShort:function(g,w){return g.getInt16(w,!1)},getULong:Le,getFixed:qe,getTag:function(g,w){for(var T="",j=w;j<w+4;j+=1)T+=String.fromCharCode(g.getInt8(j));return T},getOffset:function(g,w,T){for(var j=0,D=0;D<T;D+=1)j<<=8,j+=g.getUint8(w+D);return j},getBytes:function(g,w,T){for(var j=[],D=w;D<T;D+=1)j.push(g.getUint8(D));return j},bytesToString:function(g){for(var w="",T=0;T<g.length;T+=1)w+=String.fromCharCode(g[T]);return w},Parser:ye},Y={parse:function(g,w){var T={};T.version=z.getUShort(g,w),ce.argument(T.version===0,"cmap table version should be 0."),T.numTables=z.getUShort(g,w+2);for(var j=-1,D=T.numTables-1;0<=D;--D){var N=z.getUShort(g,w+4+8*D),G=z.getUShort(g,w+4+8*D+2);if(N===3&&(G===0||G===1||G===10)||N===0&&(G===0||G===1||G===2||G===3||G===4)){j=z.getULong(g,w+4+8*D+4);break}}if(j===-1)throw new Error("No valid cmap sub-tables found.");var q=new z.Parser(g,w+j);if(T.format=q.parseUShort(),T.format===12)(function(X,se){var he;se.parseUShort(),X.length=se.parseULong(),X.language=se.parseULong(),X.groupCount=he=se.parseULong(),X.glyphIndexMap={};for(var we=0;we<he;we+=1)for(var J=se.parseULong(),Ve=se.parseULong(),Fe=se.parseULong(),Pe=J;Pe<=Ve;Pe+=1)X.glyphIndexMap[Pe]=Fe,Fe++})(T,q);else{if(T.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+T.format+").");(function(X,se,he,we,J){var Ve;X.length=se.parseUShort(),X.language=se.parseUShort(),X.segCount=Ve=se.parseUShort()>>1,se.skip("uShort",3),X.glyphIndexMap={};for(var Fe=new z.Parser(he,we+J+14),Pe=new z.Parser(he,we+J+16+2*Ve),Ee=new z.Parser(he,we+J+16+4*Ve),ke=new z.Parser(he,we+J+16+6*Ve),rt=we+J+16+8*Ve,tt=0;tt<Ve-1;tt+=1)for(var kt=void 0,ut=Fe.parseUShort(),vt=Pe.parseUShort(),pr=Ee.parseShort(),Nt=ke.parseUShort(),Rt=vt;Rt<=ut;Rt+=1)Nt!==0?(rt=ke.offset+ke.relativeOffset-2,rt+=Nt,rt+=2*(Rt-vt),(kt=z.getUShort(he,rt))!==0&&(kt=kt+pr&65535)):kt=Rt+pr&65535,X.glyphIndexMap[Rt]=kt})(T,q,g,w,j)}return T},make:function(g){var w,T=!0;for(w=g.length-1;0<w;--w)if(65535<g.get(w).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var j=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}];T||(j=j.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),j=j.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var D,N,G,q=new Be.Table("cmap",j);for(q.segments=[],w=0;w<g.length;w+=1){for(var X=g.get(w),se=0;se<X.unicodes.length;se+=1)D=q,N=X.unicodes[se],G=w,D.segments.push({end:N,start:N,delta:-(N-G),offset:0,glyphIndex:G});q.segments=q.segments.sort(function(kt,ut){return kt.start-ut.start})}q.segments.push({end:65535,start:65535,delta:1,offset:0});var he=q.segments.length,we=0,J=[],Ve=[],Fe=[],Pe=[],Ee=[],ke=[];for(w=0;w<he;w+=1){var rt=q.segments[w];rt.end<=65535&&rt.start<=65535?(J=J.concat({name:"end_"+w,type:"USHORT",value:rt.end}),Ve=Ve.concat({name:"start_"+w,type:"USHORT",value:rt.start}),Fe=Fe.concat({name:"idDelta_"+w,type:"SHORT",value:rt.delta}),Pe=Pe.concat({name:"idRangeOffset_"+w,type:"USHORT",value:rt.offset}),rt.glyphId!==void 0&&(Ee=Ee.concat({name:"glyph_"+w,type:"USHORT",value:rt.glyphId}))):we+=1,T||rt.glyphIndex===void 0||(ke=(ke=(ke=ke.concat({name:"cmap12Start_"+w,type:"ULONG",value:rt.start})).concat({name:"cmap12End_"+w,type:"ULONG",value:rt.end})).concat({name:"cmap12Glyph_"+w,type:"ULONG",value:rt.glyphIndex}))}if(q.segCountX2=2*(he-we),q.searchRange=2*Math.pow(2,Math.floor(Math.log(he-we)/Math.log(2))),q.entrySelector=Math.log(q.searchRange/2)/Math.log(2),q.rangeShift=q.segCountX2-q.searchRange,q.fields=q.fields.concat(J),q.fields.push({name:"reservedPad",type:"USHORT",value:0}),q.fields=q.fields.concat(Ve),q.fields=q.fields.concat(Fe),q.fields=q.fields.concat(Pe),q.fields=q.fields.concat(Ee),q.cmap4Length=14+2*J.length+2+2*Ve.length+2*Fe.length+2*Pe.length+2*Ee.length,!T){var tt=16+4*ke.length;q.cmap12Offset=20+q.cmap4Length,q.fields=q.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:tt},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:ke.length/3}]),q.fields=q.fields.concat(ke)}return q}},H=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],xe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ce(g){this.font=g}function Ne(g){this.cmap=g}function fe(g,w){this.encoding=g,this.charset=w}function ze(g){switch(g.version){case 1:this.names=xe.slice();break;case 2:this.names=new Array(g.numberOfGlyphs);for(var w=0;w<g.numberOfGlyphs;w++)g.glyphNameIndex[w]<xe.length?this.names[w]=xe[g.glyphNameIndex[w]]:this.names[w]=g.names[g.glyphNameIndex[w]-xe.length];break;case 2.5:this.names=new Array(g.numberOfGlyphs);for(var T=0;T<g.numberOfGlyphs;T++)this.names[T]=xe[T+g.glyphNameIndex[T]];break;case 3:default:this.names=[]}}Ce.prototype.charToGlyphIndex=function(g){var w=g.codePointAt(0),T=this.font.glyphs;if(T){for(var j=0;j<T.length;j+=1)for(var D=T.get(j),N=0;N<D.unicodes.length;N+=1)if(D.unicodes[N]===w)return j}return null},Ne.prototype.charToGlyphIndex=function(g){return this.cmap.glyphIndexMap[g.codePointAt(0)]||0},fe.prototype.charToGlyphIndex=function(g){var w=g.codePointAt(0),T=this.encoding[w];return this.charset.indexOf(T)},ze.prototype.nameToGlyphIndex=function(g){return this.names.indexOf(g)},ze.prototype.glyphIndexToName=function(g){return this.names[g]};var st={line:function(g,w,T,j,D){g.beginPath(),g.moveTo(w,T),g.lineTo(j,D),g.stroke()}};function wt(g){this.bindConstructorValues(g)}function jt(g,w,T){Object.defineProperty(g,w,{get:function(){return g.path,g[T]},set:function(j){g[T]=j},enumerable:!0,configurable:!0})}function _t(g,w){if(this.font=g,this.glyphs={},Array.isArray(w))for(var T=0;T<w.length;T++)this.glyphs[T]=w[T];this.length=w&&w.length||0}wt.prototype.bindConstructorValues=function(g){var w,T;this.index=g.index||0,this.name=g.name||null,this.unicode=g.unicode||void 0,this.unicodes=g.unicodes||g.unicode!==void 0?[g.unicode]:[],g.xMin&&(this.xMin=g.xMin),g.yMin&&(this.yMin=g.yMin),g.xMax&&(this.xMax=g.xMax),g.yMax&&(this.yMax=g.yMax),g.advanceWidth&&(this.advanceWidth=g.advanceWidth),Object.defineProperty(this,"path",(w=g.path,T=w||new ue,{configurable:!0,get:function(){return typeof T=="function"&&(T=T()),T},set:function(j){T=j}}))},wt.prototype.addUnicode=function(g){this.unicodes.length===0&&(this.unicode=g),this.unicodes.push(g)},wt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},wt.prototype.getPath=function(g,w,T,j,D){var N,G;g=g!==void 0?g:0,w=w!==void 0?w:0,T=T!==void 0?T:72;var q=(j=j||{}).xScale,X=j.yScale;if(j.hinting&&D&&D.hinting&&(G=this.path&&D.hinting.exec(this,T)),G)N=D.hinting.getCommands(G),g=Math.round(g),w=Math.round(w),q=X=1;else{N=this.path.commands;var se=1/this.path.unitsPerEm*T;q===void 0&&(q=se),X===void 0&&(X=se)}for(var he=new ue,we=0;we<N.length;we+=1){var J=N[we];J.type==="M"?he.moveTo(g+J.x*q,w+-J.y*X):J.type==="L"?he.lineTo(g+J.x*q,w+-J.y*X):J.type==="Q"?he.quadraticCurveTo(g+J.x1*q,w+-J.y1*X,g+J.x*q,w+-J.y*X):J.type==="C"?he.curveTo(g+J.x1*q,w+-J.y1*X,g+J.x2*q,w+-J.y2*X,g+J.x*q,w+-J.y*X):J.type==="Z"&&he.closePath()}return he},wt.prototype.getContours=function(){if(this.points===void 0)return[];for(var g=[],w=[],T=0;T<this.points.length;T+=1){var j=this.points[T];w.push(j),j.lastPointOfContour&&(g.push(w),w=[])}return ce.argument(w.length===0,"There are still points left in the current contour."),g},wt.prototype.getMetrics=function(){for(var g=this.path.commands,w=[],T=[],j=0;j<g.length;j+=1){var D=g[j];D.type!=="Z"&&(w.push(D.x),T.push(D.y)),D.type!=="Q"&&D.type!=="C"||(w.push(D.x1),T.push(D.y1)),D.type==="C"&&(w.push(D.x2),T.push(D.y2))}var N={xMin:Math.min.apply(null,w),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,w),yMax:Math.max.apply(null,T),leftSideBearing:this.leftSideBearing};return isFinite(N.xMin)||(N.xMin=0),isFinite(N.xMax)||(N.xMax=this.advanceWidth),isFinite(N.yMin)||(N.yMin=0),isFinite(N.yMax)||(N.yMax=0),N.rightSideBearing=this.advanceWidth-N.leftSideBearing-(N.xMax-N.xMin),N},wt.prototype.draw=function(g,w,T,j,D){this.getPath(w,T,j,D).draw(g)},wt.prototype.drawPoints=function(g,w,T,j){function D(we,J,Ve,Fe){var Pe=2*Math.PI;g.beginPath();for(var Ee=0;Ee<we.length;Ee+=1)g.moveTo(J+we[Ee].x*Fe,Ve+we[Ee].y*Fe),g.arc(J+we[Ee].x*Fe,Ve+we[Ee].y*Fe,2,0,Pe,!1);g.closePath(),g.fill()}w=w!==void 0?w:0,T=T!==void 0?T:0,j=j!==void 0?j:24;for(var N=1/this.path.unitsPerEm*j,G=[],q=[],X=this.path,se=0;se<X.commands.length;se+=1){var he=X.commands[se];he.x!==void 0&&G.push({x:he.x,y:-he.y}),he.x1!==void 0&&q.push({x:he.x1,y:-he.y1}),he.x2!==void 0&&q.push({x:he.x2,y:-he.y2})}g.fillStyle="blue",D(G,w,T,N),g.fillStyle="red",D(q,w,T,N)},wt.prototype.drawMetrics=function(g,w,T,j){var D;w=w!==void 0?w:0,T=T!==void 0?T:0,j=j!==void 0?j:24,D=1/this.path.unitsPerEm*j,g.lineWidth=1,g.strokeStyle="black",st.line(g,w,-1e4,w,1e4),st.line(g,-1e4,T,1e4,T);var N=this.xMin||0,G=this.yMin||0,q=this.xMax||0,X=this.yMax||0,se=this.advanceWidth||0;g.strokeStyle="blue",st.line(g,w+N*D,-1e4,w+N*D,1e4),st.line(g,w+q*D,-1e4,w+q*D,1e4),st.line(g,-1e4,T+-G*D,1e4,T+-G*D),st.line(g,-1e4,T+-X*D,1e4,T+-X*D),g.strokeStyle="green",st.line(g,w+se*D,-1e4,w+se*D,1e4)},_t.prototype.get=function(g){return typeof this.glyphs[g]=="function"&&(this.glyphs[g]=this.glyphs[g]()),this.glyphs[g]},_t.prototype.push=function(g,w){this.glyphs[g]=w,this.length++};var Tt={GlyphSet:_t,glyphLoader:function(g,w){return new wt({index:w,font:g})},ttfGlyphLoader:function(g,w,T,j,D,N){return function(){var G=new wt({index:w,font:g});return G.path=function(){T(G,j,D);var q=N(g.glyphs,G);return q.unitsPerEm=g.unitsPerEm,q},jt(G,"xMin","_xMin"),jt(G,"xMax","_xMax"),jt(G,"yMin","_yMin"),jt(G,"yMax","_yMax"),G}},cffGlyphLoader:function(g,w,T,j){return function(){var D=new wt({index:w,font:g});return D.path=function(){var N=T(g,D,j);return N.unitsPerEm=g.unitsPerEm,N},D}}};function Gt(g,w){if(g===w)return!0;if(Array.isArray(g)&&Array.isArray(w)){if(g.length!==w.length)return!1;for(var T=0;T<g.length;T+=1)if(!Gt(g[T],w[T]))return!1;return!0}return!1}function On(g){return g.length<1240?107:g.length<33900?1131:32768}function tn(g,w,T){var j,D,N=[],G=[],q=z.getCard16(g,w);if(q!==0){var X=z.getByte(g,w+2);j=w+(q+1)*X+2;for(var se=w+3,he=0;he<q+1;he+=1)N.push(z.getOffset(g,se,X)),se+=X;D=j+N[q]}else D=w+2;for(var we=0;we<N.length-1;we+=1){var J=z.getBytes(g,j+N[we],j+N[we+1]);T&&(J=T(J)),G.push(J)}return{objects:G,startOffset:w,endOffset:D}}function go(g,w){if(w===28)return g.parseByte()<<8|g.parseByte();if(w===29)return g.parseByte()<<24|g.parseByte()<<16|g.parseByte()<<8|g.parseByte();if(w===30)return function(T){for(var j="",D=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var N=T.parseByte(),G=N>>4,q=15&N;if(G==15||(j+=D[G],q==15))break;j+=D[q]}return parseFloat(j)}(g);if(32<=w&&w<=246)return w-139;if(247<=w&&w<=250)return 256*(w-247)+g.parseByte()+108;if(251<=w&&w<=254)return 256*-(w-251)-g.parseByte()-108;throw new Error("Invalid b0 "+w)}function Wn(g,w,T){w=w!==void 0?w:0;var j=new z.Parser(g,w),D=[],N=[];for(T=T!==void 0?T:g.length;j.relativeOffset<T;){var G=j.parseByte();G<=21?(G===12&&(G=1200+j.parseByte()),D.push([G,N]),N=[]):N.push(go(j,G))}return function(q){for(var X={},se=0;se<q.length;se+=1){var he=q[se][0],we=q[se][1],J=void 0;if(J=we.length===1?we[0]:we,X.hasOwnProperty(he)&&!isNaN(X[he]))throw new Error("Object "+X+" already has key "+he);X[he]=J}return X}(D)}function kn(g,w){return w=w<=390?H[w]:g[w-391]}function vo(g,w,T){for(var j,D={},N=0;N<w.length;N+=1){var G=w[N];if(Array.isArray(G.type)){var q=[];q.length=G.type.length;for(var X=0;X<G.type.length;X++)(j=g[G.op]!==void 0?g[G.op][X]:void 0)===void 0&&(j=G.value!==void 0&&G.value[X]!==void 0?G.value[X]:null),G.type[X]==="SID"&&(j=kn(T,j)),q[X]=j;D[G.name]=q}else(j=g[G.op])===void 0&&(j=G.value!==void 0?G.value:null),G.type==="SID"&&(j=kn(T,j)),D[G.name]=j}return D}var bo=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],wo=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function _o(g,w,T,j){return vo(Wn(g,w,T),wo,j)}function xo(g,w,T,j){for(var D,N,G=[],q=0;q<T.length;q+=1){var X=new DataView(new Uint8Array(T[q]).buffer),se=(N=j,vo(Wn(D=X,0,D.byteLength),bo,N));se._subrs=[],se._subrsBias=0;var he=se.private[0],we=se.private[1];if(he!==0&&we!==0){var J=_o(g,we+w,he,j);if(se._defaultWidthX=J.defaultWidthX,se._nominalWidthX=J.nominalWidthX,J.subrs!==0){var Ve=tn(g,we+J.subrs+w);se._subrs=Ve.objects,se._subrsBias=On(se._subrs)}se._privateDict=J}G.push(se)}return G}function Go(g,w,T){var j,D,N,G,q,X,se,he,we=new ue,J=[],Ve=0,Fe=!1,Pe=!1,Ee=0,ke=0;if(g.isCIDFont){var rt=g.tables.cff.topDict._fdSelect[w.index],tt=g.tables.cff.topDict._fdArray[rt];q=tt._subrs,X=tt._subrsBias,se=tt._defaultWidthX,he=tt._nominalWidthX}else q=g.tables.cff.topDict._subrs,X=g.tables.cff.topDict._subrsBias,se=g.tables.cff.topDict._defaultWidthX,he=g.tables.cff.topDict._nominalWidthX;var kt=se;function ut(pr,Nt){Pe&&we.closePath(),we.moveTo(pr,Nt),Pe=!0}function vt(){J.length%2==0||Fe||(kt=J.shift()+he),Ve+=J.length>>1,J.length=0,Fe=!0}return function pr(Nt){for(var Rt,Ut,Kt,$t,dr,Qt,Xt,hr,er,br,Vt,Tr,or=0;or<Nt.length;){var ar=Nt[or];switch(or+=1,ar){case 1:case 3:vt();break;case 4:1<J.length&&!Fe&&(kt=J.shift()+he,Fe=!0),ke+=J.pop(),ut(Ee,ke);break;case 5:for(;0<J.length;)Ee+=J.shift(),ke+=J.shift(),we.lineTo(Ee,ke);break;case 6:for(;0<J.length&&(Ee+=J.shift(),we.lineTo(Ee,ke),J.length!==0);)ke+=J.shift(),we.lineTo(Ee,ke);break;case 7:for(;0<J.length&&(ke+=J.shift(),we.lineTo(Ee,ke),J.length!==0);)Ee+=J.shift(),we.lineTo(Ee,ke);break;case 8:for(;0<J.length;)j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G+J.shift(),we.curveTo(j,D,N,G,Ee,ke);break;case 10:dr=J.pop()+X,(Qt=q[dr])&&pr(Qt);break;case 11:return;case 12:switch(ar=Nt[or],or+=1,ar){case 35:j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Xt=N+J.shift(),hr=G+J.shift(),er=Xt+J.shift(),br=hr+J.shift(),Vt=er+J.shift(),Tr=br+J.shift(),Ee=Vt+J.shift(),ke=Tr+J.shift(),J.shift(),we.curveTo(j,D,N,G,Xt,hr),we.curveTo(er,br,Vt,Tr,Ee,ke);break;case 34:j=Ee+J.shift(),D=ke,N=j+J.shift(),G=D+J.shift(),Xt=N+J.shift(),hr=G,er=Xt+J.shift(),br=G,Vt=er+J.shift(),Tr=ke,Ee=Vt+J.shift(),we.curveTo(j,D,N,G,Xt,hr),we.curveTo(er,br,Vt,Tr,Ee,ke);break;case 36:j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Xt=N+J.shift(),hr=G,er=Xt+J.shift(),br=G,Vt=er+J.shift(),Tr=br+J.shift(),Ee=Vt+J.shift(),we.curveTo(j,D,N,G,Xt,hr),we.curveTo(er,br,Vt,Tr,Ee,ke);break;case 37:j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Xt=N+J.shift(),hr=G+J.shift(),er=Xt+J.shift(),br=hr+J.shift(),Vt=er+J.shift(),Tr=br+J.shift(),Math.abs(Vt-Ee)>Math.abs(Tr-ke)?Ee=Vt+J.shift():ke=Tr+J.shift(),we.curveTo(j,D,N,G,Xt,hr),we.curveTo(er,br,Vt,Tr,Ee,ke);break;default:console.log("Glyph "+w.index+": unknown operator 1200"+ar),J.length=0}break;case 14:0<J.length&&!Fe&&(kt=J.shift()+he,Fe=!0),Pe&&(we.closePath(),Pe=!1);break;case 18:vt();break;case 19:case 20:vt(),or+=Ve+7>>3;break;case 21:2<J.length&&!Fe&&(kt=J.shift()+he,Fe=!0),ke+=J.pop(),ut(Ee+=J.pop(),ke);break;case 22:1<J.length&&!Fe&&(kt=J.shift()+he,Fe=!0),ut(Ee+=J.pop(),ke);break;case 23:vt();break;case 24:for(;2<J.length;)j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G+J.shift(),we.curveTo(j,D,N,G,Ee,ke);Ee+=J.shift(),ke+=J.shift(),we.lineTo(Ee,ke);break;case 25:for(;6<J.length;)Ee+=J.shift(),ke+=J.shift(),we.lineTo(Ee,ke);j=Ee+J.shift(),D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G+J.shift(),we.curveTo(j,D,N,G,Ee,ke);break;case 26:for(J.length%2&&(Ee+=J.shift());0<J.length;)j=Ee,D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N,ke=G+J.shift(),we.curveTo(j,D,N,G,Ee,ke);break;case 27:for(J.length%2&&(ke+=J.shift());0<J.length;)j=Ee+J.shift(),D=ke,N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G,we.curveTo(j,D,N,G,Ee,ke);break;case 28:Rt=Nt[or],Ut=Nt[or+1],J.push((Rt<<24|Ut<<16)>>16),or+=2;break;case 29:dr=J.pop()+g.gsubrsBias,(Qt=g.gsubrs[dr])&&pr(Qt);break;case 30:for(;0<J.length&&(j=Ee,D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G+(J.length===1?J.shift():0),we.curveTo(j,D,N,G,Ee,ke),J.length!==0);)j=Ee+J.shift(),D=ke,N=j+J.shift(),G=D+J.shift(),ke=G+J.shift(),Ee=N+(J.length===1?J.shift():0),we.curveTo(j,D,N,G,Ee,ke);break;case 31:for(;0<J.length&&(j=Ee+J.shift(),D=ke,N=j+J.shift(),G=D+J.shift(),ke=G+J.shift(),Ee=N+(J.length===1?J.shift():0),we.curveTo(j,D,N,G,Ee,ke),J.length!==0);)j=Ee,D=ke+J.shift(),N=j+J.shift(),G=D+J.shift(),Ee=N+J.shift(),ke=G+(J.length===1?J.shift():0),we.curveTo(j,D,N,G,Ee,ke);break;default:ar<32?console.log("Glyph "+w.index+": unknown operator "+ar):ar<247?J.push(ar-139):ar<251?(Rt=Nt[or],or+=1,J.push(256*(ar-247)+Rt+108)):ar<255?(Rt=Nt[or],or+=1,J.push(256*-(ar-251)-Rt-108)):(Rt=Nt[or],Ut=Nt[or+1],Kt=Nt[or+2],$t=Nt[or+3],or+=4,J.push((Rt<<24|Ut<<16|Kt<<8|$t)/65536))}}}(T),w.advanceWidth=kt,we}function no(g,w){var T,j=H.indexOf(g);return 0<=j&&(T=j),0<=(j=w.indexOf(g))?T=j+H.length:(T=H.length+w.length,w.push(g)),T}function oo(g,w,T){for(var j={},D=0;D<g.length;D+=1){var N=g[D],G=w[N.name];G===void 0||Gt(G,N.value)||(N.type==="SID"&&(G=no(G,T)),j[N.op]={name:N.name,type:N.type,value:G})}return j}function le(g,w){var T=new Be.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return T.dict=oo(bo,g,w),T}function Ie(g){var w=new Be.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return w.topDicts=[{name:"topDict_0",type:"TABLE",value:g}],w}function He(g){var w=[],T=g.path;w.push({name:"width",type:"NUMBER",value:g.advanceWidth});for(var j=0,D=0,N=0;N<T.commands.length;N+=1){var G=void 0,q=void 0,X=T.commands[N];if(X.type==="Q"&&(X={type:"C",x:X.x,y:X.y,x1:1/3*j+2/3*X.x1,y1:1/3*D+2/3*X.y1,x2:1/3*X.x+2/3*X.x1,y2:1/3*X.y+2/3*X.y1}),X.type==="M")G=Math.round(X.x-j),q=Math.round(X.y-D),w.push({name:"dx",type:"NUMBER",value:G}),w.push({name:"dy",type:"NUMBER",value:q}),w.push({name:"rmoveto",type:"OP",value:21}),j=Math.round(X.x),D=Math.round(X.y);else if(X.type==="L")G=Math.round(X.x-j),q=Math.round(X.y-D),w.push({name:"dx",type:"NUMBER",value:G}),w.push({name:"dy",type:"NUMBER",value:q}),w.push({name:"rlineto",type:"OP",value:5}),j=Math.round(X.x),D=Math.round(X.y);else if(X.type==="C"){var se=Math.round(X.x1-j),he=Math.round(X.y1-D),we=Math.round(X.x2-X.x1),J=Math.round(X.y2-X.y1);G=Math.round(X.x-X.x2),q=Math.round(X.y-X.y2),w.push({name:"dx1",type:"NUMBER",value:se}),w.push({name:"dy1",type:"NUMBER",value:he}),w.push({name:"dx2",type:"NUMBER",value:we}),w.push({name:"dy2",type:"NUMBER",value:J}),w.push({name:"dx",type:"NUMBER",value:G}),w.push({name:"dy",type:"NUMBER",value:q}),w.push({name:"rrcurveto",type:"OP",value:8}),j=Math.round(X.x),D=Math.round(X.y)}}return w.push({name:"endchar",type:"OP",value:14}),w}var Ue={parse:function(g,w,T){T.tables.cff={};var j,D,N,G=tn(g,(j=g,D=w,(N={}).formatMajor=z.getCard8(j,D),N.formatMinor=z.getCard8(j,D+1),N.size=z.getCard8(j,D+2),N.offsetSize=z.getCard8(j,D+3),N.startOffset=D,N.endOffset=D+4,N).endOffset,z.bytesToString),q=tn(g,G.endOffset),X=tn(g,q.endOffset,z.bytesToString),se=tn(g,X.endOffset);T.gsubrs=se.objects,T.gsubrsBias=On(T.gsubrs);var he=xo(g,w,q.objects,X.objects);if(he.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+he.length);var we=he[0];if((T.tables.cff.topDict=we)._privateDict&&(T.defaultWidthX=we._privateDict.defaultWidthX,T.nominalWidthX=we._privateDict.nominalWidthX),we.ros[0]!==void 0&&we.ros[1]!==void 0&&(T.isCIDFont=!0),T.isCIDFont){var J=we.fdArray,Ve=we.fdSelect;if(J===0||Ve===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Fe=xo(g,w,tn(g,J+=w).objects,X.objects);we._fdArray=Fe,Ve+=w,we._fdSelect=function(vt,pr,Nt,Rt){var Ut,Kt=[],$t=new z.Parser(vt,pr),dr=$t.parseCard8();if(dr===0)for(var Qt=0;Qt<Nt;Qt++){if(Rt<=(Ut=$t.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ut+" (FD count "+Rt+")");Kt.push(Ut)}else{if(dr!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+dr);var Xt,hr=$t.parseCard16(),er=$t.parseCard16();if(er!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+er);for(var br=0;br<hr;br++){if(Ut=$t.parseCard8(),Xt=$t.parseCard16(),Rt<=Ut)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ut+" (FD count "+Rt+")");if(Nt<Xt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Xt);for(;er<Xt;er++)Kt.push(Ut);er=Xt}if(Xt!==Nt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Xt)}return Kt}(g,Ve,T.numGlyphs,Fe.length)}var Pe=w+we.private[1],Ee=_o(g,Pe,we.private[0],X.objects);if(T.defaultWidthX=Ee.defaultWidthX,T.nominalWidthX=Ee.nominalWidthX,Ee.subrs!==0){var ke=tn(g,Pe+Ee.subrs);T.subrs=ke.objects,T.subrsBias=On(T.subrs)}else T.subrs=[],T.subrsBias=0;var rt=tn(g,w+we.charStrings);T.nGlyphs=rt.objects.length;var tt=function(vt,pr,Nt,Rt){var Ut,Kt,$t=new z.Parser(vt,pr);--Nt;var dr=[".notdef"],Qt=$t.parseCard8();if(Qt===0)for(var Xt=0;Xt<Nt;Xt+=1)Ut=$t.parseSID(),dr.push(kn(Rt,Ut));else if(Qt===1)for(;dr.length<=Nt;){Ut=$t.parseSID(),Kt=$t.parseCard8();for(var hr=0;hr<=Kt;hr+=1)dr.push(kn(Rt,Ut)),Ut+=1}else{if(Qt!==2)throw new Error("Unknown charset format "+Qt);for(;dr.length<=Nt;){Ut=$t.parseSID(),Kt=$t.parseCard16();for(var er=0;er<=Kt;er+=1)dr.push(kn(Rt,Ut)),Ut+=1}}return dr}(g,w+we.charset,T.nGlyphs,X.objects);we.encoding===0?T.cffEncoding=new fe($,tt):we.encoding===1?T.cffEncoding=new fe(ae,tt):T.cffEncoding=function(vt,pr,Nt){var Rt,Ut={},Kt=new z.Parser(vt,pr),$t=Kt.parseCard8();if($t===0)for(var dr=Kt.parseCard8(),Qt=0;Qt<dr;Qt+=1)Ut[Rt=Kt.parseCard8()]=Qt;else{if($t!==1)throw new Error("Unknown encoding format "+$t);var Xt=Kt.parseCard8();Rt=1;for(var hr=0;hr<Xt;hr+=1)for(var er=Kt.parseCard8(),br=Kt.parseCard8(),Vt=er;Vt<=er+br;Vt+=1)Ut[Vt]=Rt,Rt+=1}return new fe(Ut,Nt)}(g,w+we.encoding,tt),T.encoding=T.encoding||T.cffEncoding,T.glyphs=new Tt.GlyphSet(T);for(var kt=0;kt<T.nGlyphs;kt+=1){var ut=rt.objects[kt];T.glyphs.push(kt,Tt.cffGlyphLoader(T,kt,Go,ut))}},make:function(g,w){for(var T,j=new Be.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),D=1/w.unitsPerEm,N={version:w.version,fullName:w.fullName,familyName:w.familyName,weight:w.weightName,fontBBox:w.fontBBox||[0,0,0,0],fontMatrix:[D,0,0,D,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},G=[],q=1;q<g.length;q+=1)T=g.get(q),G.push(T.name);var X=[];j.header=new Be.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),j.nameIndex=function(Fe){var Pe=new Be.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Pe.names=[];for(var Ee=0;Ee<Fe.length;Ee+=1)Pe.names.push({name:"name_"+Ee,type:"NAME",value:Fe[Ee]});return Pe}([w.postScriptName]);var se,he,we,J=le(N,X);j.topDictIndex=Ie(J),j.globalSubrIndex=new Be.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),j.charsets=function(Fe,Pe){for(var Ee=new Be.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ke=0;ke<Fe.length;ke+=1){var rt=no(Fe[ke],Pe);Ee.fields.push({name:"glyph_"+ke,type:"SID",value:rt})}return Ee}(G,X),j.charStringsIndex=function(Fe){for(var Pe=new Be.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Ee=0;Ee<Fe.length;Ee+=1){var ke=Fe.get(Ee),rt=He(ke);Pe.charStrings.push({name:ke.name,type:"CHARSTRING",value:rt})}return Pe}(g),j.privateDict=(se={},he=X,(we=new Be.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=oo(wo,se,he),we),j.stringIndex=function(Fe){var Pe=new Be.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Pe.strings=[];for(var Ee=0;Ee<Fe.length;Ee+=1)Pe.strings.push({name:"string_"+Ee,type:"STRING",value:Fe[Ee]});return Pe}(X);var Ve=j.header.sizeOf()+j.nameIndex.sizeOf()+j.topDictIndex.sizeOf()+j.stringIndex.sizeOf()+j.globalSubrIndex.sizeOf();return N.charset=Ve,N.encoding=0,N.charStrings=N.charset+j.charsets.sizeOf(),N.private[1]=N.charStrings+j.charStringsIndex.sizeOf(),J=le(N,X),j.topDictIndex=Ie(J),j}},et={parse:function(g,w){var T={},j=new z.Parser(g,w);return T.version=j.parseVersion(),T.fontRevision=Math.round(1e3*j.parseFixed())/1e3,T.checkSumAdjustment=j.parseULong(),T.magicNumber=j.parseULong(),ce.argument(T.magicNumber===1594834165,"Font header has wrong magic number."),T.flags=j.parseUShort(),T.unitsPerEm=j.parseUShort(),T.created=j.parseLongDateTime(),T.modified=j.parseLongDateTime(),T.xMin=j.parseShort(),T.yMin=j.parseShort(),T.xMax=j.parseShort(),T.yMax=j.parseShort(),T.macStyle=j.parseUShort(),T.lowestRecPPEM=j.parseUShort(),T.fontDirectionHint=j.parseShort(),T.indexToLocFormat=j.parseShort(),T.glyphDataFormat=j.parseShort(),T},make:function(g){var w=Math.round(new Date().getTime()/1e3)+2082844800,T=w;return g.createdTimestamp&&(T=g.createdTimestamp+2082844800),new Be.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:T},{name:"modified",type:"LONGDATETIME",value:w},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],g)}},Ae={parse:function(g,w){var T={},j=new z.Parser(g,w);return T.version=j.parseVersion(),T.ascender=j.parseShort(),T.descender=j.parseShort(),T.lineGap=j.parseShort(),T.advanceWidthMax=j.parseUShort(),T.minLeftSideBearing=j.parseShort(),T.minRightSideBearing=j.parseShort(),T.xMaxExtent=j.parseShort(),T.caretSlopeRise=j.parseShort(),T.caretSlopeRun=j.parseShort(),T.caretOffset=j.parseShort(),j.relativeOffset+=8,T.metricDataFormat=j.parseShort(),T.numberOfHMetrics=j.parseUShort(),T},make:function(g){return new Be.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],g)}},It={parse:function(g,w,T,j,D){for(var N,G,q=new z.Parser(g,w),X=0;X<j;X+=1){X<T&&(N=q.parseUShort(),G=q.parseShort());var se=D.get(X);se.advanceWidth=N,se.leftSideBearing=G}},make:function(g){for(var w=new Be.Table("hmtx",[]),T=0;T<g.length;T+=1){var j=g.get(T),D=j.advanceWidth||0,N=j.leftSideBearing||0;w.fields.push({name:"advanceWidth_"+T,type:"USHORT",value:D}),w.fields.push({name:"leftSideBearing_"+T,type:"SHORT",value:N})}return w}},Ht={make:function(g){for(var w=new Be.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:g.length}]),T="",j=12+4*g.length,D=0;D<g.length;++D){var N=T.indexOf(g[D]);N<0&&(N=T.length,T+=g[D]),w.fields.push({name:"offset "+D,type:"USHORT",value:j+N}),w.fields.push({name:"length "+D,type:"USHORT",value:g[D].length})}return w.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),w},parse:function(g,w){var T=new z.Parser(g,w),j=T.parseULong();ce.argument(j===1,"Unsupported ltag table version."),T.skip("uLong",1);for(var D=T.parseULong(),N=[],G=0;G<D;G++){for(var q="",X=w+T.parseUShort(),se=T.parseUShort(),he=X;he<X+se;++he)q+=String.fromCharCode(g.getInt8(he));N.push(q)}return N}},Zt={parse:function(g,w){var T={},j=new z.Parser(g,w);return T.version=j.parseVersion(),T.numGlyphs=j.parseUShort(),T.version===1&&(T.maxPoints=j.parseUShort(),T.maxContours=j.parseUShort(),T.maxCompositePoints=j.parseUShort(),T.maxCompositeContours=j.parseUShort(),T.maxZones=j.parseUShort(),T.maxTwilightPoints=j.parseUShort(),T.maxStorage=j.parseUShort(),T.maxFunctionDefs=j.parseUShort(),T.maxInstructionDefs=j.parseUShort(),T.maxStackElements=j.parseUShort(),T.maxSizeOfInstructions=j.parseUShort(),T.maxComponentElements=j.parseUShort(),T.maxComponentDepth=j.parseUShort()),T},make:function(g){return new Be.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:g}])}},Ot=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ke={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},cr={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function pi(g,w,T){switch(g){case 0:if(w===65535)return"und";if(T)return T[w];break;case 1:return Ke[w];case 3:return gt[w]}}var To="utf-16",mi={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},yi={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function gi(g,w,T){switch(g){case 0:return To;case 1:return yi[T]||mi[w];case 3:if(w===1||w===10)return To}}function Vo(g){var w={};for(var T in g)w[g[T]]=parseInt(T);return w}function zo(g,w,T,j,D,N){return new Be.Record("NameRecord",[{name:"platformID",type:"USHORT",value:g},{name:"encodingID",type:"USHORT",value:w},{name:"languageID",type:"USHORT",value:T},{name:"nameID",type:"USHORT",value:j},{name:"length",type:"USHORT",value:D},{name:"offset",type:"USHORT",value:N}])}function Xl(g,w){var T=function(N,G){var q=N.length,X=G.length-q+1;e:for(var se=0;se<X;se++)for(;se<X;se++){for(var he=0;he<q;he++)if(G[se+he]!==N[he])continue e;return se}return-1}(g,w);if(T<0){T=w.length;for(var j=0,D=g.length;j<D;++j)w.push(g[j])}return T}var Zl={parse:function(g,w,T){for(var j={},D=new z.Parser(g,w),N=D.parseUShort(),G=D.parseUShort(),q=D.offset+D.parseUShort(),X=0;X<G;X++){var se=D.parseUShort(),he=D.parseUShort(),we=D.parseUShort(),J=D.parseUShort(),Ve=Ot[J]||J,Fe=D.parseUShort(),Pe=D.parseUShort(),Ee=pi(se,we,T),ke=gi(se,he,we);if(ke!==void 0&&Ee!==void 0){var rt=void 0;if(rt=ke===To?De.UTF16(g,q+Pe,Fe):De.MACSTRING(g,q+Pe,Fe,ke)){var tt=j[Ve];tt===void 0&&(tt=j[Ve]={}),tt[Ee]=rt}}}return N===1&&D.parseUShort(),j},make:function(g,w){var T,j=[],D={},N=Vo(Ot);for(var G in g){var q=N[G];if(q===void 0&&(q=G),T=parseInt(q),isNaN(T))throw new Error('Name table entry "'+G+'" does not exist, see nameTableNames for complete list.');D[T]=g[G],j.push(T)}for(var X=Vo(Ke),se=Vo(gt),he=[],we=[],J=0;J<j.length;J++){var Ve=D[T=j[J]];for(var Fe in Ve){var Pe=Ve[Fe],Ee=1,ke=X[Fe],rt=cr[ke],tt=gi(Ee,rt,ke),kt=ve.MACSTRING(Pe,tt);kt===void 0&&(Ee=0,(ke=w.indexOf(Fe))<0&&(ke=w.length,w.push(Fe)),rt=4,kt=ve.UTF16(Pe));var ut=Xl(kt,we);he.push(zo(Ee,rt,ke,T,kt.length,ut));var vt=se[Fe];if(vt!==void 0){var pr=ve.UTF16(Pe),Nt=Xl(pr,we);he.push(zo(3,1,vt,T,pr.length,Nt))}}}he.sort(function(Kt,$t){return Kt.platformID-$t.platformID||Kt.encodingID-$t.encodingID||Kt.languageID-$t.languageID||Kt.nameID-$t.nameID});for(var Rt=new Be.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:he.length},{name:"stringOffset",type:"USHORT",value:6+12*he.length}]),Ut=0;Ut<he.length;Ut++)Rt.fields.push({name:"record_"+Ut,type:"RECORD",value:he[Ut]});return Rt.fields.push({name:"strings",type:"LITERAL",value:we}),Rt}},pa=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],ma={parse:function(g,w){var T={},j=new z.Parser(g,w);T.version=j.parseUShort(),T.xAvgCharWidth=j.parseShort(),T.usWeightClass=j.parseUShort(),T.usWidthClass=j.parseUShort(),T.fsType=j.parseUShort(),T.ySubscriptXSize=j.parseShort(),T.ySubscriptYSize=j.parseShort(),T.ySubscriptXOffset=j.parseShort(),T.ySubscriptYOffset=j.parseShort(),T.ySuperscriptXSize=j.parseShort(),T.ySuperscriptYSize=j.parseShort(),T.ySuperscriptXOffset=j.parseShort(),T.ySuperscriptYOffset=j.parseShort(),T.yStrikeoutSize=j.parseShort(),T.yStrikeoutPosition=j.parseShort(),T.sFamilyClass=j.parseShort(),T.panose=[];for(var D=0;D<10;D++)T.panose[D]=j.parseByte();return T.ulUnicodeRange1=j.parseULong(),T.ulUnicodeRange2=j.parseULong(),T.ulUnicodeRange3=j.parseULong(),T.ulUnicodeRange4=j.parseULong(),T.achVendID=String.fromCharCode(j.parseByte(),j.parseByte(),j.parseByte(),j.parseByte()),T.fsSelection=j.parseUShort(),T.usFirstCharIndex=j.parseUShort(),T.usLastCharIndex=j.parseUShort(),T.sTypoAscender=j.parseShort(),T.sTypoDescender=j.parseShort(),T.sTypoLineGap=j.parseShort(),T.usWinAscent=j.parseUShort(),T.usWinDescent=j.parseUShort(),1<=T.version&&(T.ulCodePageRange1=j.parseULong(),T.ulCodePageRange2=j.parseULong()),2<=T.version&&(T.sxHeight=j.parseShort(),T.sCapHeight=j.parseShort(),T.usDefaultChar=j.parseUShort(),T.usBreakChar=j.parseUShort(),T.usMaxContent=j.parseUShort()),T},make:function(g){return new Be.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],g)},unicodeRanges:pa,getUnicodeRange:function(g){for(var w=0;w<pa.length;w+=1){var T=pa[w];if(g>=T.begin&&g<T.end)return w}return-1}},Kl={parse:function(g,w){var T={},j=new z.Parser(g,w);switch(T.version=j.parseVersion(),T.italicAngle=j.parseFixed(),T.underlinePosition=j.parseShort(),T.underlineThickness=j.parseShort(),T.isFixedPitch=j.parseULong(),T.minMemType42=j.parseULong(),T.maxMemType42=j.parseULong(),T.minMemType1=j.parseULong(),T.maxMemType1=j.parseULong(),T.version){case 1:T.names=xe.slice();break;case 2:T.numberOfGlyphs=j.parseUShort(),T.glyphNameIndex=new Array(T.numberOfGlyphs);for(var D=0;D<T.numberOfGlyphs;D++)T.glyphNameIndex[D]=j.parseUShort();T.names=[];for(var N=0;N<T.numberOfGlyphs;N++)if(T.glyphNameIndex[N]>=xe.length){var G=j.parseChar();T.names.push(j.parseString(G))}break;case 2.5:T.numberOfGlyphs=j.parseUShort(),T.offset=new Array(T.numberOfGlyphs);for(var q=0;q<T.numberOfGlyphs;q++)T.offset[q]=j.parseChar()}return T},make:function(){return new Be.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Tn=new Array(9);Tn[1]=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),deltaGlyphId:this.parseUShort()}:w===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),substitute:this.parseOffset16List()}:void ce.assert(!1,"0x"+g.toString(16)+": lookup type 1 format must be 1 or 2.")},Tn[2]=function(){var g=this.parseUShort();return ce.argument(g===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(ye.coverage),sequences:this.parseListOfLists()}},Tn[3]=function(){var g=this.parseUShort();return ce.argument(g===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(ye.coverage),alternateSets:this.parseListOfLists()}},Tn[4]=function(){var g=this.parseUShort();return ce.argument(g===1,"GSUB ligature table identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(ye.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Ho={sequenceIndex:ye.uShort,lookupListIndex:ye.uShort};Tn[5]=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();if(w===1)return{substFormat:w,coverage:this.parsePointer(ye.coverage),ruleSets:this.parseListOfLists(function(){var D=this.parseUShort(),N=this.parseUShort();return{input:this.parseUShortList(D-1),lookupRecords:this.parseRecordList(N,Ho)}})};if(w===2)return{substFormat:w,coverage:this.parsePointer(ye.coverage),classDef:this.parsePointer(ye.classDef),classSets:this.parseListOfLists(function(){var D=this.parseUShort(),N=this.parseUShort();return{classes:this.parseUShortList(D-1),lookupRecords:this.parseRecordList(N,Ho)}})};if(w===3){var T=this.parseUShort(),j=this.parseUShort();return{substFormat:w,coverages:this.parseList(T,ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(j,Ho)}}ce.assert(!1,"0x"+g.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Tn[6]=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:w===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),backtrackClassDef:this.parsePointer(ye.classDef),inputClassDef:this.parsePointer(ye.classDef),lookaheadClassDef:this.parsePointer(ye.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:w===3?{substFormat:3,backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),inputCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(Ho)}:void ce.assert(!1,"0x"+g.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Tn[7]=function(){var g=this.parseUShort();ce.argument(g===1,"GSUB Extension Substitution subtable identifier-format must be 1");var w=this.parseUShort(),T=new ye(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:w,extension:Tn[w].call(T)}},Tn[8]=function(){var g=this.parseUShort();return ce.argument(g===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(ye.coverage),backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),substitutes:this.parseUShortList()}};var cs=new Array(9);cs[1]=function(g){return g.substFormat===1?new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(g.coverage)},{name:"deltaGlyphID",type:"USHORT",value:g.deltaGlyphId}]):new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Be.Coverage(g.coverage)}].concat(Be.ushortList("substitute",g.substitute)))},cs[3]=function(g){return ce.assert(g.substFormat===1,"Lookup type 3 substFormat must be 1."),new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(g.coverage)}].concat(Be.tableList("altSet",g.alternateSets,function(w){return new Be.Table("alternateSetTable",Be.ushortList("alternate",w))})))},cs[4]=function(g){return ce.assert(g.substFormat===1,"Lookup type 4 substFormat must be 1."),new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(g.coverage)}].concat(Be.tableList("ligSet",g.ligatureSets,function(w){return new Be.Table("ligatureSetTable",Be.tableList("ligature",w,function(T){return new Be.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:T.ligGlyph}].concat(Be.ushortList("component",T.components,T.components.length+1)))}))})))};var Ql={parse:function(g,w){var T=new ye(g,w=w||0),j=T.parseVersion(1);return ce.argument(j===1||j===1.1,"Unsupported GSUB table version."),j===1?{version:j,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Tn)}:{version:j,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Tn),variations:T.parseFeatureVariationsList()}},make:function(g){return new Be.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Be.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new Be.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new Be.LookupList(g.lookups,cs)}])}},Jl={parse:function(g,w){var T=new z.Parser(g,w),j=T.parseULong();ce.argument(j===1,"Unsupported META table version."),T.parseULong(),T.parseULong();for(var D=T.parseULong(),N={},G=0;G<D;G++){var q=T.parseTag(),X=T.parseULong(),se=T.parseULong(),he=De.UTF8(g,w+X,se);N[q]=he}return N},make:function(g){var w=Object.keys(g).length,T="",j=16+12*w,D=new Be.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:j},{name:"numTags",type:"ULONG",value:w}]);for(var N in g){var G=T.length;T+=g[N],D.fields.push({name:"tag "+N,type:"TAG",value:N}),D.fields.push({name:"offset "+N,type:"ULONG",value:j+G}),D.fields.push({name:"length "+N,type:"ULONG",value:g[N].length})}return D.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),D}};function eu(g){return Math.log(g)/Math.log(2)|0}function ya(g){for(;g.length%4!=0;)g.push(0);for(var w=0,T=0;T<g.length;T+=4)w+=(g[T]<<24)+(g[T+1]<<16)+(g[T+2]<<8)+g[T+3];return w%=Math.pow(2,32)}function tu(g,w,T,j){return new Be.Record("Table Record",[{name:"tag",type:"TAG",value:g!==void 0?g:""},{name:"checkSum",type:"ULONG",value:w!==void 0?w:0},{name:"offset",type:"ULONG",value:T!==void 0?T:0},{name:"length",type:"ULONG",value:j!==void 0?j:0}])}function ru(g){var w=new Be.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);w.tables=g,w.numTables=g.length;var T=Math.pow(2,eu(w.numTables));w.searchRange=16*T,w.entrySelector=eu(T),w.rangeShift=16*w.numTables-w.searchRange;for(var j=[],D=[],N=w.sizeOf()+tu().sizeOf()*w.numTables;N%4!=0;)N+=1,D.push({name:"padding",type:"BYTE",value:0});for(var G=0;G<g.length;G+=1){var q=g[G];ce.argument(q.tableName.length===4,"Table name"+q.tableName+" is invalid.");var X=q.sizeOf(),se=tu(q.tableName,ya(q.encode()),N,X);for(j.push({name:se.tag+" Table Record",type:"RECORD",value:se}),D.push({name:q.tableName+" table",type:"RECORD",value:q}),N+=X,ce.argument(!isNaN(N),"Something went wrong calculating the offset.");N%4!=0;)N+=1,D.push({name:"padding",type:"BYTE",value:0})}return j.sort(function(he,we){return he.value.tag>we.value.tag?1:-1}),w.fields=w.fields.concat(j),w.fields=w.fields.concat(D),w}function nu(g,w,T){for(var j=0;j<w.length;j+=1){var D=g.charToGlyphIndex(w[j]);if(0<D)return g.glyphs.get(D).getMetrics()}return T}var xd={make:ru,fontToTable:function(g){for(var w,T=[],j=[],D=[],N=[],G=[],q=[],X=[],se=0,he=0,we=0,J=0,Ve=0,Fe=0;Fe<g.glyphs.length;Fe+=1){var Pe=g.glyphs.get(Fe),Ee=0|Pe.unicode;if(isNaN(Pe.advanceWidth))throw new Error("Glyph "+Pe.name+" ("+Fe+"): advanceWidth is not a number.");(Ee<w||w===void 0)&&0<Ee&&(w=Ee),se<Ee&&(se=Ee);var ke=ma.getUnicodeRange(Ee);if(ke<32)he|=1<<ke;else if(ke<64)we|=1<<ke-32;else if(ke<96)J|=1<<ke-64;else{if(!(ke<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ve|=1<<ke-96}if(Pe.name!==".notdef"){var rt=Pe.getMetrics();T.push(rt.xMin),j.push(rt.yMin),D.push(rt.xMax),N.push(rt.yMax),q.push(rt.leftSideBearing),X.push(rt.rightSideBearing),G.push(Pe.advanceWidth)}}var tt={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,D),yMax:Math.max.apply(null,N),advanceWidthMax:Math.max.apply(null,G),advanceWidthAvg:function(Yo){for(var Ru=0,Sa=0;Sa<Yo.length;Sa+=1)Ru+=Yo[Sa];return Ru/Yo.length}(G),minLeftSideBearing:Math.min.apply(null,q),maxLeftSideBearing:Math.max.apply(null,q),minRightSideBearing:Math.min.apply(null,X)};tt.ascender=g.ascender,tt.descender=g.descender;var kt=et.make({flags:3,unitsPerEm:g.unitsPerEm,xMin:tt.xMin,yMin:tt.yMin,xMax:tt.xMax,yMax:tt.yMax,lowestRecPPEM:3,createdTimestamp:g.createdTimestamp}),ut=Ae.make({ascender:tt.ascender,descender:tt.descender,advanceWidthMax:tt.advanceWidthMax,minLeftSideBearing:tt.minLeftSideBearing,minRightSideBearing:tt.minRightSideBearing,xMaxExtent:tt.maxLeftSideBearing+(tt.xMax-tt.xMin),numberOfHMetrics:g.glyphs.length}),vt=Zt.make(g.glyphs.length),pr=ma.make({xAvgCharWidth:Math.round(tt.advanceWidthAvg),usWeightClass:g.tables.os2.usWeightClass,usWidthClass:g.tables.os2.usWidthClass,usFirstCharIndex:w,usLastCharIndex:se,ulUnicodeRange1:he,ulUnicodeRange2:we,ulUnicodeRange3:J,ulUnicodeRange4:Ve,fsSelection:g.tables.os2.fsSelection,sTypoAscender:tt.ascender,sTypoDescender:tt.descender,sTypoLineGap:0,usWinAscent:tt.yMax,usWinDescent:Math.abs(tt.yMin),ulCodePageRange1:1,sxHeight:nu(g,"xyvw",{yMax:Math.round(tt.ascender/2)}).yMax,sCapHeight:nu(g,"HIKLEFJMNTZBDPRAGOQSUVWXY",tt).yMax,usDefaultChar:g.hasChar(" ")?32:0,usBreakChar:g.hasChar(" ")?32:0}),Nt=It.make(g.glyphs),Rt=Y.make(g.glyphs),Ut=g.getEnglishName("fontFamily"),Kt=g.getEnglishName("fontSubfamily"),$t=Ut+" "+Kt,dr=g.getEnglishName("postScriptName");dr=dr||Ut.replace(/\s/g,"")+"-"+Kt;var Qt={};for(var Xt in g.names)Qt[Xt]=g.names[Xt];Qt.uniqueID||(Qt.uniqueID={en:g.getEnglishName("manufacturer")+":"+$t}),Qt.postScriptName||(Qt.postScriptName={en:dr}),Qt.preferredFamily||(Qt.preferredFamily=g.names.fontFamily),Qt.preferredSubfamily||(Qt.preferredSubfamily=g.names.fontSubfamily);var hr=[],er=Zl.make(Qt,hr),br=0<hr.length?Ht.make(hr):void 0,Vt=Kl.make(),Tr=Ue.make(g.glyphs,{version:g.getEnglishName("version"),fullName:$t,familyName:Ut,weightName:Kt,postScriptName:dr,unitsPerEm:g.unitsPerEm,fontBBox:[0,tt.yMin,tt.ascender,tt.advanceWidthMax]}),or=g.metas&&0<Object.keys(g.metas).length?Jl.make(g.metas):void 0,ar=[kt,ut,vt,pr,er,Rt,Vt,Tr,Nt];br&&ar.push(br),g.tables.gsub&&ar.push(Ql.make(g.tables.gsub)),or&&ar.push(or);for(var Rn=ru(ar),Wo=ya(Rn.encode()),Eo=Rn.fields,vn=!1,jo=0;jo<Eo.length;jo+=1)if(Eo[jo].name==="head table"){Eo[jo].value.checkSumAdjustment=2981146554-Wo,vn=!0;break}if(!vn)throw new Error("Could not find head table with checkSum to adjust.");return Rn},computeCheckSum:ya};function ga(g,w){for(var T=0,j=g.length-1;T<=j;){var D=T+j>>>1,N=g[D].tag;if(N===w)return D;N<w?T=1+D:j=D-1}return-T-1}function ou(g,w){for(var T=0,j=g.length-1;T<=j;){var D=T+j>>>1,N=g[D];if(N===w)return D;N<w?T=1+D:j=D-1}return-T-1}function iu(g,w){for(var T,j=0,D=g.length-1;j<=D;){var N=j+D>>>1,G=(T=g[N]).start;if(G===w)return T;G<w?j=1+N:D=N-1}if(0<j)return w>(T=g[j-1]).end?0:T}function ds(g,w){this.font=g,this.tableName=w}function hs(g){ds.call(this,g,"gpos")}function Pn(g){ds.call(this,g,"gsub")}function Td(g,w){var T=g.length;if(T!==w.length)return!1;for(var j=0;j<T;j++)if(g[j]!==w[j])return!1;return!0}function su(g,w,T){for(var j=g.subtables,D=0;D<j.length;D++){var N=j[D];if(N.substFormat===w)return N}if(T)return j.push(T),T}function au(g){for(var w=new ArrayBuffer(g.length),T=new Uint8Array(w),j=0;j<g.length;++j)T[j]=g[j];return w}function qo(g,w){if(!g)throw w}function lu(g,w,T,j,D){var N;return N=0<(w&j)?(N=g.parseByte(),(w&D)==0&&(N=-N),T+N):0<(w&D)?T:T+g.parseShort()}function Sd(g,w,T){var j,D,N=new z.Parser(w,T);if(g.numberOfContours=N.parseShort(),g._xMin=N.parseShort(),g._yMin=N.parseShort(),g._xMax=N.parseShort(),g._yMax=N.parseShort(),0<g.numberOfContours){for(var G=g.endPointIndices=[],q=0;q<g.numberOfContours;q+=1)G.push(N.parseUShort());g.instructionLength=N.parseUShort(),g.instructions=[];for(var X=0;X<g.instructionLength;X+=1)g.instructions.push(N.parseByte());var se=G[G.length-1]+1;j=[];for(var he=0;he<se;he+=1)if(D=N.parseByte(),j.push(D),0<(8&D))for(var we=N.parseByte(),J=0;J<we;J+=1)j.push(D),he+=1;if(ce.argument(j.length===se,"Bad flags."),0<G.length){var Ve,Fe=[];if(0<se){for(var Pe=0;Pe<se;Pe+=1)D=j[Pe],(Ve={}).onCurve=!!(1&D),Ve.lastPointOfContour=0<=G.indexOf(Pe),Fe.push(Ve);for(var Ee=0,ke=0;ke<se;ke+=1)D=j[ke],(Ve=Fe[ke]).x=lu(N,D,Ee,2,16),Ee=Ve.x;for(var rt=0,tt=0;tt<se;tt+=1)D=j[tt],(Ve=Fe[tt]).y=lu(N,D,rt,4,32),rt=Ve.y}g.points=Fe}else g.points=[]}else if(g.numberOfContours===0)g.points=[];else{g.isComposite=!0,g.points=[],g.components=[];for(var kt=!0;kt;){j=N.parseUShort();var ut={glyphIndex:N.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&j)?0<(2&j)?(ut.dx=N.parseShort(),ut.dy=N.parseShort()):ut.matchedPoints=[N.parseUShort(),N.parseUShort()]:0<(2&j)?(ut.dx=N.parseChar(),ut.dy=N.parseChar()):ut.matchedPoints=[N.parseByte(),N.parseByte()],0<(8&j)?ut.xScale=ut.yScale=N.parseF2Dot14():0<(64&j)?(ut.xScale=N.parseF2Dot14(),ut.yScale=N.parseF2Dot14()):0<(128&j)&&(ut.xScale=N.parseF2Dot14(),ut.scale01=N.parseF2Dot14(),ut.scale10=N.parseF2Dot14(),ut.yScale=N.parseF2Dot14()),g.components.push(ut),kt=!!(32&j)}if(256&j){g.instructionLength=N.parseUShort(),g.instructions=[];for(var vt=0;vt<g.instructionLength;vt+=1)g.instructions.push(N.parseByte())}}}function va(g,w){for(var T=[],j=0;j<g.length;j+=1){var D=g[j],N={x:w.xScale*D.x+w.scale01*D.y+w.dx,y:w.scale10*D.x+w.yScale*D.y+w.dy,onCurve:D.onCurve,lastPointOfContour:D.lastPointOfContour};T.push(N)}return T}function uu(g){var w=new ue;if(!g)return w;for(var T=function(we){for(var J=[],Ve=[],Fe=0;Fe<we.length;Fe+=1){var Pe=we[Fe];Ve.push(Pe),Pe.lastPointOfContour&&(J.push(Ve),Ve=[])}return ce.argument(Ve.length===0,"There are still points left in the current contour."),J}(g),j=0;j<T.length;++j){var D=T[j],N=null,G=D[D.length-1],q=D[0];if(G.onCurve)w.moveTo(G.x,G.y);else if(q.onCurve)w.moveTo(q.x,q.y);else{var X={x:.5*(G.x+q.x),y:.5*(G.y+q.y)};w.moveTo(X.x,X.y)}for(var se=0;se<D.length;++se)if(N=G,G=q,q=D[(se+1)%D.length],G.onCurve)w.lineTo(G.x,G.y);else{var he=q;N.onCurve||(.5*(G.x+N.x),.5*(G.y+N.y)),q.onCurve||(he={x:.5*(G.x+q.x),y:.5*(G.y+q.y)}),w.quadraticCurveTo(G.x,G.y,he.x,he.y)}w.closePath()}return w}function Ed(g,w){if(w.isComposite)for(var T=0;T<w.components.length;T+=1){var j=w.components[T],D=g.get(j.glyphIndex);if(D.getPath(),D.points){var N=void 0;if(j.matchedPoints===void 0)N=va(D.points,j);else{if(j.matchedPoints[0]>w.points.length-1||j.matchedPoints[1]>D.points.length-1)throw Error("Matched points out of range in "+w.name);var G=w.points[j.matchedPoints[0]],q=D.points[j.matchedPoints[1]],X={xScale:j.xScale,scale01:j.scale01,scale10:j.scale10,yScale:j.yScale,dx:0,dy:0};q=va([q],X)[0],X.dx=G.x-q.x,X.dy=G.y-q.y,N=va(D.points,X)}w.points=w.points.concat(N)}}return uu(w.points)}(hs.prototype=ds.prototype={searchTag:ga,binSearch:ou,getTable:function(g){var w=this.font.tables[this.tableName];return!w&&g&&(w=this.font.tables[this.tableName]=this.createDefaultTable()),w},getScriptNames:function(){var g=this.getTable();return g?g.scripts.map(function(w){return w.tag}):[]},getDefaultScriptName:function(){var g=this.getTable();if(g){for(var w=!1,T=0;T<g.scripts.length;T++){var j=g.scripts[T].tag;if(j==="DFLT")return j;j==="latn"&&(w=!0)}return w?"latn":void 0}},getScriptTable:function(g,w){var T=this.getTable(w);if(T){g=g||"DFLT";var j=T.scripts,D=ga(T.scripts,g);if(0<=D)return j[D].script;if(w){var N={tag:g,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return j.splice(-1-D,0,N),N.script}}},getLangSysTable:function(g,w,T){var j=this.getScriptTable(g,T);if(j){if(!w||w==="dflt"||w==="DFLT")return j.defaultLangSys;var D=ga(j.langSysRecords,w);if(0<=D)return j.langSysRecords[D].langSys;if(T){var N={tag:w,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return j.langSysRecords.splice(-1-D,0,N),N.langSys}}},getFeatureTable:function(g,w,T,j){var D=this.getLangSysTable(g,w,j);if(D){for(var N,G=D.featureIndexes,q=this.font.tables[this.tableName].features,X=0;X<G.length;X++)if((N=q[G[X]]).tag===T)return N.feature;if(j){var se=q.length;return ce.assert(se===0||T>=q[se-1].tag,"Features must be added in alphabetical order."),N={tag:T,feature:{params:0,lookupListIndexes:[]}},q.push(N),G.push(se),N.feature}}},getLookupTables:function(g,w,T,j,D){var N=this.getFeatureTable(g,w,T,D),G=[];if(N){for(var q,X=N.lookupListIndexes,se=this.font.tables[this.tableName].lookups,he=0;he<X.length;he++)(q=se[X[he]]).lookupType===j&&G.push(q);if(G.length===0&&D){q={lookupType:j,lookupFlag:0,subtables:[],markFilteringSet:void 0};var we=se.length;return se.push(q),X.push(we),[q]}}return G},getGlyphClass:function(g,w){switch(g.format){case 1:return g.startGlyph<=w&&w<g.startGlyph+g.classes.length?g.classes[w-g.startGlyph]:0;case 2:var T=iu(g.ranges,w);return T?T.classId:0}},getCoverageIndex:function(g,w){switch(g.format){case 1:var T=ou(g.glyphs,w);return 0<=T?T:-1;case 2:var j=iu(g.ranges,w);return j?j.index+w-j.start:-1}},expandCoverage:function(g){if(g.format===1)return g.glyphs;for(var w=[],T=g.ranges,j=0;j<T.length;j++)for(var D=T[j],N=D.start,G=D.end,q=N;q<=G;q++)w.push(q);return w}}).init=function(){var g=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(g)},hs.prototype.getKerningValue=function(g,w,T){for(var j=0;j<g.length;j++)for(var D=g[j].subtables,N=0;N<D.length;N++){var G=D[N],q=this.getCoverageIndex(G.coverage,w);if(!(q<0))switch(G.posFormat){case 1:for(var X=G.pairSets[q],se=0;se<X.length;se++){var he=X[se];if(he.secondGlyph===T)return he.value1&&he.value1.xAdvance||0}break;case 2:var we=this.getGlyphClass(G.classDef1,w),J=this.getGlyphClass(G.classDef2,T),Ve=G.classRecords[we][J];return Ve.value1&&Ve.value1.xAdvance||0}}return 0},hs.prototype.getKerningTables=function(g,w){if(this.font.tables.gpos)return this.getLookupTables(g,w,"kern",2)},(Pn.prototype=ds.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Pn.prototype.getSingle=function(g,w,T){for(var j=[],D=this.getLookupTables(w,T,g,1),N=0;N<D.length;N++)for(var G=D[N].subtables,q=0;q<G.length;q++){var X=G[q],se=this.expandCoverage(X.coverage),he=void 0;if(X.substFormat===1){var we=X.deltaGlyphId;for(he=0;he<se.length;he++){var J=se[he];j.push({sub:J,by:J+we})}}else{var Ve=X.substitute;for(he=0;he<se.length;he++)j.push({sub:se[he],by:Ve[he]})}}return j},Pn.prototype.getAlternates=function(g,w,T){for(var j=[],D=this.getLookupTables(w,T,g,3),N=0;N<D.length;N++)for(var G=D[N].subtables,q=0;q<G.length;q++)for(var X=G[q],se=this.expandCoverage(X.coverage),he=X.alternateSets,we=0;we<se.length;we++)j.push({sub:se[we],by:he[we]});return j},Pn.prototype.getLigatures=function(g,w,T){for(var j=[],D=this.getLookupTables(w,T,g,4),N=0;N<D.length;N++)for(var G=D[N].subtables,q=0;q<G.length;q++)for(var X=G[q],se=this.expandCoverage(X.coverage),he=X.ligatureSets,we=0;we<se.length;we++)for(var J=se[we],Ve=he[we],Fe=0;Fe<Ve.length;Fe++){var Pe=Ve[Fe];j.push({sub:[J].concat(Pe.components),by:Pe.ligGlyph})}return j},Pn.prototype.addSingle=function(g,w,T,j){var D=su(this.getLookupTables(T,j,g,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ce.assert(D.coverage.format===1,"Ligature: unable to modify coverage table format "+D.coverage.format);var N=w.sub,G=this.binSearch(D.coverage.glyphs,N);G<0&&(G=-1-G,D.coverage.glyphs.splice(G,0,N),D.substitute.splice(G,0,0)),D.substitute[G]=w.by},Pn.prototype.addAlternate=function(g,w,T,j){var D=su(this.getLookupTables(T,j,g,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ce.assert(D.coverage.format===1,"Ligature: unable to modify coverage table format "+D.coverage.format);var N=w.sub,G=this.binSearch(D.coverage.glyphs,N);G<0&&(G=-1-G,D.coverage.glyphs.splice(G,0,N),D.alternateSets.splice(G,0,0)),D.alternateSets[G]=w.by},Pn.prototype.addLigature=function(g,w,T,j){var D=this.getLookupTables(T,j,g,4,!0)[0],N=D.subtables[0];N||(N={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},D.subtables[0]=N),ce.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format);var G=w.sub[0],q=w.sub.slice(1),X={ligGlyph:w.by,components:q},se=this.binSearch(N.coverage.glyphs,G);if(0<=se){for(var he=N.ligatureSets[se],we=0;we<he.length;we++)if(Td(he[we].components,q))return;he.push(X)}else se=-1-se,N.coverage.glyphs.splice(se,0,G),N.ligatureSets.splice(se,0,[X])},Pn.prototype.getFeature=function(g,w,T){if(/ss\d\d/.test(g))return this.getSingle(g,w,T);switch(g){case"aalt":case"salt":return this.getSingle(g,w,T).concat(this.getAlternates(g,w,T));case"dlig":case"liga":case"rlig":return this.getLigatures(g,w,T)}},Pn.prototype.add=function(g,w,T,j){if(/ss\d\d/.test(g))return this.addSingle(g,w,T,j);switch(g){case"aalt":case"salt":return typeof w.by=="number"?this.addSingle(g,w,T,j):this.addAlternate(g,w,T,j);case"dlig":case"liga":case"rlig":return this.addLigature(g,w,T,j)}};var cu,So,du,ba,hu={getPath:uu,parse:function(g,w,T,j){for(var D=new Tt.GlyphSet(j),N=0;N<T.length-1;N+=1){var G=T[N];G!==T[N+1]?D.push(N,Tt.ttfGlyphLoader(j,N,Sd,g,w+G,Ed)):D.push(N,Tt.glyphLoader(j,N))}return D}};function fu(g){this.font=g,this.getCommands=function(w){return hu.getPath(w).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function jd(g){return g}function pu(g){return Math.sign(g)*Math.round(Math.abs(g))}function Md(g){return Math.sign(g)*Math.round(Math.abs(2*g))/2}function Cd(g){return Math.sign(g)*(Math.round(Math.abs(g)+.5)-.5)}function Dd(g){return Math.sign(g)*Math.ceil(Math.abs(g))}function Od(g){return Math.sign(g)*Math.floor(Math.abs(g))}function mu(g){var w=this.srPeriod,T=this.srPhase,j=1;return g<0&&(g=-g,j=-1),g+=this.srThreshold-T,g=Math.trunc(g/w)*w,(g+=T)<0?T*j:g*j}var Ln={x:1,y:0,axis:"x",distance:function(g,w,T,j){return(T?g.xo:g.x)-(j?w.xo:w.x)},interpolate:function(g,w,T,j){var D,N,G,q,X,se,he;if(!j||j===this)return D=g.xo-w.xo,N=g.xo-T.xo,X=w.x-w.xo,se=T.x-T.xo,(he=(G=Math.abs(D))+(q=Math.abs(N)))===0?void(g.x=g.xo+(X+se)/2):void(g.x=g.xo+(X*q+se*G)/he);D=j.distance(g,w,!0,!0),N=j.distance(g,T,!0,!0),X=j.distance(w,w,!1,!0),se=j.distance(T,T,!1,!0),(he=(G=Math.abs(D))+(q=Math.abs(N)))!==0?Ln.setRelative(g,g,(X*q+se*G)/he,j,!0):Ln.setRelative(g,g,(X+se)/2,j,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(g,w,T,j,D){if(j&&j!==this){var N=D?w.xo:w.x,G=D?w.yo:w.y,q=N+T*j.x,X=G+T*j.y;g.x=q+(g.y-X)/j.normalSlope}else g.x=(D?w.xo:w.x)+T},slope:0,touch:function(g){g.xTouched=!0},touched:function(g){return g.xTouched},untouch:function(g){g.xTouched=!1}},Yn={x:0,y:1,axis:"y",distance:function(g,w,T,j){return(T?g.yo:g.y)-(j?w.yo:w.y)},interpolate:function(g,w,T,j){var D,N,G,q,X,se,he;if(!j||j===this)return D=g.yo-w.yo,N=g.yo-T.yo,X=w.y-w.yo,se=T.y-T.yo,(he=(G=Math.abs(D))+(q=Math.abs(N)))===0?void(g.y=g.yo+(X+se)/2):void(g.y=g.yo+(X*q+se*G)/he);D=j.distance(g,w,!0,!0),N=j.distance(g,T,!0,!0),X=j.distance(w,w,!1,!0),se=j.distance(T,T,!1,!0),(he=(G=Math.abs(D))+(q=Math.abs(N)))!==0?Yn.setRelative(g,g,(X*q+se*G)/he,j,!0):Yn.setRelative(g,g,(X+se)/2,j,!0)},normalSlope:0,setRelative:function(g,w,T,j,D){if(j&&j!==this){var N=D?w.xo:w.x,G=D?w.yo:w.y,q=N+T*j.x,X=G+T*j.y;g.y=X+j.normalSlope*(g.x-q)}else g.y=(D?w.yo:w.y)+T},slope:Number.POSITIVE_INFINITY,touch:function(g){g.yTouched=!0},touched:function(g){return g.yTouched},untouch:function(g){g.yTouched=!1}};function vi(g,w){this.x=g,this.y=w,this.axis=void 0,this.slope=w/g,this.normalSlope=-g/w,Object.freeze(this)}function bi(g,w){var T=Math.sqrt(g*g+w*w);return w/=T,(g/=T)===1&&w===0?Ln:g===0&&w===1?Yn:new vi(g,w)}function $n(g,w,T,j){this.x=this.xo=Math.round(64*g)/64,this.y=this.yo=Math.round(64*w)/64,this.lastPointOfContour=T,this.onCurve=j,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Ln),Object.freeze(Yn),vi.prototype.distance=function(g,w,T,j){return this.x*Ln.distance(g,w,T,j)+this.y*Yn.distance(g,w,T,j)},vi.prototype.interpolate=function(g,w,T,j){var D,N,G,q,X,se,he;G=j.distance(g,w,!0,!0),q=j.distance(g,T,!0,!0),D=j.distance(w,w,!1,!0),N=j.distance(T,T,!1,!0),(he=(X=Math.abs(G))+(se=Math.abs(q)))!==0?this.setRelative(g,g,(D*se+N*X)/he,j,!0):this.setRelative(g,g,(D+N)/2,j,!0)},vi.prototype.setRelative=function(g,w,T,j,D){j=j||this;var N=D?w.xo:w.x,G=D?w.yo:w.y,q=N+T*j.x,X=G+T*j.y,se=j.normalSlope,he=this.slope,we=g.x,J=g.y;g.x=(he*we-se*q+X-J)/(he-se),g.y=he*(g.x-we)+J},vi.prototype.touch=function(g){g.xTouched=!0,g.yTouched=!0},$n.prototype.nextTouched=function(g){for(var w=this.nextPointOnContour;!g.touched(w)&&w!==this;)w=w.nextPointOnContour;return w},$n.prototype.prevTouched=function(g){for(var w=this.prevPointOnContour;!g.touched(w)&&w!==this;)w=w.prevPointOnContour;return w};var wi=Object.freeze(new $n(0,0)),kd={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function io(g,w){switch(this.env=g,this.stack=[],this.prog=w,g){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ln,this.round=pu}}function fs(g){for(var w=g.tZone=new Array(g.gZone.length),T=0;T<w.length;T++)w[T]=new $n(0,0)}function yu(g,w){var T,j=g.prog,D=g.ip,N=1;do if((T=j[++D])===88)N++;else if(T===89)N--;else if(T===64)D+=j[D+1]+1;else if(T===65)D+=2*j[D+1]+1;else if(176<=T&&T<=183)D+=T-176+1;else if(184<=T&&T<=191)D+=2*(T-184+1);else if(w&&N===1&&T===27)break;while(0<N);g.ip=D}function gu(g,w){u.DEBUG&&console.log(w.step,"SVTCA["+g.axis+"]"),w.fv=w.pv=w.dpv=g}function vu(g,w){u.DEBUG&&console.log(w.step,"SPVTCA["+g.axis+"]"),w.pv=w.dpv=g}function bu(g,w){u.DEBUG&&console.log(w.step,"SFVTCA["+g.axis+"]"),w.fv=g}function wu(g,w){var T,j,D=w.stack,N=D.pop(),G=D.pop(),q=w.z2[N],X=w.z1[G];u.DEBUG&&console.log("SPVTL["+g+"]",N,G),j=g?(T=q.y-X.y,X.x-q.x):(T=X.x-q.x,X.y-q.y),w.pv=w.dpv=bi(T,j)}function _u(g,w){var T,j,D=w.stack,N=D.pop(),G=D.pop(),q=w.z2[N],X=w.z1[G];u.DEBUG&&console.log("SFVTL["+g+"]",N,G),j=g?(T=q.y-X.y,X.x-q.x):(T=X.x-q.x,X.y-q.y),w.fv=bi(T,j)}function wa(g){u.DEBUG&&console.log(g.step,"POP[]"),g.stack.pop()}function xu(g,w){var T=w.stack.pop(),j=w.z0[T],D=w.fv,N=w.pv;u.DEBUG&&console.log(w.step,"MDAP["+g+"]",T);var G=N.distance(j,wi);g&&(G=w.round(G)),D.setRelative(j,wi,G,N),D.touch(j),w.rp0=w.rp1=T}function Tu(g,w){var T,j,D,N=w.z2,G=N.length-2;u.DEBUG&&console.log(w.step,"IUP["+g.axis+"]");for(var q=0;q<G;q++)T=N[q],g.touched(T)||(j=T.prevTouched(g))!==T&&(j===(D=T.nextTouched(g))&&g.setRelative(T,T,g.distance(j,j,!1,!0),g,!0),g.interpolate(T,j,D,g))}function Su(g,w){for(var T=w.stack,j=g?w.rp1:w.rp2,D=(g?w.z0:w.z1)[j],N=w.fv,G=w.pv,q=w.loop,X=w.z2;q--;){var se=T.pop(),he=X[se],we=G.distance(D,D,!1,!0);N.setRelative(he,he,we,G),N.touch(he),u.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-q)+": ":"")+"SHP["+(g?"rp1":"rp2")+"]",se)}w.loop=1}function Eu(g,w){var T=w.stack,j=g?w.rp1:w.rp2,D=(g?w.z0:w.z1)[j],N=w.fv,G=w.pv,q=T.pop(),X=w.z2[w.contours[q]],se=X;u.DEBUG&&console.log(w.step,"SHC["+g+"]",q);for(var he=G.distance(D,D,!1,!0);se!==D&&N.setRelative(se,se,he,G),(se=se.nextPointOnContour)!==X;);}function ju(g,w){var T,j,D=w.stack,N=g?w.rp1:w.rp2,G=(g?w.z0:w.z1)[N],q=w.fv,X=w.pv,se=D.pop();switch(u.DEBUG&&console.log(w.step,"SHZ["+g+"]",se),se){case 0:T=w.tZone;break;case 1:T=w.gZone;break;default:throw new Error("Invalid zone")}for(var he=X.distance(G,G,!1,!0),we=T.length-2,J=0;J<we;J++)j=T[J],q.setRelative(j,j,he,X)}function Mu(g,w){var T=w.stack,j=T.pop()/64,D=T.pop(),N=w.z1[D],G=w.z0[w.rp0],q=w.fv,X=w.pv;q.setRelative(N,G,j,X),q.touch(N),u.DEBUG&&console.log(w.step,"MSIRP["+g+"]",j,D),w.rp1=w.rp0,w.rp2=D,g&&(w.rp0=D)}function Cu(g,w){var T=w.stack,j=T.pop(),D=T.pop(),N=w.z0[D],G=w.fv,q=w.pv,X=w.cvt[j];u.DEBUG&&console.log(w.step,"MIAP["+g+"]",j,"(",X,")",D);var se=q.distance(N,wi);g&&(Math.abs(se-X)<w.cvCutIn&&(se=X),se=w.round(se)),G.setRelative(N,wi,se,q),w.zp0===0&&(N.xo=N.x,N.yo=N.y),G.touch(N),w.rp0=w.rp1=D}function Du(g,w){var T=w.stack,j=T.pop(),D=w.z2[j];u.DEBUG&&console.log(w.step,"GC["+g+"]",j),T.push(64*w.dpv.distance(D,wi,g,!1))}function Ou(g,w){var T=w.stack,j=T.pop(),D=T.pop(),N=w.z1[j],G=w.z0[D],q=w.dpv.distance(G,N,g,g);u.DEBUG&&console.log(w.step,"MD["+g+"]",j,D,"->",q),w.stack.push(Math.round(64*q))}function _a(g,w){var T=w.stack,j=T.pop(),D=w.fv,N=w.pv,G=w.ppem,q=w.deltaBase+16*(g-1),X=w.deltaShift,se=w.z0;u.DEBUG&&console.log(w.step,"DELTAP["+g+"]",j,T);for(var he=0;he<j;he++){var we=T.pop(),J=T.pop();if(q+((240&J)>>4)===G){var Ve=(15&J)-8;0<=Ve&&Ve++,u.DEBUG&&console.log(w.step,"DELTAPFIX",we,"by",Ve*X);var Fe=se[we];D.setRelative(Fe,Fe,Ve*X,N)}}}function ps(g,w){var T=w.stack,j=T.pop();u.DEBUG&&console.log(w.step,"ROUND[]"),T.push(64*w.round(j/64))}function xa(g,w){var T=w.stack,j=T.pop(),D=w.ppem,N=w.deltaBase+16*(g-1),G=w.deltaShift;u.DEBUG&&console.log(w.step,"DELTAC["+g+"]",j,T);for(var q=0;q<j;q++){var X=T.pop(),se=T.pop();if(N+((240&se)>>4)===D){var he=(15&se)-8;0<=he&&he++;var we=he*G;u.DEBUG&&console.log(w.step,"DELTACFIX",X,"by",we),w.cvt[X]+=we}}}function ku(g,w){var T,j,D=w.stack,N=D.pop(),G=D.pop(),q=w.z2[N],X=w.z1[G];u.DEBUG&&console.log(w.step,"SDPVTL["+g+"]",N,G),j=g?(T=q.y-X.y,X.x-q.x):(T=X.x-q.x,X.y-q.y),w.dpv=bi(T,j)}function so(g,w){var T=w.stack,j=w.prog,D=w.ip;u.DEBUG&&console.log(w.step,"PUSHB["+g+"]");for(var N=0;N<g;N++)T.push(j[++D]);w.ip=D}function ao(g,w){var T=w.ip,j=w.prog,D=w.stack;u.DEBUG&&console.log(w.ip,"PUSHW["+g+"]");for(var N=0;N<g;N++){var G=j[++T]<<8|j[++T];32768&G&&(G=-(1+(65535^G))),D.push(G)}w.ip=T}function it(g,w,T,j,D,N){var G,q,X,se,he=N.stack,we=g&&he.pop(),J=he.pop(),Ve=N.rp0,Fe=N.z0[Ve],Pe=N.z1[J],Ee=N.minDis,ke=N.fv,rt=N.dpv;X=0<=(q=G=rt.distance(Pe,Fe,!0,!0))?1:-1,q=Math.abs(q),g&&(se=N.cvt[we],j&&Math.abs(q-se)<N.cvCutIn&&(q=se)),T&&q<Ee&&(q=Ee),j&&(q=N.round(q)),ke.setRelative(Pe,Fe,X*q,rt),ke.touch(Pe),u.DEBUG&&console.log(N.step,(g?"MIRP[":"MDRP[")+(w?"M":"m")+(T?">":"_")+(j?"R":"_")+(D===0?"Gr":D===1?"Bl":D===2?"Wh":"")+"]",g?we+"("+N.cvt[we]+","+se+")":"",J,"(d =",G,"->",X*q,")"),N.rp1=N.rp0,N.rp2=J,w&&(N.rp0=J)}fu.prototype.exec=function(g,w){if(typeof w!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var T=this.font,j=this._prepState;if(!j||j.ppem!==w){var D=this._fpgmState;if(!D){io.prototype=kd,(D=this._fpgmState=new io("fpgm",T.tables.fpgm)).funcs=[],D.font=T,u.DEBUG&&(console.log("---EXEC FPGM---"),D.step=-1);try{So(D)}catch(se){return console.log("Hinting error in FPGM:"+se),void(this._errorState=3)}}io.prototype=D,(j=this._prepState=new io("prep",T.tables.prep)).ppem=w;var N=T.tables.cvt;if(N)for(var G=j.cvt=new Array(N.length),q=w/T.unitsPerEm,X=0;X<N.length;X++)G[X]=N[X]*q;else j.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),j.step=-1);try{So(j)}catch(se){this._errorState<2&&console.log("Hinting error in PREP:"+se),this._errorState=2}}if(!(1<this._errorState))try{return du(g,j)}catch(se){return this._errorState<1&&(console.log("Hinting error:"+se),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},du=function(g,w){var T,j,D,N=w.ppem/w.font.unitsPerEm,G=N,q=g.components;if(io.prototype=w,q){var X=w.font;j=[],T=[];for(var se=0;se<q.length;se++){var he=q[se],we=X.glyphs.get(he.glyphIndex);D=new io("glyf",we.instructions),u.DEBUG&&(console.log("---EXEC COMP "+se+"---"),D.step=-1),ba(we,D,N,G);for(var J=Math.round(he.dx*N),Ve=Math.round(he.dy*G),Fe=D.gZone,Pe=D.contours,Ee=0;Ee<Fe.length;Ee++){var ke=Fe[Ee];ke.xTouched=ke.yTouched=!1,ke.xo=ke.x=ke.x+J,ke.yo=ke.y=ke.y+Ve}var rt=j.length;j.push.apply(j,Fe);for(var tt=0;tt<Pe.length;tt++)T.push(Pe[tt]+rt)}g.instructions&&!D.inhibitGridFit&&((D=new io("glyf",g.instructions)).gZone=D.z0=D.z1=D.z2=j,D.contours=T,j.push(new $n(0,0),new $n(Math.round(g.advanceWidth*N),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),D.step=-1),So(D),j.length-=2)}else D=new io("glyf",g.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),D.step=-1),ba(g,D,N,G),j=D.gZone;return j},ba=function(g,w,T,j){for(var D,N,G,q=g.points||[],X=q.length,se=w.gZone=w.z0=w.z1=w.z2=[],he=w.contours=[],we=0;we<X;we++)D=q[we],se[we]=new $n(D.x*T,D.y*j,D.lastPointOfContour,D.onCurve);for(var J=0;J<X;J++)D=se[J],N||(N=D,he.push(J)),D.lastPointOfContour?((D.nextPointOnContour=N).prevPointOnContour=D,N=void 0):(G=se[J+1],(D.nextPointOnContour=G).prevPointOnContour=D);if(!w.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",w.stack);for(var Ve=0;Ve<X;Ve++)console.log(Ve,se[Ve].x,se[Ve].y)}if(se.push(new $n(0,0),new $n(Math.round(g.advanceWidth*T),0)),So(w),se.length-=2,u.DEBUG){console.log("FINISHED GLYPH",w.stack);for(var Fe=0;Fe<X;Fe++)console.log(Fe,se[Fe].x,se[Fe].y)}}},So=function(g){var w=g.prog;if(w){var T,j=w.length;for(g.ip=0;g.ip<j;g.ip++){if(u.DEBUG&&g.step++,!(T=cu[w[g.ip]]))throw new Error("unknown instruction: 0x"+Number(w[g.ip]).toString(16));T(g)}}},cu=[gu.bind(void 0,Yn),gu.bind(void 0,Ln),vu.bind(void 0,Yn),vu.bind(void 0,Ln),bu.bind(void 0,Yn),bu.bind(void 0,Ln),wu.bind(void 0,0),wu.bind(void 0,1),_u.bind(void 0,0),_u.bind(void 0,1),function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"SPVFS[]",T,j),g.pv=g.dpv=bi(j,T)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"SPVFS[]",T,j),g.fv=bi(j,T)},function(g){var w=g.stack,T=g.pv;u.DEBUG&&console.log(g.step,"GPV[]"),w.push(16384*T.x),w.push(16384*T.y)},function(g){var w=g.stack,T=g.fv;u.DEBUG&&console.log(g.step,"GFV[]"),w.push(16384*T.x),w.push(16384*T.y)},function(g){g.fv=g.pv,u.DEBUG&&console.log(g.step,"SFVTPV[]")},function(g){var w=g.stack,T=w.pop(),j=w.pop(),D=w.pop(),N=w.pop(),G=w.pop(),q=g.z0,X=g.z1,se=q[T],he=q[j],we=X[D],J=X[N],Ve=g.z2[G];u.DEBUG&&console.log("ISECT[], ",T,j,D,N,G);var Fe=se.x,Pe=se.y,Ee=he.x,ke=he.y,rt=we.x,tt=we.y,kt=J.x,ut=J.y,vt=(Fe-Ee)*(tt-ut)-(Pe-ke)*(rt-kt),pr=Fe*ke-Pe*Ee,Nt=rt*ut-tt*kt;Ve.x=(pr*(rt-kt)-Nt*(Fe-Ee))/vt,Ve.y=(pr*(tt-ut)-Nt*(Pe-ke))/vt},function(g){g.rp0=g.stack.pop(),u.DEBUG&&console.log(g.step,"SRP0[]",g.rp0)},function(g){g.rp1=g.stack.pop(),u.DEBUG&&console.log(g.step,"SRP1[]",g.rp1)},function(g){g.rp2=g.stack.pop(),u.DEBUG&&console.log(g.step,"SRP2[]",g.rp2)},function(g){var w=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"SZP0[]",w),g.zp0=w){case 0:g.tZone||fs(g),g.z0=g.tZone;break;case 1:g.z0=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var w=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"SZP1[]",w),g.zp1=w){case 0:g.tZone||fs(g),g.z1=g.tZone;break;case 1:g.z1=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var w=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"SZP2[]",w),g.zp2=w){case 0:g.tZone||fs(g),g.z2=g.tZone;break;case 1:g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var w=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"SZPS[]",w),g.zp0=g.zp1=g.zp2=w,w){case 0:g.tZone||fs(g),g.z0=g.z1=g.z2=g.tZone;break;case 1:g.z0=g.z1=g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){g.loop=g.stack.pop(),u.DEBUG&&console.log(g.step,"SLOOP[]",g.loop)},function(g){u.DEBUG&&console.log(g.step,"RTG[]"),g.round=pu},function(g){u.DEBUG&&console.log(g.step,"RTHG[]"),g.round=Cd},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SMD[]",w),g.minDis=w/64},function(g){u.DEBUG&&console.log(g.step,"ELSE[]"),yu(g,!1)},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"JMPR[]",w),g.ip+=w-1},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SCVTCI[]",w),g.cvCutIn=w/64},void 0,void 0,function(g){var w=g.stack;u.DEBUG&&console.log(g.step,"DUP[]"),w.push(w[w.length-1])},wa,function(g){u.DEBUG&&console.log(g.step,"CLEAR[]"),g.stack.length=0},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"SWAP[]"),w.push(T),w.push(j)},function(g){var w=g.stack;u.DEBUG&&console.log(g.step,"DEPTH[]"),w.push(w.length)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"CINDEX[]",T),w.push(w[w.length-T])},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"MINDEX[]",T),w.push(w.splice(w.length-T,1)[0])},void 0,void 0,void 0,function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"LOOPCALL[]",T,j);var D=g.ip,N=g.prog;g.prog=g.funcs[T];for(var G=0;G<j;G++)So(g),u.DEBUG&&console.log(++g.step,G+1<j?"next loopcall":"done loopcall",G);g.ip=D,g.prog=N},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"CALL[]",w);var T=g.ip,j=g.prog;g.prog=g.funcs[w],So(g),g.ip=T,g.prog=j,u.DEBUG&&console.log(++g.step,"returning from",w)},function(g){if(g.env!=="fpgm")throw new Error("FDEF not allowed here");var w=g.stack,T=g.prog,j=g.ip,D=w.pop(),N=j;for(u.DEBUG&&console.log(g.step,"FDEF[]",D);T[++j]!==45;);g.ip=j,g.funcs[D]=T.slice(N+1,j)},void 0,xu.bind(void 0,0),xu.bind(void 0,1),Tu.bind(void 0,Yn),Tu.bind(void 0,Ln),Su.bind(void 0,0),Su.bind(void 0,1),Eu.bind(void 0,0),Eu.bind(void 0,1),ju.bind(void 0,0),ju.bind(void 0,1),function(g){for(var w=g.stack,T=g.loop,j=g.fv,D=w.pop()/64,N=g.z2;T--;){var G=w.pop(),q=N[G];u.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-T)+": ":"")+"SHPIX[]",G,D),j.setRelative(q,q,D),j.touch(q)}g.loop=1},function(g){for(var w=g.stack,T=g.rp1,j=g.rp2,D=g.loop,N=g.z0[T],G=g.z1[j],q=g.fv,X=g.dpv,se=g.z2;D--;){var he=w.pop(),we=se[he];u.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-D)+": ":"")+"IP[]",he,T,"<->",j),q.interpolate(we,N,G,X),q.touch(we)}g.loop=1},Mu.bind(void 0,0),Mu.bind(void 0,1),function(g){for(var w=g.stack,T=g.rp0,j=g.z0[T],D=g.loop,N=g.fv,G=g.pv,q=g.z1;D--;){var X=w.pop(),se=q[X];u.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-D)+": ":"")+"ALIGNRP[]",X),N.setRelative(se,j,0,G),N.touch(se)}g.loop=1},function(g){u.DEBUG&&console.log(g.step,"RTDG[]"),g.round=Md},Cu.bind(void 0,0),Cu.bind(void 0,1),function(g){var w=g.prog,T=g.ip,j=g.stack,D=w[++T];u.DEBUG&&console.log(g.step,"NPUSHB[]",D);for(var N=0;N<D;N++)j.push(w[++T]);g.ip=T},function(g){var w=g.ip,T=g.prog,j=g.stack,D=T[++w];u.DEBUG&&console.log(g.step,"NPUSHW[]",D);for(var N=0;N<D;N++){var G=T[++w]<<8|T[++w];32768&G&&(G=-(1+(65535^G))),j.push(G)}g.ip=w},function(g){var w=g.stack,T=g.store;T=T||(g.store=[]);var j=w.pop(),D=w.pop();u.DEBUG&&console.log(g.step,"WS",j,D),T[D]=j},function(g){var w=g.stack,T=g.store,j=w.pop();u.DEBUG&&console.log(g.step,"RS",j);var D=T&&T[j]||0;w.push(D)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"WCVTP",T,j),g.cvt[j]=T/64},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"RCVT",T),w.push(64*g.cvt[T])},Du.bind(void 0,0),Du.bind(void 0,1),void 0,Ou.bind(void 0,0),Ou.bind(void 0,1),function(g){u.DEBUG&&console.log(g.step,"MPPEM[]"),g.stack.push(g.ppem)},void 0,function(g){u.DEBUG&&console.log(g.step,"FLIPON[]"),g.autoFlip=!0},void 0,void 0,function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"LT[]",T,j),w.push(j<T?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"LTEQ[]",T,j),w.push(j<=T?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"GT[]",T,j),w.push(T<j?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"GTEQ[]",T,j),w.push(T<=j?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"EQ[]",T,j),w.push(T===j?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"NEQ[]",T,j),w.push(T!==j?1:0)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"ODD[]",T),w.push(Math.trunc(T)%2?1:0)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"EVEN[]",T),w.push(Math.trunc(T)%2?0:1)},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"IF[]",w),w||(yu(g,!0),u.DEBUG&&console.log(g.step,"EIF[]"))},function(g){u.DEBUG&&console.log(g.step,"EIF[]")},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"AND[]",T,j),w.push(T&&j?1:0)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"OR[]",T,j),w.push(T||j?1:0)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"NOT[]",T),w.push(T?0:1)},_a.bind(void 0,1),function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SDB[]",w),g.deltaBase=w},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SDS[]",w),g.deltaShift=Math.pow(.5,w)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"ADD[]",T,j),w.push(j+T)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"SUB[]",T,j),w.push(j-T)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"DIV[]",T,j),w.push(64*j/T)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"MUL[]",T,j),w.push(j*T/64)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"ABS[]",T),w.push(Math.abs(T))},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"NEG[]",T),w.push(-T)},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"FLOOR[]",T),w.push(64*Math.floor(T/64))},function(g){var w=g.stack,T=w.pop();u.DEBUG&&console.log(g.step,"CEILING[]",T),w.push(64*Math.ceil(T/64))},ps.bind(void 0,0),ps.bind(void 0,1),ps.bind(void 0,2),ps.bind(void 0,3),void 0,void 0,void 0,void 0,function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"WCVTF[]",T,j),g.cvt[j]=T*g.ppem/g.font.unitsPerEm},_a.bind(void 0,2),_a.bind(void 0,3),xa.bind(void 0,1),xa.bind(void 0,2),xa.bind(void 0,3),function(g){var w,T=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"SROUND[]",T),g.round=mu,192&T){case 0:w=.5;break;case 64:w=1;break;case 128:w=2;break;default:throw new Error("invalid SROUND value")}switch(g.srPeriod=w,48&T){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*w;break;case 32:g.srPhase=.5*w;break;case 48:g.srPhase=.75*w;break;default:throw new Error("invalid SROUND value")}T&=15,g.srThreshold=T===0?0:(T/8-.5)*w},function(g){var w,T=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"S45ROUND[]",T),g.round=mu,192&T){case 0:w=Math.sqrt(2)/2;break;case 64:w=Math.sqrt(2);break;case 128:w=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(g.srPeriod=w,48&T){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*w;break;case 32:g.srPhase=.5*w;break;case 48:g.srPhase=.75*w;break;default:throw new Error("invalid S45ROUND value")}T&=15,g.srThreshold=T===0?0:(T/8-.5)*w},void 0,void 0,function(g){u.DEBUG&&console.log(g.step,"ROFF[]"),g.round=jd},void 0,function(g){u.DEBUG&&console.log(g.step,"RUTG[]"),g.round=Dd},function(g){u.DEBUG&&console.log(g.step,"RDTG[]"),g.round=Od},wa,wa,void 0,void 0,void 0,void 0,void 0,function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SCANCTRL[]",w)},ku.bind(void 0,0),ku.bind(void 0,1),function(g){var w=g.stack,T=w.pop(),j=0;u.DEBUG&&console.log(g.step,"GETINFO[]",T),1&T&&(j=35),32&T&&(j|=4096),w.push(j)},void 0,function(g){var w=g.stack,T=w.pop(),j=w.pop(),D=w.pop();u.DEBUG&&console.log(g.step,"ROLL[]"),w.push(j),w.push(T),w.push(D)},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"MAX[]",T,j),w.push(Math.max(j,T))},function(g){var w=g.stack,T=w.pop(),j=w.pop();u.DEBUG&&console.log(g.step,"MIN[]",T,j),w.push(Math.min(j,T))},function(g){var w=g.stack.pop();u.DEBUG&&console.log(g.step,"SCANTYPE[]",w)},function(g){var w=g.stack.pop(),T=g.stack.pop();switch(u.DEBUG&&console.log(g.step,"INSTCTRL[]",w,T),w){case 1:return void(g.inhibitGridFit=!!T);case 2:return void(g.ignoreCvt=!!T);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,so.bind(void 0,1),so.bind(void 0,2),so.bind(void 0,3),so.bind(void 0,4),so.bind(void 0,5),so.bind(void 0,6),so.bind(void 0,7),so.bind(void 0,8),ao.bind(void 0,1),ao.bind(void 0,2),ao.bind(void 0,3),ao.bind(void 0,4),ao.bind(void 0,5),ao.bind(void 0,6),ao.bind(void 0,7),ao.bind(void 0,8),it.bind(void 0,0,0,0,0,0),it.bind(void 0,0,0,0,0,1),it.bind(void 0,0,0,0,0,2),it.bind(void 0,0,0,0,0,3),it.bind(void 0,0,0,0,1,0),it.bind(void 0,0,0,0,1,1),it.bind(void 0,0,0,0,1,2),it.bind(void 0,0,0,0,1,3),it.bind(void 0,0,0,1,0,0),it.bind(void 0,0,0,1,0,1),it.bind(void 0,0,0,1,0,2),it.bind(void 0,0,0,1,0,3),it.bind(void 0,0,0,1,1,0),it.bind(void 0,0,0,1,1,1),it.bind(void 0,0,0,1,1,2),it.bind(void 0,0,0,1,1,3),it.bind(void 0,0,1,0,0,0),it.bind(void 0,0,1,0,0,1),it.bind(void 0,0,1,0,0,2),it.bind(void 0,0,1,0,0,3),it.bind(void 0,0,1,0,1,0),it.bind(void 0,0,1,0,1,1),it.bind(void 0,0,1,0,1,2),it.bind(void 0,0,1,0,1,3),it.bind(void 0,0,1,1,0,0),it.bind(void 0,0,1,1,0,1),it.bind(void 0,0,1,1,0,2),it.bind(void 0,0,1,1,0,3),it.bind(void 0,0,1,1,1,0),it.bind(void 0,0,1,1,1,1),it.bind(void 0,0,1,1,1,2),it.bind(void 0,0,1,1,1,3),it.bind(void 0,1,0,0,0,0),it.bind(void 0,1,0,0,0,1),it.bind(void 0,1,0,0,0,2),it.bind(void 0,1,0,0,0,3),it.bind(void 0,1,0,0,1,0),it.bind(void 0,1,0,0,1,1),it.bind(void 0,1,0,0,1,2),it.bind(void 0,1,0,0,1,3),it.bind(void 0,1,0,1,0,0),it.bind(void 0,1,0,1,0,1),it.bind(void 0,1,0,1,0,2),it.bind(void 0,1,0,1,0,3),it.bind(void 0,1,0,1,1,0),it.bind(void 0,1,0,1,1,1),it.bind(void 0,1,0,1,1,2),it.bind(void 0,1,0,1,1,3),it.bind(void 0,1,1,0,0,0),it.bind(void 0,1,1,0,0,1),it.bind(void 0,1,1,0,0,2),it.bind(void 0,1,1,0,0,3),it.bind(void 0,1,1,0,1,0),it.bind(void 0,1,1,0,1,1),it.bind(void 0,1,1,0,1,2),it.bind(void 0,1,1,0,1,3),it.bind(void 0,1,1,1,0,0),it.bind(void 0,1,1,1,0,1),it.bind(void 0,1,1,1,0,2),it.bind(void 0,1,1,1,0,3),it.bind(void 0,1,1,1,1,0),it.bind(void 0,1,1,1,1,1),it.bind(void 0,1,1,1,1,2),it.bind(void 0,1,1,1,1,3)];var Pd=Array.from||function(g){return g.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function nr(g){(g=g||{}).empty||(qo(g.familyName,"When creating a new Font object, familyName is required."),qo(g.styleName,"When creating a new Font object, styleName is required."),qo(g.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),qo(g.ascender,"When creating a new Font object, ascender is required."),qo(g.descender,"When creating a new Font object, descender is required."),qo(g.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:g.familyName||" "},fontSubfamily:{en:g.styleName||" "},fullName:{en:g.fullName||g.familyName+" "+g.styleName},postScriptName:{en:g.postScriptName||(g.familyName+g.styleName).replace(/\s/g,"")},designer:{en:g.designer||" "},designerURL:{en:g.designerURL||" "},manufacturer:{en:g.manufacturer||" "},manufacturerURL:{en:g.manufacturerURL||" "},license:{en:g.license||" "},licenseURL:{en:g.licenseURL||" "},version:{en:g.version||"Version 0.1"},description:{en:g.description||" "},copyright:{en:g.copyright||" "},trademark:{en:g.trademark||" "}},this.unitsPerEm=g.unitsPerEm||1e3,this.ascender=g.ascender,this.descender=g.descender,this.createdTimestamp=g.createdTimestamp,this.tables={os2:{usWeightClass:g.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:g.widthClass||this.usWidthClasses.MEDIUM,fsSelection:g.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Tt.GlyphSet(this,g.glyphs||[]),this.encoding=new Ce(this),this.position=new hs(this),this.substitution=new Pn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new fu(this):void 0}})}function Pu(g,w){var T=JSON.stringify(g),j=256;for(var D in w){var N=parseInt(D);if(N&&!(N<256)){if(JSON.stringify(w[D])===T)return N;j<=N&&(j=N+1)}}return w[j]=g,j}function Ld(g,w,T,j){for(var D=[{name:"nameID_"+g,type:"USHORT",value:Pu(w.name,j)},{name:"flags_"+g,type:"USHORT",value:0}],N=0;N<T.length;++N){var G=T[N].tag;D.push({name:"axis_"+g+" "+G,type:"FIXED",value:w.coordinates[G]<<16})}return D}function Rd(g,w,T,j){var D={},N=new z.Parser(g,w);D.name=j[N.parseUShort()]||{},N.skip("uShort",1),D.coordinates={};for(var G=0;G<T.length;++G)D.coordinates[T[G].tag]=N.parseFixed();return D}nr.prototype.hasChar=function(g){return this.encoding.charToGlyphIndex(g)!==null},nr.prototype.charToGlyphIndex=function(g){return this.encoding.charToGlyphIndex(g)},nr.prototype.charToGlyph=function(g){var w=this.charToGlyphIndex(g),T=this.glyphs.get(w);return T=T||this.glyphs.get(0)},nr.prototype.stringToGlyphs=function(g,w){w=w||this.defaultRenderOptions;for(var T=Pd(g),j=[],D=0;D<T.length;D+=1){var N=T[D];j.push(this.charToGlyphIndex(N))}var G=j.length;if(w.features){var q=w.script||this.substitution.getDefaultScriptName(),X=[];w.features.liga&&(X=X.concat(this.substitution.getFeature("liga",q,w.language))),w.features.rlig&&(X=X.concat(this.substitution.getFeature("rlig",q,w.language)));for(var se=0;se<G;se+=1)for(var he=0;he<X.length;he++){for(var we=X[he],J=we.sub,Ve=J.length,Fe=0;Fe<Ve&&J[Fe]===j[se+Fe];)Fe++;Fe===Ve&&(j.splice(se,Ve,we.by),G=G-Ve+1)}}for(var Pe=new Array(G),Ee=this.glyphs.get(0),ke=0;ke<G;ke+=1)Pe[ke]=this.glyphs.get(j[ke])||Ee;return Pe},nr.prototype.nameToGlyphIndex=function(g){return this.glyphNames.nameToGlyphIndex(g)},nr.prototype.nameToGlyph=function(g){var w=this.nameToGlyphIndex(g),T=this.glyphs.get(w);return T=T||this.glyphs.get(0)},nr.prototype.glyphIndexToName=function(g){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(g):""},nr.prototype.getKerningValue=function(g,w){g=g.index||g,w=w.index||w;var T=this.position.defaultKerningTables;return T?this.position.getKerningValue(T,g,w):this.kerningPairs[g+","+w]||0},nr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},nr.prototype.forEachGlyph=function(g,w,T,j,D,N){w=w!==void 0?w:0,T=T!==void 0?T:0,j=j!==void 0?j:72,D=D||this.defaultRenderOptions;var G,q=1/this.unitsPerEm*j,X=this.stringToGlyphs(g,D);if(D.kerning){var se=D.script||this.position.getDefaultScriptName();G=this.position.getKerningTables(se,D.language)}for(var he=0;he<X.length;he+=1){var we=X[he];N.call(this,we,w,T,j,D),we.advanceWidth&&(w+=we.advanceWidth*q),D.kerning&&he<X.length-1&&(w+=(G?this.position.getKerningValue(G,we.index,X[he+1].index):this.getKerningValue(we,X[he+1]))*q),D.letterSpacing?w+=D.letterSpacing*j:D.tracking&&(w+=D.tracking/1e3*j)}return w},nr.prototype.getPath=function(g,w,T,j,D){var N=new ue;return this.forEachGlyph(g,w,T,j,D,function(G,q,X,se){var he=G.getPath(q,X,se,D,this);N.extend(he)}),N},nr.prototype.getPaths=function(g,w,T,j,D){var N=[];return this.forEachGlyph(g,w,T,j,D,function(G,q,X,se){var he=G.getPath(q,X,se,D,this);N.push(he)}),N},nr.prototype.getAdvanceWidth=function(g,w,T){return this.forEachGlyph(g,0,0,w,T,function(){})},nr.prototype.draw=function(g,w,T,j,D,N){this.getPath(w,T,j,D,N).draw(g)},nr.prototype.drawPoints=function(g,w,T,j,D,N){this.forEachGlyph(w,T,j,D,N,function(G,q,X,se){G.drawPoints(g,q,X,se)})},nr.prototype.drawMetrics=function(g,w,T,j,D,N){this.forEachGlyph(w,T,j,D,N,function(G,q,X,se){G.drawMetrics(g,q,X,se)})},nr.prototype.getEnglishName=function(g){var w=this.names[g];if(w)return w.en},nr.prototype.validate=function(){var g=this;function w(T){var j=g.getEnglishName(T);j&&j.trim().length}w("fontFamily"),w("weightName"),w("manufacturer"),w("copyright"),w("version"),this.unitsPerEm},nr.prototype.toTables=function(){return xd.fontToTable(this)},nr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},nr.prototype.toArrayBuffer=function(){for(var g=this.toTables().encode(),w=new ArrayBuffer(g.length),T=new Uint8Array(w),j=0;j<g.length;j++)T[j]=g[j];return w},nr.prototype.download=function(g){var w=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily");g=g||w.replace(/\s/g,"")+"-"+T+".otf";var j=this.toArrayBuffer();if(typeof window!="undefined")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,j.byteLength,function(G){G.root.getFile(g,{create:!0},function(q){q.createWriter(function(X){var se=new DataView(j),he=new Blob([se],{type:"font/opentype"});X.write(he),X.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(G){throw new Error(G.name+": "+G.message)});else{var D=e("fs"),N=function(G){for(var q=new h(G.byteLength),X=new Uint8Array(G),se=0;se<q.length;++se)q[se]=X[se];return q}(j);D.writeFileSync(g,N)}},nr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},nr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},nr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ad={make:function(g,w){var T,j,D,N,G=new Be.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:g.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:g.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*g.axes.length}]);G.offsetToData=G.sizeOf();for(var q=0;q<g.axes.length;q++)G.fields=G.fields.concat((T=q,j=g.axes[q],D=w,N=Pu(j.name,D),[{name:"tag_"+T,type:"TAG",value:j.tag},{name:"minValue_"+T,type:"FIXED",value:j.minValue<<16},{name:"defaultValue_"+T,type:"FIXED",value:j.defaultValue<<16},{name:"maxValue_"+T,type:"FIXED",value:j.maxValue<<16},{name:"flags_"+T,type:"USHORT",value:0},{name:"nameID_"+T,type:"USHORT",value:N}]));for(var X=0;X<g.instances.length;X++)G.fields=G.fields.concat(Ld(X,g.instances[X],g.axes,w));return G},parse:function(g,w,T){var j=new z.Parser(g,w),D=j.parseULong();ce.argument(D===65536,"Unsupported fvar table version.");var N=j.parseOffset16();j.skip("uShort",1);for(var G,q,X,se,he,we=j.parseUShort(),J=j.parseUShort(),Ve=j.parseUShort(),Fe=j.parseUShort(),Pe=[],Ee=0;Ee<we;Ee++)Pe.push((G=g,q=w+N+Ee*J,X=T,he=se=void 0,se={},he=new z.Parser(G,q),se.tag=he.parseTag(),se.minValue=he.parseFixed(),se.defaultValue=he.parseFixed(),se.maxValue=he.parseFixed(),he.skip("uShort",1),se.name=X[he.parseUShort()]||{},se));for(var ke=[],rt=w+N+we*J,tt=0;tt<Ve;tt++)ke.push(Rd(g,rt+tt*Fe,Pe,T));return{axes:Pe,instances:ke}}},Sn=new Array(10);Sn[1]=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{posFormat:1,coverage:this.parsePointer(ye.coverage),value:this.parseValueRecord()}:w===2?{posFormat:2,coverage:this.parsePointer(ye.coverage),values:this.parseValueRecordList()}:void ce.assert(!1,"0x"+g.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Sn[2]=function(){var g=this.offset+this.relativeOffset,w=this.parseUShort();ce.assert(w===1||w===2,"0x"+g.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var T=this.parsePointer(ye.coverage),j=this.parseUShort(),D=this.parseUShort();if(w===1)return{posFormat:w,coverage:T,valueFormat1:j,valueFormat2:D,pairSets:this.parseList(ye.pointer(ye.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(j),value2:this.parseValueRecord(D)}})))};if(w===2){var N=this.parsePointer(ye.classDef),G=this.parsePointer(ye.classDef),q=this.parseUShort(),X=this.parseUShort();return{posFormat:w,coverage:T,valueFormat1:j,valueFormat2:D,classDef1:N,classDef2:G,class1Count:q,class2Count:X,classRecords:this.parseList(q,ye.list(X,function(){return{value1:this.parseValueRecord(j),value2:this.parseValueRecord(D)}}))}}},Sn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Sn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Sn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Sn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Sn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Sn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Sn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Id=new Array(10),Nd={parse:function(g,w){var T=new ye(g,w=w||0),j=T.parseVersion(1);return ce.argument(j===1||j===1.1,"Unsupported GPOS table version "+j),j===1?{version:j,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Sn)}:{version:j,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Sn),variations:T.parseFeatureVariationsList()}},make:function(g){return new Be.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Be.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new Be.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new Be.LookupList(g.lookups,Id)}])}},Ud={parse:function(g,w){var T=new z.Parser(g,w),j=T.parseUShort();if(j===0)return function(D){var N={};D.skip("uShort");var G=D.parseUShort();ce.argument(G===0,"Unsupported kern sub-table version."),D.skip("uShort",2);var q=D.parseUShort();D.skip("uShort",3);for(var X=0;X<q;X+=1){var se=D.parseUShort(),he=D.parseUShort(),we=D.parseShort();N[se+","+he]=we}return N}(T);if(j===1)return function(D){var N={};D.skip("uShort"),1<D.parseULong()&&console.warn("Only the first kern subtable is supported."),D.skip("uLong");var G=255&D.parseUShort();if(D.skip("uShort"),G==0){var q=D.parseUShort();D.skip("uShort",3);for(var X=0;X<q;X+=1){var se=D.parseUShort(),he=D.parseUShort(),we=D.parseShort();N[se+","+he]=we}}return N}(T);throw new Error("Unsupported kern table version ("+j+").")}},Fd={parse:function(g,w,T,j){for(var D=new z.Parser(g,w),N=j?D.parseUShort:D.parseULong,G=[],q=0;q<T+1;q+=1){var X=N.call(D);j&&(X*=2),G.push(X)}return G}};function Bd(g,w){e("fs").readFile(g,function(T,j){if(T)return w(T.message);w(null,au(j))})}function Gd(g,w){var T=new XMLHttpRequest;T.open("get",g,!0),T.responseType="arraybuffer",T.onload=function(){return T.response?w(null,T.response):w("Font could not be loaded: "+T.statusText)},T.onerror=function(){w("Font could not be loaded")},T.send()}function Lu(g,w){for(var T=[],j=12,D=0;D<w;D+=1){var N=z.getTag(g,j),G=z.getULong(g,j+4),q=z.getULong(g,j+8),X=z.getULong(g,j+12);T.push({tag:N,checksum:G,offset:q,length:X,compression:!1}),j+=16}return T}function Cr(g,w){if(w.compression!=="WOFF")return{data:g,offset:w.offset};var T=new Uint8Array(g.buffer,w.offset+2,w.compressedLength-2),j=new Uint8Array(w.length);if(Q(T,j),j.byteLength!==w.length)throw new Error("Decompression error: "+w.tag+" decompressed length doesn't match recorded length");return{data:new DataView(j.buffer,0),offset:0}}function Ta(g){var w,T,j,D,N,G,q,X,se,he,we,J,Ve,Fe,Pe=new nr({empty:!0}),Ee=new DataView(g,0),ke=[],rt=z.getTag(Ee,0);if(rt===String.fromCharCode(0,1,0,0)||rt==="true"||rt==="typ1")Pe.outlinesFormat="truetype",ke=Lu(Ee,j=z.getUShort(Ee,4));else if(rt==="OTTO")Pe.outlinesFormat="cff",ke=Lu(Ee,j=z.getUShort(Ee,4));else{if(rt!=="wOFF")throw new Error("Unsupported OpenType signature "+rt);var tt=z.getTag(Ee,4);if(tt===String.fromCharCode(0,1,0,0))Pe.outlinesFormat="truetype";else{if(tt!=="OTTO")throw new Error("Unsupported OpenType flavor "+rt);Pe.outlinesFormat="cff"}ke=function(Vt,Tr){for(var or=[],ar=44,Rn=0;Rn<Tr;Rn+=1){var Wo=z.getTag(Vt,ar),Eo=z.getULong(Vt,ar+4),vn=z.getULong(Vt,ar+8),jo=z.getULong(Vt,ar+12),Yo=void 0;Yo=vn<jo&&"WOFF",or.push({tag:Wo,offset:Eo,compression:Yo,compressedLength:vn,length:jo}),ar+=20}return or}(Ee,j=z.getUShort(Ee,12))}for(var kt=0;kt<j;kt+=1){var ut=ke[kt],vt=void 0;switch(ut.tag){case"cmap":vt=Cr(Ee,ut),Pe.tables.cmap=Y.parse(vt.data,vt.offset),Pe.encoding=new Ne(Pe.tables.cmap);break;case"cvt ":vt=Cr(Ee,ut),Fe=new z.Parser(vt.data,vt.offset),Pe.tables.cvt=Fe.parseShortList(ut.length/2);break;case"fvar":N=ut;break;case"fpgm":vt=Cr(Ee,ut),Fe=new z.Parser(vt.data,vt.offset),Pe.tables.fpgm=Fe.parseByteList(ut.length);break;case"head":vt=Cr(Ee,ut),Pe.tables.head=et.parse(vt.data,vt.offset),Pe.unitsPerEm=Pe.tables.head.unitsPerEm,w=Pe.tables.head.indexToLocFormat;break;case"hhea":vt=Cr(Ee,ut),Pe.tables.hhea=Ae.parse(vt.data,vt.offset),Pe.ascender=Pe.tables.hhea.ascender,Pe.descender=Pe.tables.hhea.descender,Pe.numberOfHMetrics=Pe.tables.hhea.numberOfHMetrics;break;case"hmtx":se=ut;break;case"ltag":vt=Cr(Ee,ut),T=Ht.parse(vt.data,vt.offset);break;case"maxp":vt=Cr(Ee,ut),Pe.tables.maxp=Zt.parse(vt.data,vt.offset),Pe.numGlyphs=Pe.tables.maxp.numGlyphs;break;case"name":J=ut;break;case"OS/2":vt=Cr(Ee,ut),Pe.tables.os2=ma.parse(vt.data,vt.offset);break;case"post":vt=Cr(Ee,ut),Pe.tables.post=Kl.parse(vt.data,vt.offset),Pe.glyphNames=new ze(Pe.tables.post);break;case"prep":vt=Cr(Ee,ut),Fe=new z.Parser(vt.data,vt.offset),Pe.tables.prep=Fe.parseByteList(ut.length);break;case"glyf":G=ut;break;case"loca":we=ut;break;case"CFF ":D=ut;break;case"kern":he=ut;break;case"GPOS":q=ut;break;case"GSUB":X=ut;break;case"meta":Ve=ut}}var pr=Cr(Ee,J);if(Pe.tables.name=Zl.parse(pr.data,pr.offset,T),Pe.names=Pe.tables.name,G&&we){var Nt=w===0,Rt=Cr(Ee,we),Ut=Fd.parse(Rt.data,Rt.offset,Pe.numGlyphs,Nt),Kt=Cr(Ee,G);Pe.glyphs=hu.parse(Kt.data,Kt.offset,Ut,Pe)}else{if(!D)throw new Error("Font doesn't contain TrueType or CFF outlines.");var $t=Cr(Ee,D);Ue.parse($t.data,$t.offset,Pe)}var dr=Cr(Ee,se);if(It.parse(dr.data,dr.offset,Pe.numberOfHMetrics,Pe.numGlyphs,Pe.glyphs),function(Vt){for(var Tr,or=Vt.tables.cmap.glyphIndexMap,ar=Object.keys(or),Rn=0;Rn<ar.length;Rn+=1){var Wo=ar[Rn],Eo=or[Wo];(Tr=Vt.glyphs.get(Eo)).addUnicode(parseInt(Wo))}for(var vn=0;vn<Vt.glyphs.length;vn+=1)Tr=Vt.glyphs.get(vn),Vt.cffEncoding?Vt.isCIDFont?Tr.name="gid"+vn:Tr.name=Vt.cffEncoding.charset[vn]:Vt.glyphNames.names&&(Tr.name=Vt.glyphNames.glyphIndexToName(vn))}(Pe),he){var Qt=Cr(Ee,he);Pe.kerningPairs=Ud.parse(Qt.data,Qt.offset)}else Pe.kerningPairs={};if(q){var Xt=Cr(Ee,q);Pe.tables.gpos=Nd.parse(Xt.data,Xt.offset),Pe.position.init()}if(X){var hr=Cr(Ee,X);Pe.tables.gsub=Ql.parse(hr.data,hr.offset)}if(N){var er=Cr(Ee,N);Pe.tables.fvar=Ad.parse(er.data,er.offset,Pe.names)}if(Ve){var br=Cr(Ee,Ve);Pe.tables.meta=Jl.parse(br.data,br.offset),Pe.metas=Pe.tables.meta}return Pe}u.Font=nr,u.Glyph=wt,u.Path=ue,u.BoundingBox=ee,u._parse=z,u.parse=Ta,u.load=function(g,w){(typeof window=="undefined"?Bd:Gd)(g,function(T,j){if(T)return w(T);var D;try{D=Ta(j)}catch(N){return w(N,null)}return w(null,D)})},u.loadSync=function(g){return Ta(au(e("fs").readFileSync(g)))},Object.defineProperty(u,"__esModule",{value:!0})},c(typeof p=="object"&&y!==void 0?p:t.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,y,p){(function(h){function t(d,l){for(var n=0,r=d.length-1;0<=r;r--){var o=d[r];o==="."?d.splice(r,1):o===".."?(d.splice(r,1),n++):n&&(d.splice(r,1),n--)}if(l)for(;n--;)d.unshift("..");return d}function c(d,l){if(d.filter)return d.filter(l);for(var n=[],r=0;r<d.length;r++)l(d[r],r,d)&&n.push(d[r]);return n}p.resolve=function(){for(var d="",l=!1,n=arguments.length-1;-1<=n&&!l;n--){var r=0<=n?arguments[n]:h.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(d=r+"/"+d,l=r.charAt(0)==="/")}return(l?"/":"")+(d=t(c(d.split("/"),function(o){return!!o}),!l).join("/"))||"."},p.normalize=function(d){var l=p.isAbsolute(d),n=u(d,-1)==="/";return(d=t(c(d.split("/"),function(r){return!!r}),!l).join("/"))||l||(d="."),d&&n&&(d+="/"),(l?"/":"")+d},p.isAbsolute=function(d){return d.charAt(0)==="/"},p.join=function(){var d=Array.prototype.slice.call(arguments,0);return p.normalize(c(d,function(l,n){if(typeof l!="string")throw new TypeError("Arguments to path.join must be strings");return l}).join("/"))},p.relative=function(d,l){function n(b){for(var x=0;x<b.length&&b[x]==="";x++);for(var S=b.length-1;0<=S&&b[S]==="";S--);return S<x?[]:b.slice(x,S-x+1)}d=p.resolve(d).substr(1),l=p.resolve(l).substr(1);for(var r=n(d.split("/")),o=n(l.split("/")),i=Math.min(r.length,o.length),a=i,m=0;m<i;m++)if(r[m]!==o[m]){a=m;break}var v=[];for(m=a;m<r.length;m++)v.push("..");return(v=v.concat(o.slice(a))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(d){if(typeof d!="string"&&(d+=""),d.length===0)return".";for(var l=d.charCodeAt(0),n=l===47,r=-1,o=!0,i=d.length-1;1<=i;--i)if((l=d.charCodeAt(i))===47){if(!o){r=i;break}}else o=!1;return r===-1?n?"/":".":n&&r===1?"/":d.slice(0,r)},p.basename=function(d,l){var n=function(r){typeof r!="string"&&(r+="");var o,i=0,a=-1,m=!0;for(o=r.length-1;0<=o;--o)if(r.charCodeAt(o)===47){if(!m){i=o+1;break}}else a===-1&&(m=!1,a=o+1);return a===-1?"":r.slice(i,a)}(d);return l&&n.substr(-1*l.length)===l&&(n=n.substr(0,n.length-l.length)),n},p.extname=function(d){typeof d!="string"&&(d+="");for(var l=-1,n=0,r=-1,o=!0,i=0,a=d.length-1;0<=a;--a){var m=d.charCodeAt(a);if(m===47){if(o)continue;n=a+1;break}r===-1&&(o=!1,r=a+1),m===46?l===-1?l=a:i!==1&&(i=1):l!==-1&&(i=-1)}return l===-1||r===-1||i===0||i===1&&l===r-1&&l===n+1?"":d.slice(l,r)};var u="ab".substr(-1)==="b"?function(d,l,n){return d.substr(l,n)}:function(d,l,n){return l<0&&(l=d.length+l),d.substr(l,n)}}).call(this,e("_process"))},{_process:241}],241:[function(e,y,p){var h,t,c=y.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function l(x){if(h===setTimeout)return setTimeout(x,0);if((h===u||!h)&&setTimeout)return h=setTimeout,setTimeout(x,0);try{return h(x,0)}catch{try{return h.call(null,x,0)}catch{return h.call(this,x,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:u}catch{h=u}try{t=typeof clearTimeout=="function"?clearTimeout:d}catch{t=d}})();var n,r=[],o=!1,i=-1;function a(){o&&n&&(o=!1,n.length?r=n.concat(r):i=-1,r.length&&m())}function m(){if(!o){var x=l(a);o=!0;for(var S=r.length;S;){for(n=r,r=[];++i<S;)n&&n[i].run();i=-1,S=r.length}n=null,o=!1,function(M){if(t===clearTimeout)return clearTimeout(M);if((t===d||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(M);try{t(M)}catch{try{return t.call(null,M)}catch{return t.call(this,M)}}}(x)}}function v(x,S){this.fun=x,this.array=S}function b(){}c.nextTick=function(x){var S=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)S[M-1]=arguments[M];r.push(new v(x,S)),r.length!==1||o||l(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=b,c.addListener=b,c.once=b,c.off=b,c.removeListener=b,c.removeAllListeners=b,c.emit=b,c.prependListener=b,c.prependOnceListener=b,c.listeners=function(x){return[]},c.binding=function(x){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(x){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],242:[function(e,y,p){(function(h){if(!h.fetch){var t="URLSearchParams"in h,c="Symbol"in h&&"iterator"in Symbol,u="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in h,l="ArrayBuffer"in h;if(l)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(A){return A&&DataView.prototype.isPrototypeOf(A)},o=ArrayBuffer.isView||function(A){return A&&-1<n.indexOf(Object.prototype.toString.call(A))};x.prototype.append=function(A,B){A=m(A),B=v(B);var F=this.map[A];this.map[A]=F?F+","+B:B},x.prototype.delete=function(A){delete this.map[m(A)]},x.prototype.get=function(A){return A=m(A),this.has(A)?this.map[A]:null},x.prototype.has=function(A){return this.map.hasOwnProperty(m(A))},x.prototype.set=function(A,B){this.map[m(A)]=v(B)},x.prototype.forEach=function(A,B){for(var F in this.map)this.map.hasOwnProperty(F)&&A.call(B,this.map[F],F,this)},x.prototype.keys=function(){var A=[];return this.forEach(function(B,F){A.push(F)}),b(A)},x.prototype.values=function(){var A=[];return this.forEach(function(B){A.push(B)}),b(A)},x.prototype.entries=function(){var A=[];return this.forEach(function(B,F){A.push([F,B])}),b(A)},c&&(x.prototype[Symbol.iterator]=x.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},R.call(P.prototype),R.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},U.error=function(){var A=new U(null,{status:0,statusText:""});return A.type="error",A};var a=[301,302,303,307,308];U.redirect=function(A,B){if(a.indexOf(B)===-1)throw new RangeError("Invalid status code");return new U(null,{status:B,headers:{location:A}})},h.Headers=x,h.Request=P,h.Response=U,h.fetch=function(A,B){return new Promise(function(F,K){var re=new P(A,B),Q=new XMLHttpRequest;Q.onload=function(){var ne,ee,ue={status:Q.status,statusText:Q.statusText,headers:(ne=Q.getAllResponseHeaders()||"",ee=new x,ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(_e){var ce=_e.split(":"),De=ce.shift().trim();if(De){var ve=ce.join(":").trim();ee.append(De,ve)}}),ee)};ue.url="responseURL"in Q?Q.responseURL:ue.headers.get("X-Request-URL");var pe="response"in Q?Q.response:Q.responseText;F(new U(pe,ue))},Q.onerror=function(){K(new TypeError("Network request failed"))},Q.ontimeout=function(){K(new TypeError("Network request failed"))},Q.open(re.method,re.url,!0),re.credentials==="include"?Q.withCredentials=!0:re.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&u&&(Q.responseType="blob"),re.headers.forEach(function(ne,ee){Q.setRequestHeader(ee,ne)}),Q.send(re._bodyInit===void 0?null:re._bodyInit)})},h.fetch.polyfill=!0}function m(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(A))throw new TypeError("Invalid character in header field name");return A.toLowerCase()}function v(A){return typeof A!="string"&&(A=String(A)),A}function b(A){var B={next:function(){var F=A.shift();return{done:F===void 0,value:F}}};return c&&(B[Symbol.iterator]=function(){return B}),B}function x(A){this.map={},A instanceof x?A.forEach(function(B,F){this.append(F,B)},this):Array.isArray(A)?A.forEach(function(B){this.append(B[0],B[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(B){this.append(B,A[B])},this)}function S(A){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}function M(A){return new Promise(function(B,F){A.onload=function(){B(A.result)},A.onerror=function(){F(A.error)}})}function C(A){var B=new FileReader,F=M(B);return B.readAsArrayBuffer(A),F}function O(A){if(A.slice)return A.slice(0);var B=new Uint8Array(A.byteLength);return B.set(new Uint8Array(A)),B.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(A){if(this._bodyInit=A)if(typeof A=="string")this._bodyText=A;else if(u&&Blob.prototype.isPrototypeOf(A))this._bodyBlob=A;else if(d&&FormData.prototype.isPrototypeOf(A))this._bodyFormData=A;else if(t&&URLSearchParams.prototype.isPrototypeOf(A))this._bodyText=A.toString();else if(l&&u&&r(A))this._bodyArrayBuffer=O(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!l||!ArrayBuffer.prototype.isPrototypeOf(A)&&!o(A))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(A)}else this._bodyText="";this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var A=S(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var A,B,F,K=S(this);if(K)return K;if(this._bodyBlob)return A=this._bodyBlob,B=new FileReader,F=M(B),B.readAsText(A),F;if(this._bodyArrayBuffer)return Promise.resolve(function(re){for(var Q=new Uint8Array(re),ne=new Array(Q.length),ee=0;ee<Q.length;ee++)ne[ee]=String.fromCharCode(Q[ee]);return ne.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(A,B){var F,K,re=(B=B||{}).body;if(A instanceof P){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,B.headers||(this.headers=new x(A.headers)),this.method=A.method,this.mode=A.mode,re||A._bodyInit==null||(re=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=B.credentials||this.credentials||"omit",!B.headers&&this.headers||(this.headers=new x(B.headers)),this.method=(F=B.method||this.method||"GET",K=F.toUpperCase(),-1<i.indexOf(K)?K:F),this.mode=B.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&re)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(re)}function L(A){var B=new FormData;return A.trim().split("&").forEach(function(F){if(F){var K=F.split("="),re=K.shift().replace(/\+/g," "),Q=K.join("=").replace(/\+/g," ");B.append(decodeURIComponent(re),decodeURIComponent(Q))}}),B}function U(A,B){B=B||{},this.type="default",this.status=B.status===void 0?200:B.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new x(B.headers),this.url=B.url||"",this._initBody(A)}})(typeof self!="undefined"?self:this)},{}],243:[function(e,y,p){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=u(e("../core/main")),c=u(e("../color/color_conversion"));function u(r){return r&&r.__esModule?r:{default:r}}var d=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];t.default.prototype._rgbColorName=function(r){var o=c.default._rgbaToHSBA(r);return function(i){var a;if(i[0]!==0){i[0]=Math.round(100*i[0]);var m=i[0].toString().split(""),v=m.length-1;m[v]=parseInt(m[v]),m[v]<2.5?m[v]=0:2.5<=m[v]&&m[v]<7.5&&(m[v]=5),m.length===2?(m[0]=parseInt(m[0]),7.5<=m[v]&&(m[v]=0,m[0]=m[0]+1),i[0]=10*m[0]+m[1]):7.5<=m[v]?i[0]=10:i[0]=m[v]}i[2]=i[2]/255;for(var b=i.length-1;1<=b;b--)i[b]<=.25?i[b]=0:.25<i[b]&&i[b]<.75?i[b]=.5:i[b]=1;if(i[0]===0&&i[1]===0&&i[2]===1){for(var x=2;0<=x;x--)h[x]=Math.round(1e4*h[x])/1e4;for(var S=0;S<d.length;S++){if(d[S].h===h[0]&&d[S].s===h[1]&&d[S].b===h[2]){a=d[S].name;break}a="white"}}else for(var M=0;M<l.length;M++)if(l[M].h===i[0]&&l[M].s===i[1]&&l[M].b===i[2]){a=l[M].name;break}return a}([(h=o)[0],o[1],o[2]])};var n=t.default;p.default=n},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},c="_Description",u="_fallbackDesc",d="_fallbackTable",l="_Label",n="_labelDesc",r="_labelTable";function o(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}t.default.prototype.describe=function(a,m){if(t.default._validateParameters("describe",arguments),typeof a=="string"){var v=this.canvas.id;a=o(a),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),m===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a))}},t.default.prototype.describeElement=function(a,m,v){if(t.default._validateParameters("describeElement",arguments),typeof m=="string"&&typeof a=="string"){var b=this.canvas.id;m=o(m);var x=function(M){if(M==="label"||M==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return M.endsWith(".")||M.endsWith(";")||M.endsWith(",")?M=M.replace(/.$/,":"):M.endsWith(":")||(M+=":"),M}(a);a=a.replace(/[^a-zA-Z0-9]/g,"");var S='<th scope="row">'.concat(x,"</th><td>").concat(m,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==S&&(this.descriptions.fallbackElements[a].innerHTML=S):this._describeElementHTML("fallback",a,S),v===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==S&&(this.descriptions.labelElements[a].innerHTML=S):this._describeElementHTML("label",a,S))}},t.default.prototype._describeHTML=function(a,m){var v=this.canvas.id;if(a==="fallback"){if(this.dummyDOM.querySelector("#".concat(v+c)))this.dummyDOM.querySelector("#"+v+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(v+u,'"></p>'));else{var b='<div id="'.concat(v).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(v).concat(u,'"></p></div>');this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#".concat(v)).innerHTML=b}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(v).concat(u)),void(this.descriptions.fallback.innerHTML=m)}if(a==="label"){if(this.dummyDOM.querySelector("#".concat(v+l)))this.dummyDOM.querySelector("#".concat(v+r))&&this.dummyDOM.querySelector("#".concat(v+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(v).concat(n,'"></p>'));else{var x='<div id="'.concat(v).concat(l,'" class="p5Label"><p id="').concat(v).concat(n,'"></p></div>');this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",x)}return this.descriptions.label=this.dummyDOM.querySelector("#"+v+n),void(this.descriptions.label.innerHTML=m)}},t.default.prototype._describeElementHTML=function(a,m,v){var b=this.canvas.id;if(a==="fallback"){if(this.dummyDOM.querySelector("#".concat(b+c)))this.dummyDOM.querySelector("#"+b+d)||this.dummyDOM.querySelector("#"+b+u).insertAdjacentHTML("afterend",'<table id="'.concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var x='<div id="'.concat(b).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(b,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#"+b).innerHTML=x}var S=document.createElement("tr");return S.id=b+"_fte_"+m,this.dummyDOM.querySelector("#"+b+d).appendChild(S),this.descriptions.fallbackElements[m]=this.dummyDOM.querySelector("#".concat(b).concat("_fte_").concat(m)),void(this.descriptions.fallbackElements[m].innerHTML=v)}if(a==="label"){if(this.dummyDOM.querySelector("#".concat(b+l)))this.dummyDOM.querySelector("#".concat(b+r))||this.dummyDOM.querySelector("#"+b+n).insertAdjacentHTML("afterend",'<table id="'.concat(b+r,'"></table>'));else{var M='<div id="'.concat(b).concat(l,'" class="p5Label"><table id="').concat(b).concat(r,'"></table></div>');this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",M):this.dummyDOM.querySelector("#"+b).insertAdjacentHTML("afterend",M)}var C=document.createElement("tr");C.id=b+"_lte_"+m,this.dummyDOM.querySelector("#"+b+r).appendChild(C),this.descriptions.labelElements[m]=this.dummyDOM.querySelector("#".concat(b).concat("_lte_").concat(m)),this.descriptions.labelElements[m].innerHTML=v}};var i=t.default;p.default=i},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype._updateGridOutput=function(u){if(this.dummyDOM.querySelector("#".concat(u,"_summary"))){var d=this._accessibleOutputs[u],l=function(o,i){var a="",m="",v=0;for(var b in i){var x=0;for(var S in i[b]){var M='<li id="'.concat(o,"shape").concat(v,'">').concat(i[b][S].color," ").concat(b,",");b==="line"?M+=" location = ".concat(i[b][S].pos,", length = ").concat(i[b][S].length," pixels"):(M+=" location = ".concat(i[b][S].pos),b!=="point"&&(M+=", area = ".concat(i[b][S].area," %")),M+="</li>"),a+=M,x++,v++}m=1<x?"".concat(m," ").concat(x," ").concat(b,"s"):"".concat(m," ").concat(x," ").concat(b)}return{numShapes:[v,m],details:a}}(u,this.ingredients.shapes),n=function(o,i,a,m){var v="".concat(i," canvas, ").concat(a," by ").concat(m," pixels, contains ").concat(o[0]);return v=o[0]===1?"".concat(v," shape: ").concat(o[1]):"".concat(v," shapes: ").concat(o[1]),v}(l.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(o,i){var a=0,m="",v=Array.apply(null,Array(10)).map(function(){});for(var b in v)v[b]=Array.apply(null,Array(10)).map(function(){});for(var x in i)for(var S in i[x]){var M=void 0;M=x!=="line"?'<a href="#'.concat(o,"shape").concat(a,'">').concat(i[x][S].color," ").concat(x,"</a>"):'<a href="#'.concat(o,"shape").concat(a,'">').concat(i[x][S].color," ").concat(x," midpoint</a>"),v[i[x][S].loc.locY][i[x][S].loc.locX]?v[i[x][S].loc.locY][i[x][S].loc.locX]=v[i[x][S].loc.locY][i[x][S].loc.locX]+"  "+M:v[i[x][S].loc.locY][i[x][S].loc.locX]=M,a++}for(var C in v){var O="<tr>";for(var R in v[C])O+="<td>",v[C][R]!==void 0&&(O+=v[C][R]),O+="</td>";m=m+O+"</tr>"}return m}(u,this.ingredients.shapes);n!==d.summary.innerHTML&&(d.summary.innerHTML=n),r!==d.map.innerHTML&&(d.map.innerHTML=r),l.details!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=l.details),this._accessibleOutputs[u]=d}};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(l,n,r){return l[0]<.4*n?l[1]<.4*r?"top left":l[1]>.6*r?"bottom left":"mid left":l[0]>.6*n?l[1]<.4*r?"top right":l[1]>.6*r?"bottom right":"mid right":l[1]<.4*r?"top middle":l[1]>.6*r?"bottom middle":"middle"}function u(l,n,r){var o=Math.floor(l[0]/n*10),i=Math.floor(l[1]/r*10);return o===10&&--o,i===10&&--i,{locX:o,locY:i}}t.default.prototype.textOutput=function(l){t.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.default.prototype.gridOutput=function(l){t.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t.default.prototype._createOutput=function(l,n){var r,o,i,a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);var m="";n==="Fallback"?(r=a+l,o=a+"accessibleOutput",this.dummyDOM.querySelector("#".concat(o))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>'))):n==="Label"&&(r=a+l+(m=n),o=a+"accessibleOutput"+n,this.dummyDOM.querySelector("#".concat(o))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>')):this.dummyDOM.querySelector("#".concat(a)).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>')))),this._accessibleOutputs[r]={},l==="textOutput"?(m="#".concat(a,"gridOutput").concat(m),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(o)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):l==="gridOutput"&&(m="#".concat(a,"textOutput").concat(m),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(o)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},t.default.prototype._updateAccsOutput=function(){var l=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(l+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(l+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(l+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(l+"gridOutputLabel"))},t.default.prototype._accsBackground=function(l){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==l&&(this.ingredients.colors.backgroundRGBA=l,this.ingredients.colors.background=this._rgbColorName(l))},t.default.prototype._accsCanvasColors=function(l,n){l==="fill"?this.ingredients.colors.fillRGBA!==n&&(this.ingredients.colors.fillRGBA=n,this.ingredients.colors.fill=this._rgbColorName(n)):l==="stroke"&&this.ingredients.colors.strokeRGBA!==n&&(this.ingredients.colors.strokeRGBA=n,this.ingredients.colors.stroke=this._rgbColorName(n))},t.default.prototype._accsOutput=function(l,n){l==="ellipse"&&n[2]===n[3]?l="circle":l==="rectangle"&&n[2]===n[3]&&(l="square");var r={},o=!0,i=function(b,x){var S,M;return M=b==="rectangle"||b==="ellipse"||b==="arc"||b==="circle"||b==="square"?(S=Math.round(x[0]+x[2]/2),Math.round(x[1]+x[3]/2)):b==="triangle"?(S=(x[0]+x[2]+x[4])/3,(x[1]+x[3]+x[5])/3):b==="quadrilateral"?(S=(x[0]+x[2]+x[4]+x[6])/4,(x[1]+x[3]+x[5]+x[7])/4):b==="line"?(S=(x[0]+x[2])/2,(x[1]+x[3])/2):(S=x[0],x[1]),[S,M]}(l,n);if(l==="line"){r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(n[0],n[1],n[2],n[3]));var a=c([n[0],[1]],this.width,this.height),m=c([n[2],[3]],this.width,this.height);r.loc=u(i,this.width,this.height),r.pos=a===m?"at ".concat(a):"from ".concat(a," to ").concat(m)}else l==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=function(b,x,S,M){var C=0;if(b==="arc"){var O=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(C=O*x[2]*x[3]/8,x[6]==="open"||x[6]==="chord"){var R=x[0],P=x[1],L=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),U=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),A=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),B=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),F=Math.abs(R*(U-B)+L*(B-P)+A*(P-U))/2;O>Math.PI?C+=F:C-=F}}else b==="ellipse"||b==="circle"?C=3.14*x[2]/2*x[3]/2:b==="line"||b==="point"?C=0:b==="quadrilateral"?C=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:b==="rectangle"||b==="square"?C=x[2]*x[3]:b==="triangle"&&(C=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2);return Math.round(100*C/(S*M))}(l,n,this.width,this.height)),r.pos=c(i,this.width,this.height),r.loc=u(i,this.width,this.height);if(this.ingredients.shapes[l]){if(this.ingredients.shapes[l]!==[r]){for(var v in this.ingredients.shapes[l])JSON.stringify(this.ingredients.shapes[l][v])===JSON.stringify(r)&&(o=!1);o===!0&&this.ingredients.shapes[l].push(r)}}else this.ingredients.shapes[l]=[r]};var d=t.default;p.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,y,p){e("core-js/modules/es.array.concat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype._updateTextOutput=function(u){if(this.dummyDOM.querySelector("#".concat(u,"_summary"))){var d=this._accessibleOutputs[u],l=function(o,i){var a="",m=0;for(var v in i)for(var b in i[v]){var x='<li><a href="#'.concat(o,"shape").concat(m,'">').concat(i[v][b].color," ").concat(v,"</a>");v==="line"?x+=", ".concat(i[v][b].pos,", ").concat(i[v][b].length," pixels long.</li>"):(x+=", at ".concat(i[v][b].pos),v!=="point"&&(x+=", covering ".concat(i[v][b].area,"% of the canvas")),x+=".</li>"),a+=x,m++}return{numShapes:m,listShapes:a}}(u,this.ingredients.shapes),n=function(o,i,a,m){var v="Your output is a, ".concat(a," by ").concat(m," pixels, ").concat(i," canvas containing the following");return v=o===1?"".concat(v," shape:"):"".concat(v," ").concat(o," shapes:"),v}(l.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(o,i){var a="",m=0;for(var v in i)for(var b in i[v]){var x='<tr id="'.concat(o,"shape").concat(m,'"><th>').concat(i[v][b].color," ").concat(v,"</th>");v==="line"?x+="<td>location = ".concat(i[v][b].pos,"</td><td>length = ").concat(i[v][b].length," pixels</td></tr>"):(x+="<td>location = ".concat(i[v][b].pos,"</td>"),v!=="point"&&(x+="<td> area = ".concat(i[v][b].area,"%</td>")),x+="</tr>"),a+=x,m++}return a}(u,this.ingredients.shapes);n!==d.summary.innerHTML&&(d.summary.innerHTML=n),l.listShapes!==d.list.innerHTML&&(d.list.innerHTML=l.listShapes),r!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=r),this._accessibleOutputs[u]=d}};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,y,p){var h,t=(h=e("./core/main"))&&h.__esModule?h:{default:h};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),y.exports=t.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(u){var d=u[0],l=u[1],n=u[2],r=(2-l)*n/2;return r!=0&&(r==1?l=0:r<.5?l/=2-l:l=l*n/(2-2*r)),[d,l,r,u[3]]},t.default.ColorConversion._hsbaToRGBA=function(u){var d=6*u[0],l=u[1],n=u[2],r=[];if(l===0)r=[n,n,n,u[3]];else{var o,i,a,m=Math.floor(d),v=n*(1-l),b=n*(1-l*(d-m)),x=n*(1-l*(1+m-d));a=m===1?(o=b,i=n,v):m===2?(o=v,i=n,x):m===3?(o=v,i=b,n):m===4?(o=x,i=v,n):m===5?(o=n,i=v,b):(o=n,i=x,v),r=[o,i,a,u[3]]}return r},t.default.ColorConversion._hslaToHSBA=function(u){var d,l=u[0],n=u[1],r=u[2];return[l,n=2*((d=r<.5?(1+n)*r:r+n-r*n)-r)/d,d,u[3]]},t.default.ColorConversion._hslaToRGBA=function(u){var d=6*u[0],l=u[1],n=u[2],r=[];if(l===0)r=[n,n,n,u[3]];else{var o,i=2*n-(o=n<.5?(1+l)*n:n+l-n*l),a=function(m,v,b){return m<0?m+=6:6<=m&&(m-=6),m<1?v+(b-v)*m:m<3?b:m<4?v+(b-v)*(4-m):v};r=[a(2+d,i,o),a(d,i,o),a(d-2,i,o),u[3]]}return r},t.default.ColorConversion._rgbaToHSBA=function(u){var d,l,n=u[0],r=u[1],o=u[2],i=Math.max(n,r,o),a=i-Math.min(n,r,o);return a==0?l=d=0:(l=a/i,n===i?d=(r-o)/a:r===i?d=2+(o-n)/a:o===i&&(d=4+(n-r)/a),d<0?d+=6:6<=d&&(d-=6)),[d/6,l,i,u[3]]},t.default.ColorConversion._rgbaToHSLA=function(u){var d,l,n=u[0],r=u[1],o=u[2],i=Math.max(n,r,o),a=Math.min(n,r,o),m=i+a,v=i-a;return v==0?l=d=0:(l=m<1?v/m:v/(2-m),n===i?d=(r-o)/v:r===i?d=2+(o-n)/v:o===i&&(d=4+(n-r)/v),d<0?d+=6:6<=d&&(d-=6)),[d/6,l,m/2,u[3]]};var c=t.default.ColorConversion;p.default=c},{"../core/main":264}],250:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(n){return c.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},c.default.prototype.blue=function(n){return c.default._validateParameters("blue",arguments),this.color(n)._getBlue()},c.default.prototype.brightness=function(n){return c.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},c.default.prototype.color=function(){if(c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color)return arguments[0];var n=arguments[0]instanceof Array?arguments[0]:arguments;return new c.default.Color(this,n)},c.default.prototype.green=function(n){return c.default._validateParameters("green",arguments),this.color(n)._getGreen()},c.default.prototype.hue=function(n){return c.default._validateParameters("hue",arguments),this.color(n)._getHue()},c.default.prototype.lerpColor=function(n,r,o){c.default._validateParameters("lerpColor",arguments);var i,a,m,v,b,x,S=this._colorMode,M=this._colorMaxes;if(S===u.RGB)b=n.levels.map(function(C){return C/255}),x=r.levels.map(function(C){return C/255});else if(S===u.HSB)n._getBrightness(),r._getBrightness(),b=n.hsba,x=r.hsba;else{if(S!==u.HSL)throw new Error("".concat(S,"cannot be used for interpolation."));n._getLightness(),r._getLightness(),b=n.hsla,x=r.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(C,O,R){return R*(O-C)+C}),i=this.lerp(b[0],x[0],o),a=this.lerp(b[1],x[1],o),m=this.lerp(b[2],x[2],o),v=this.lerp(b[3],x[3],o),i*=M[S][0],a*=M[S][1],m*=M[S][2],v*=M[S][3],this.color(i,a,m,v)},c.default.prototype.lightness=function(n){return c.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},c.default.prototype.red=function(n){return c.default._validateParameters("red",arguments),this.color(n)._getRed()},c.default.prototype.saturation=function(n){return c.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var l=c.default;p.default=l},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,y,p){function h(b){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(b)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=l(e("../core/main")),c=function(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var x=d();if(x&&x.has(b))return x.get(b);var S={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)){var O=M?Object.getOwnPropertyDescriptor(b,C):null;O&&(O.get||O.set)?Object.defineProperty(S,C,O):S[C]=b[C]}return S.default=b,x&&x.set(b,S),S}(e("../core/constants")),u=l(e("./color_conversion"));function d(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return d=function(){return b},b}function l(b){return b&&b.__esModule?b:{default:b}}t.default.Color=function(b,x){if(this._storeModeAndMaxes(b._colorMode,b._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=t.default.Color._parseInputs.apply(this,x),this._calculateLevels(),this},t.default.Color.prototype.toString=function(b){var x=this.levels,S=this._array,M=S[3];switch(b){case"#rrggbb":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16));case"#rrggbbaa":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16),x[3]<16?"0".concat(x[3].toString(16)):x[3].toString(16));case"#rgb":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16),Math.round(15*S[3]).toString(16));case"rgb":return"rgb(".concat(x[0],", ",x[1],", ",x[2],")");case"rgb%":return"rgb(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%, ",(100*S[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(x[0],",",x[1],",",x[2],",",M,")")}},t.default.Color.prototype.setRed=function(b){this._array[0]=b/this.maxes[c.RGB][0],this._calculateLevels()},t.default.Color.prototype.setGreen=function(b){this._array[1]=b/this.maxes[c.RGB][1],this._calculateLevels()},t.default.Color.prototype.setBlue=function(b){this._array[2]=b/this.maxes[c.RGB][2],this._calculateLevels()},t.default.Color.prototype.setAlpha=function(b){this._array[3]=b/this.maxes[this.mode][3],this._calculateLevels()},t.default.Color.prototype._calculateLevels=function(){for(var b=this._array,x=this.levels=new Array(b.length),S=b.length-1;0<=S;--S)x[S]=Math.round(255*b[S])},t.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},t.default.Color.prototype._storeModeAndMaxes=function(b,x){this.mode=b,this.maxes=x},t.default.Color.prototype._getMode=function(){return this.mode},t.default.Color.prototype._getMaxes=function(){return this.maxes},t.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},t.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},t.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},t.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},t.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},t.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},t.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r=/\s*/,o=/(\d{1,3})/,i=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,a=new RegExp("".concat(i.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(r.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),RGBA:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",i.source,"\\)$"].join(r.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i"),HSL:new RegExp(["^hsl\\(",o.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),HSLA:new RegExp(["^hsla\\(",o.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i"),HSB:new RegExp(["^hsb\\(",o.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),HSBA:new RegExp(["^hsba\\(",o.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i")};t.default.Color._parseInputs=function(b,x,S,M){var C,O=arguments.length,R=this.mode,P=this.maxes[R],L=[];if(3<=O){for(L[0]=b/P[0],L[1]=x/P[1],L[2]=S/P[2],L[3]=typeof M=="number"?M/P[3]:1,C=L.length-1;0<=C;--C){var U=L[C];U<0?L[C]=0:1<U&&(L[C]=1)}return R===c.HSL?u.default._hslaToRGBA(L):R===c.HSB?u.default._hsbaToRGBA(L):L}if(O===1&&typeof b=="string"){var A=b.trim().toLowerCase();if(n[A])return t.default.Color._parseInputs.call(this,n[A]);if(m.HEX3.test(A))return(L=m.HEX3.exec(A).slice(1).map(function(B){return parseInt(B+B,16)/255}))[3]=1,L;if(m.HEX6.test(A))return(L=m.HEX6.exec(A).slice(1).map(function(B){return parseInt(B,16)/255}))[3]=1,L;if(m.HEX4.test(A))return L=m.HEX4.exec(A).slice(1).map(function(B){return parseInt(B+B,16)/255});if(m.HEX8.test(A))return L=m.HEX8.exec(A).slice(1).map(function(B){return parseInt(B,16)/255});if(m.RGB.test(A))return(L=m.RGB.exec(A).slice(1).map(function(B){return B/255}))[3]=1,L;if(m.RGB_PERCENT.test(A))return(L=m.RGB_PERCENT.exec(A).slice(1).map(function(B){return parseFloat(B)/100}))[3]=1,L;if(m.RGBA.test(A))return L=m.RGBA.exec(A).slice(1).map(function(B,F){return F===3?parseFloat(B):B/255});if(m.RGBA_PERCENT.test(A))return L=m.RGBA_PERCENT.exec(A).slice(1).map(function(B,F){return F===3?parseFloat(B):parseFloat(B)/100});if(m.HSL.test(A)?(L=m.HSL.exec(A).slice(1).map(function(B,F){return F===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:m.HSLA.test(A)&&(L=m.HSLA.exec(A).slice(1).map(function(B,F){return F===0?parseInt(B,10)/360:F===3?parseFloat(B):parseInt(B,10)/100})),(L=L.map(function(B){return Math.max(Math.min(B,1),0)})).length)return u.default._hslaToRGBA(L);if(m.HSB.test(A)?(L=m.HSB.exec(A).slice(1).map(function(B,F){return F===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:m.HSBA.test(A)&&(L=m.HSBA.exec(A).slice(1).map(function(B,F){return F===0?parseInt(B,10)/360:F===3?parseFloat(B):parseInt(B,10)/100})),L.length){for(C=L.length-1;0<=C;--C)L[C]=Math.max(Math.min(L[C],1),0);return u.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(O!==1&&O!==2||typeof b!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=b/P[2],L[1]=b/P[2],L[2]=b/P[2],L[3]=typeof x=="number"?x/P[3]:1,L=L.map(function(B){return Math.max(Math.min(B,1),0)})}return L};var v=t.default.Color;p.default=v},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.fill"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Color"),c.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},c.default.prototype.clear=function(){var n=(arguments.length<=0?void 0:arguments[0])||0,r=(arguments.length<=1?void 0:arguments[1])||0,o=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(n,r,o,i),this},c.default.prototype.colorMode=function(n,r,o,i,a){if(c.default._validateParameters("colorMode",arguments),n===u.RGB||n===u.HSB||n===u.HSL){this._colorMode=n;var m=this._colorMaxes[n];arguments.length===2?(m[0]=r,m[1]=r,m[2]=r,m[3]=r):arguments.length===4?(m[0]=r,m[1]=o,m[2]=i):arguments.length===5&&(m[0]=r,m[1]=o,m[2]=i,m[3]=a)}return this},c.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},c.default.prototype.erase=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(n,r),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.BEZIER=p.QUADRATIC=p.LINEAR=p._CTX_MIDDLE=p._DEFAULT_LEADMULT=p._DEFAULT_TEXT_FILL=p.WORD=p.CHAR=p.BOLDITALIC=p.BOLD=p.ITALIC=p.NORMAL=p.BLUR=p.ERODE=p.DILATE=p.POSTERIZE=p.INVERT=p.OPAQUE=p.GRAY=p.THRESHOLD=p.BURN=p.DODGE=p.SOFT_LIGHT=p.HARD_LIGHT=p.OVERLAY=p.REPLACE=p.SCREEN=p.MULTIPLY=p.EXCLUSION=p.SUBTRACT=p.DIFFERENCE=p.LIGHTEST=p.DARKEST=p.ADD=p.REMOVE=p.BLEND=p.UP_ARROW=p.TAB=p.SHIFT=p.RIGHT_ARROW=p.RETURN=p.OPTION=p.LEFT_ARROW=p.ESCAPE=p.ENTER=p.DOWN_ARROW=p.DELETE=p.CONTROL=p.BACKSPACE=p.ALT=p.AUTO=p.HSL=p.HSB=p.RGB=p.MITER=p.BEVEL=p.ROUND=p.SQUARE=p.PROJECT=p.PIE=p.CHORD=p.OPEN=p.CLOSE=p.TESS=p.QUAD_STRIP=p.QUADS=p.TRIANGLE_STRIP=p.TRIANGLE_FAN=p.TRIANGLES=p.LINE_LOOP=p.LINE_STRIP=p.LINES=p.POINTS=p.BASELINE=p.BOTTOM=p.TOP=p.CENTER=p.LEFT=p.RIGHT=p.RADIUS=p.CORNERS=p.CORNER=p.RAD_TO_DEG=p.DEG_TO_RAD=p.RADIANS=p.DEGREES=p.TWO_PI=p.TAU=p.QUARTER_PI=p.PI=p.HALF_PI=p.WAIT=p.TEXT=p.MOVE=p.HAND=p.CROSS=p.ARROW=p.WEBGL=p.P2D=p.VERSION=void 0,p.FALLBACK=p.LABEL=p.AXES=p.GRID=p._DEFAULT_FILL=p._DEFAULT_STROKE=p.PORTRAIT=p.LANDSCAPE=p.MIRROR=p.CLAMP=p.REPEAT=p.NEAREST=p.IMAGE=p.IMMEDIATE=p.TEXTURE=p.FILL=p.STROKE=p.CURVE=void 0;var h=Math.PI;p.VERSION="1.4.1",p.P2D="p2d",p.WEBGL="webgl",p.ARROW="default",p.CROSS="crosshair",p.HAND="pointer",p.MOVE="move",p.TEXT="text",p.WAIT="wait";var t=h/2;p.HALF_PI=t;var c=h;p.PI=c;var u=h/4;p.QUARTER_PI=u;var d=2*h;p.TAU=d;var l=2*h;p.TWO_PI=l,p.DEGREES="degrees",p.RADIANS="radians";var n=h/180;p.DEG_TO_RAD=n;var r=180/h;p.RAD_TO_DEG=r,p.CORNER="corner",p.CORNERS="corners",p.RADIUS="radius",p.RIGHT="right",p.LEFT="left",p.CENTER="center",p.TOP="top",p.BOTTOM="bottom",p.BASELINE="alphabetic",p.POINTS=0,p.LINES=1,p.LINE_STRIP=3,p.LINE_LOOP=2,p.TRIANGLES=4,p.TRIANGLE_FAN=6,p.TRIANGLE_STRIP=5,p.QUADS="quads",p.QUAD_STRIP="quad_strip",p.TESS="tess",p.CLOSE="close",p.OPEN="open",p.CHORD="chord",p.PIE="pie",p.PROJECT="square",p.SQUARE="butt",p.ROUND="round",p.BEVEL="bevel",p.MITER="miter",p.RGB="rgb",p.HSB="hsb",p.HSL="hsl",p.AUTO="auto",p.ALT=18,p.BACKSPACE=8,p.CONTROL=17,p.DELETE=46,p.DOWN_ARROW=40,p.ENTER=13,p.ESCAPE=27,p.LEFT_ARROW=37,p.OPTION=18,p.RETURN=13,p.RIGHT_ARROW=39,p.SHIFT=16,p.TAB=9,p.UP_ARROW=38,p.BLEND="source-over",p.REMOVE="destination-out",p.ADD="lighter",p.DARKEST="darken",p.LIGHTEST="lighten",p.DIFFERENCE="difference",p.SUBTRACT="subtract",p.EXCLUSION="exclusion",p.MULTIPLY="multiply",p.SCREEN="screen",p.REPLACE="copy",p.OVERLAY="overlay",p.HARD_LIGHT="hard-light",p.SOFT_LIGHT="soft-light",p.DODGE="color-dodge",p.BURN="color-burn",p.THRESHOLD="threshold",p.GRAY="gray",p.OPAQUE="opaque",p.INVERT="invert",p.POSTERIZE="posterize",p.DILATE="dilate",p.ERODE="erode",p.BLUR="blur",p.NORMAL="normal",p.ITALIC="italic",p.BOLD="bold",p.BOLDITALIC="bold italic",p.CHAR="CHAR",p.WORD="WORD",p._DEFAULT_TEXT_FILL="#000000",p._DEFAULT_LEADMULT=1.25,p._CTX_MIDDLE="middle",p.LINEAR="linear",p.QUADRATIC="quadratic",p.BEZIER="bezier",p.CURVE="curve",p.STROKE="stroke",p.FILL="fill",p.TEXTURE="texture",p.IMMEDIATE="immediate",p.IMAGE="image",p.NEAREST="nearest",p.REPEAT="repeat",p.CLAMP="clamp",p.MIRROR="mirror",p.LANDSCAPE="landscape",p.PORTRAIT="portrait",p._DEFAULT_STROKE="#000000",p._DEFAULT_FILL="#FFFFFF",p.GRID="grid",p.AXES="axes",p.LABEL="label",p.FALLBACK="fallback"},{}],254:[function(e,y,p){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},u=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var m=d();if(m&&m.has(a))return m.get(a);var v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in a)if(Object.prototype.hasOwnProperty.call(a,x)){var S=b?Object.getOwnPropertyDescriptor(a,x):null;S&&(S.get||S.set)?Object.defineProperty(v,x,S):v[x]=a[x]}return v.default=a,m&&m.set(a,v),v}(e("./constants"));function d(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return d=function(){return a},a}var l=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT];c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60;var n=window.print;function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function o(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var a;arguments.length?(a=console).log.apply(a,arguments):n()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(a,m,v){var b="auto",x=this._curElement.elt;if(l.includes(a))b=a;else if(typeof a=="string"){var S="";m&&v&&typeof m=="number"&&typeof v=="number"&&(S="".concat(m," ").concat(v)),b=a.substring(0,7)==="http://"||a.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(a)?"url(".concat(a,") ").concat(S,", auto"):a}x.style.cursor=b},c.default.prototype.frameRate=function(a){return c.default._validateParameters("frameRate",arguments),typeof a!="number"||a<0?this._frameRate:(this._setProperty("_targetFrameRate",a),a===0&&this._setProperty("_frameRate",a),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(a){return this.frameRate(a)},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=r(),c.default.prototype.windowHeight=o(),c.default.prototype._onresize=function(a){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",o());var m,v=this._isGlobal?window:this;typeof v.windowResized=="function"&&((m=v.windowResized(a))===void 0||m||a.preventDefault())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(a){if(c.default._validateParameters("fullscreen",arguments),a===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;a?function(m){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(a){var m;return c.default._validateParameters("pixelDensity",arguments),typeof a=="number"?(a!==this._pixelDensity&&(this._pixelDensity=a),(m=this).resizeCanvas(this.width,this.height,!0)):m=this._pixelDensity,m},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(a){return a!==""})},c.default.prototype.getURLParams=function(){for(var a,m=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(a=m.exec(location.search))!=null;)a.index===m.lastIndex&&m.lastIndex++,v[a[1]]=a[2];return v};var i=c.default;p.default=i},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization");var c=null,u=null;t.default._friendlyError=t.default._checkForUserDefinedFunctions=t.default._fesErrorMonitor=function(){},c=null;var d="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";u=function(){function r(i){return Object.getOwnPropertyNames(i).filter(function(a){return a[0]!=="_"&&!(a in o)&&(o[a]=!0)}).map(function(a){var m;return m=typeof i[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable",{name:a,type:m}})}var o={};(c=[].concat(r(t.default.prototype),r(e("../constants")))).sort(function(i,a){return a.name.length-i.name.length})};function l(r,o){o=o||console.log.bind(console),c||u(),c.some(function(i){if(r.message&&r.message.match("\\W?".concat(i.name,"\\W"))!==null){var a=i.type==="function"?"".concat(i.name,"()"):i.name;return o("Did you just try to use p5.js's ".concat(a," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0}})}t.default.prototype._helpForMisusedAtTopLevelCode=l,document.readyState!=="complete"&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)}));var n=t.default;p.default=n},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization"),t.default._friendlyFileLoadError=function(){};var c=t.default;p.default=c},{"../internationalization":262,"../main":264}],257:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=d(e("../main"));e("../internationalization"),u(e("../constants"));function c(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return c=function(){return n},n}function u(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=c();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}function d(n){return n&&n.__esModule?n:{default:n}}t.default._fesCodeReader=function(){};var l=t.default;p.default=l},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,y,p){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};function c(){var d=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(r){return r.stacktrace!==void 0||r["opera#sourceloc"]!==void 0?this.parseOpera(r):r.stack&&r.stack.match(l)?this.parseV8OrIE(r):r.stack?this.parseFFOrSafari(r):void 0},extractLocation:function(r){if(r.indexOf(":")===-1)return[r];var o=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/[()]/g,""));return[o[1],o[2]||void 0,o[3]||void 0]},parseV8OrIE:function(r){return r.stack.split(`
`).filter(function(o){return!!o.match(l)},this).map(function(o){-1<o.indexOf("(eval ")&&(o=o.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=o.replace(/^\s+/,"").replace(/\(eval code/g,"("),a=i.match(/ (\((.+):(\d+):(\d+)\)$)/),m=(i=a?i.replace(a[0],""):i).split(/\s+/).slice(1),v=this.extractLocation(a?a[1]:m.pop());return{functionName:m.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(v[0])?void 0:v[0],lineNumber:v[1],columnNumber:v[2],source:o}},this)},parseFFOrSafari:function(r){return r.stack.split(`
`).filter(function(o){return!o.match(n)},this).map(function(o){if(-1<o.indexOf(" > eval")&&(o=o.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),o.indexOf("@")===-1&&o.indexOf(":")===-1)return{functionName:o};var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,a=o.match(i),m=a&&a[1]?a[1]:void 0,v=this.extractLocation(o.replace(i,""));return{functionName:m,fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:o}},this)},parseOpera:function(r){return!r.stacktrace||-1<r.message.indexOf(`
`)&&r.message.split(`
`).length>r.stacktrace.split(`
`).length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(r){for(var o=/Line (\d+).*script (?:in )?(\S+)/i,i=r.message.split(`
`),a=[],m=2,v=i.length;m<v;m+=2){var b=o.exec(i[m]);b&&a.push({fileName:b[2],lineNumber:b[1],source:i[m]})}return a},parseOpera10:function(r){for(var o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=r.stacktrace.split(`
`),a=[],m=0,v=i.length;m<v;m+=2){var b=o.exec(i[m]);b&&a.push({functionName:b[3]||void 0,fileName:b[2],lineNumber:b[1],source:i[m]})}return a},parseOpera11:function(r){return r.stack.split(`
`).filter(function(o){return!!o.match(d)&&!o.match(/^Error created at/)},this).map(function(o){var i,a=o.split("@"),m=this.extractLocation(a.pop()),v=a.shift()||"",b=v.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return v.match(/\(([^)]*)\)/)&&(i=v.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:b,args:i===void 0||i==="[arguments not available]"?void 0:i.split(","),fileName:m[0],lineNumber:m[1],columnNumber:m[2],source:o}},this)}}}t.default._getErrorStackParser=function(){return new c};var u=t.default;p.default=u},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};(function(l){if(!(l&&l.__esModule)&&!(l===null||u(l)!=="object"&&typeof l!="function")){var n=c();if(n&&n.has(l))return n.get(l);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)){var a=o?Object.getOwnPropertyDescriptor(l,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=l[i]}r.default=l,n&&n.set(l,r)}})(e("../constants")),e("../internationalization");function c(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return c=function(){return l},l}function u(l){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(l)}t.default._validateParameters=t.default._clearValidateParamsCache=function(){};var d=t.default;p.default=d},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,y,p){function h(d){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=function(d){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var l=c();if(l&&l.has(d))return l.get(d);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in d)if(Object.prototype.hasOwnProperty.call(d,o)){var i=r?Object.getOwnPropertyDescriptor(d,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=d[o]}return n.default=d,l&&l.set(d,n),n}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return c=function(){return d},d}var u={modeAdjust:function(d,l,n,r,o){return o===t.CORNER?{x:d,y:l,w:n,h:r}:o===t.CORNERS?{x:d,y:l,w:n-d,h:r-l}:o===t.RADIUS?{x:d-n,y:l-r,w:2*n,h:2*r}:o===t.CENTER?{x:d-.5*n,y:l-.5*r,w:n,h:r}:void 0}};p.default=u},{"./constants":253}],261:[function(e,y,p){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(u,d){document.readyState==="complete"?u():window.addEventListener("load",u,!1)}),c]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!t.default.instance&&new t.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,y,p){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.setTranslatorLanguage=p.currentTranslatorLanguage=p.availableTranslatorLanguages=p.initialize=p.translator=void 0;var h,t,c=d(e("i18next")),u=d(e("i18next-browser-languagedetector"));function d(o){return o&&o.__esModule?o:{default:o}}function l(o,i){for(var a=0;a<i.length;a++){var m=i[a];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,m.key,m)}}var n=function(){function o(m,v){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,o),this.init(m,v)}var i,a;return i=o,(a=[{key:"fetchWithTimeout",value:function(m,v,b){var x=2<arguments.length&&b!==void 0?b:2e3;return Promise.race([fetch(m,v),new Promise(function(S,M){return setTimeout(function(){return M(new Error("timeout"))},x)})])}},{key:"init",value:function(m,v){var b=1<arguments.length&&v!==void 0?v:{};this.services=m,this.options=b}},{key:"read",value:function(m,v,b){var x=this.options.loadPath;if(m===this.options.fallback)b(null,h[m][v]);else if(t.includes(m)){var S=this.services.interpolator.interpolate(x,{lng:m,ns:v});this.loadUrl(S,b)}else b("Not found",!1)}},{key:"loadUrl",value:function(m,v){this.fetchWithTimeout(m).then(function(b){if(!b.ok)throw new Error("failed loading ".concat(m));return b.json()},function(){throw new Error("failed loading ".concat(m))}).then(function(b){return v(null,b)}).catch(v)}}])&&l(i.prototype,a),o}();n.type="backend";var r=function(o,i){console.debug("p5.js translator called before translations were loaded"),c.default.t(o,i)};p.translator=r,p.initialize=function(){return c.default.use(u.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(o){p.translator=r=o},function(o){return console.debug("Translations failed to load (".concat(o,")"))})},p.availableTranslatorLanguages=function(){return c.default.languages},p.currentTranslatorLanguage=function(){return c.default.language},p.setTranslatorLanguage=function(o){return c.default.changeLanguage(o||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var c=t.default;p.default=c},{"./main":264}],264:[function(e,y,p){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,e("./shim");var t=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=c();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var v=a?Object.getOwnPropertyDescriptor(r,m):null;v&&(v.get||v.set)?Object.defineProperty(i,m,v):i[m]=r[m]}return i.default=r,o&&o.set(r,i),i}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return c=function(){return r},r}function u(r,o){for(var i=0;i<o.length;i++){var a=o[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}var d=function(){function r(a,m,v){var b=this;(function(ee,ue){if(!(ee instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,r),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=m,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var x=Object.getOwnPropertyNames(r.prototype._registeredMethods),S=!0,M=!1,C=void 0;try{for(var O,R=x[Symbol.iterator]();!(S=(O=R.next()).done);S=!0){var P=O.value;this._registeredMethods[P]=r.prototype._registeredMethods[P].slice()}}catch(ee){M=!0,C=ee}finally{try{S||R.return==null||R.return()}finally{if(M)throw C}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var ee=b._isGlobal?window:b;if(ee.preload){var ue=document.getElementById(b._loadingScreenId);ue||((ue=document.createElement("div")).innerHTML="Loading...",ue.style.position="absolute",ue.id=b._loadingScreenId,(b._userNode||document.body).appendChild(ue));var pe=b._preloadMethods;for(var _e in pe){pe[_e]=pe[_e]||r;var ce=pe[_e];ce!==r.prototype&&ce!==r||(b._isGlobal&&(window[_e]=b._wrapPreload(b,_e)),ce=b),b._registeredPreloadMethods[_e]=ce[_e],ce[_e]=b._wrapPreload(ce,_e)}ee.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._draw()},this._runIfPreloadsAreDone=function(){var ee=this._isGlobal?window:this;if(ee._preloadCount===0){var ue=document.getElementById(ee._loadingScreenId);ue&&ue.parentNode.removeChild(ue),this._setupDone||(this._lastFrameTime=window.performance.now(),ee._setup(),ee._draw())}},this._decrementPreload=function(){var ee=this._isGlobal?window:this;typeof ee.preload=="function"&&(ee._setProperty("_preloadCount",ee._preloadCount-1),ee._runIfPreloadsAreDone())},this._wrapPreload=function(ee,ue){var pe=this;return function(){pe._incrementPreload();for(var _e=arguments.length,ce=new Array(_e),De=0;De<_e;De++)ce[De]=arguments[De];return pe._registeredPreloadMethods[ue].apply(ee,ce)}},this._incrementPreload=function(){var ee=this._isGlobal?window:this;ee._setProperty("_preloadCount",ee._preloadCount+1)},this._setup=function(){b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var ee=b._isGlobal?window:b;if(typeof ee.preload=="function")for(var ue in b._preloadMethods)ee[ue]=b._preloadMethods[ue][ue],ee[ue]&&b&&(ee[ue]=ee[ue].bind(b));b._millisStart=window.performance.now(),typeof ee.setup=="function"&&ee.setup();var pe=document.getElementsByTagName("canvas"),_e=!0,ce=!1,De=void 0;try{for(var ve,ge=pe[Symbol.iterator]();!(_e=(ve=ge.next()).done);_e=!0){var I=ve.value;I.dataset.hidden==="true"&&(I.style.visibility="",delete I.dataset.hidden)}}catch(V){ce=!0,De=V}finally{try{_e||ge.return==null||ge.return()}finally{if(ce)throw De}}b._lastFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput()},this._draw=function(){var ee=window.performance.now(),ue=ee-b._lastFrameTime,pe=1e3/b._targetFrameRate;(!b._loop||pe-5<=ue)&&(b.redraw(),b._frameRate=1e3/(ee-b._lastFrameTime),b.deltaTime=ee-b._lastFrameTime,b._setProperty("deltaTime",b.deltaTime),b._lastFrameTime=ee,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(ee,ue){b[ee]=ue,b._isGlobal&&(window[ee]=ue)},this.remove=function(){var ee=document.getElementById(b._loadingScreenId);if(ee&&(ee.parentNode.removeChild(ee),b._incrementPreload()),b._curElement){for(var ue in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(ue,b._events[ue]);var pe=!0,_e=!1,ce=void 0;try{for(var De,ve=b._elements[Symbol.iterator]();!(pe=(De=ve.next()).done);pe=!0){var ge=De.value;for(var I in ge.elt&&ge.elt.parentNode&&ge.elt.parentNode.removeChild(ge.elt),ge._events)ge.elt.removeEventListener(I,ge._events[I])}}catch(ie){_e=!0,ce=ie}finally{try{pe||ve.return==null||ve.return()}finally{if(_e)throw ce}}var V=b;b._registeredMethods.remove.forEach(function(ie){ie!==void 0&&ie.call(V)})}if(b._isGlobal){for(var W in r.prototype)try{delete window[W]}catch{window[W]=void 0}for(var Z in b)if(b.hasOwnProperty(Z))try{delete window[Z]}catch{window[Z]=void 0}r.instance=null}},this._registeredMethods.init.forEach(function(ee){ee!==void 0&&ee.call(this)},this),this._setupPromisePreloads();var L=this._createFriendlyGlobalFunctionBinder();if(a)a(this),r._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,r.instance=this,r.prototype)if(typeof r.prototype[U]=="function"){var A=U.substring(2);this._events.hasOwnProperty(A)||(Math.hasOwnProperty(U)&&Math[U]===r.prototype[U]?L(U,r.prototype[U]):L(U,r.prototype[U].bind(this)))}else L(U,r.prototype[U]);for(var B in this)this.hasOwnProperty(B)&&L(B,this[B])}for(var F in this._events){var K=this["_on".concat(F)];if(K){var re=K.bind(this);window.addEventListener(F,re,{passive:!1}),this._events[F]=re}}function Q(){b._setProperty("focused",!0)}function ne(){b._setProperty("focused",!1)}window.addEventListener("focus",Q),window.addEventListener("blur",ne),this.registerMethod("remove",function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",ne)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var o,i;return o=r,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=t.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(a,m){r.prototype._preloadMethods.hasOwnProperty(a)||(r.prototype._preloadMethods[a]=m)}},{key:"registerMethod",value:function(a,m){var v=this||r.prototype;v._registeredMethods.hasOwnProperty(a)||(v._registeredMethods[a]=[]),v._registeredMethods[a].push(m)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(a){var m=0<arguments.length&&a!==void 0?a:{},v=m.globalObject||window;return m.log||console.log.bind(console),function(b,x){v[b]=x}}}])&&u(o.prototype,i),r}();for(var l in d.instance=null,d.disableFriendlyErrors=!1,t)d.prototype[l]=t[l];d.VERSION=t.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={};var n=d;p.default=n},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.Element=function(u,d){this.elt=u,this._pInst=this._pixelsState=d,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},t.default.Element.prototype.parent=function(u){return u===void 0?this.elt.parentNode:(typeof u=="string"?(u[0]==="#"&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof t.default.Element&&(u=u.elt),u.appendChild(this.elt),this)},t.default.Element.prototype.id=function(u){return u===void 0?this.elt.id:(this.elt.id=u,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},t.default.Element.prototype.class=function(u){return u===void 0?this.elt.className:(this.elt.className=u,this)},t.default.Element.prototype.mousePressed=function(u){return t.default.Element._adjustListener("mousedown",function(d){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(d),u.call(this)},this),this},t.default.Element.prototype.doubleClicked=function(u){return t.default.Element._adjustListener("dblclick",u,this),this},t.default.Element.prototype.mouseWheel=function(u){return t.default.Element._adjustListener("wheel",u,this),this},t.default.Element.prototype.mouseReleased=function(u){return t.default.Element._adjustListener("mouseup",u,this),this},t.default.Element.prototype.mouseClicked=function(u){return t.default.Element._adjustListener("click",u,this),this},t.default.Element.prototype.mouseMoved=function(u){return t.default.Element._adjustListener("mousemove",u,this),this},t.default.Element.prototype.mouseOver=function(u){return t.default.Element._adjustListener("mouseover",u,this),this},t.default.Element.prototype.mouseOut=function(u){return t.default.Element._adjustListener("mouseout",u,this),this},t.default.Element.prototype.touchStarted=function(u){return t.default.Element._adjustListener("touchstart",u,this),this},t.default.Element.prototype.touchMoved=function(u){return t.default.Element._adjustListener("touchmove",u,this),this},t.default.Element.prototype.touchEnded=function(u){return t.default.Element._adjustListener("touchend",u,this),this},t.default.Element.prototype.dragOver=function(u){return t.default.Element._adjustListener("dragover",u,this),this},t.default.Element.prototype.dragLeave=function(u){return t.default.Element._adjustListener("dragleave",u,this),this},t.default.Element._adjustListener=function(u,d,l){return d===!1?t.default.Element._detachListener(u,l):t.default.Element._attachListener(u,d,l),this},t.default.Element._attachListener=function(u,d,l){l._events[u]&&t.default.Element._detachListener(u,l);var n=d.bind(l);l.elt.addEventListener(u,n,!1),l._events[u]=n},t.default.Element._detachListener=function(u,d){var l=d._events[u];d.elt.removeEventListener(u,l,!1),d._events[u]=null},t.default.Element.prototype._setProperty=function(u,d){this[u]=d};var c=t.default.Element;p.default=c},{"./main":264}],266:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("./constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.Graphics=function(n,r,o,i){var a=o||u.P2D;this.canvas=document.createElement("canvas");var m=i._userNode||document.body;for(var v in m.appendChild(this.canvas),c.default.Element.call(this,this.canvas,i),c.default.prototype)this[v]||(typeof c.default.prototype[v]=="function"?this[v]=c.default.prototype[v].bind(this):this[v]=c.default.prototype[v]);return c.default.prototype._initializeInstanceVariables.apply(this),this.width=n,this.height=r,this._pixelDensity=i._pixelDensity,a===u.WEBGL?this._renderer=new c.default.RendererGL(this.canvas,this,!1):this._renderer=new c.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(n,r),this._renderer._applyDefaults(),this},c.default.Graphics.prototype=Object.create(c.default.Element.prototype),c.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},c.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var n=this._pInst._elements.indexOf(this);for(var r in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(r,this._events[r])};var l=c.default.Graphics;p.default=l},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h},c=function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var o=u();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var v=a?Object.getOwnPropertyDescriptor(r,m):null;v&&(v.get||v.set)?Object.defineProperty(i,m,v):i[m]=r[m]}return i.default=r,o&&o.set(r,i),i}(e("../core/constants"));function u(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return u=function(){return r},r}function d(r){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){var o=0,i=0;if(r.offsetParent)for(;o+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;);else o+=r.offsetLeft,i+=r.offsetTop;return[o,i]}t.default.Renderer=function(r,o,i){t.default.Element.call(this,r,o),this.canvas=r,this._pixelsState=o,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=c.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=c.LEFT,this._textBaseline=c.BASELINE,this._textWrap=c.WORD,this._rectMode=c.CORNER,this._ellipseMode=c.CENTER,this._curveTightness=0,this._imageMode=c.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},t.default.Renderer.prototype=Object.create(t.default.Element.prototype),t.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},t.default.Renderer.prototype.pop=function(r){r.properties&&Object.assign(this,r.properties)},t.default.Renderer.prototype.resize=function(r,o){this.width=r,this.height=o,this.elt.width=r*this._pInst._pixelDensity,this.elt.height=o*this._pInst._pixelDensity,this.elt.style.width="".concat(r,"px"),this.elt.style.height="".concat(o,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},t.default.Renderer.prototype.get=function(r,o,i,a){var m=this._pixelsState,v=m._pixelDensity,b=this.canvas;if(r===void 0&&o===void 0)r=o=0,i=m.width,a=m.height;else if(r*=v,o*=v,i===void 0&&a===void 0)return r<0||o<0||r>=b.width||o>=b.height?[0,0,0,0]:this._getPixel(r,o);var x=new t.default.Image(i,a);return x.canvas.getContext("2d").drawImage(b,r,o,i*v,a*v,0,0,i,a),x},t.default.Renderer.prototype.textLeading=function(r){return typeof r=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",r),this._pInst):this._textLeading},t.default.Renderer.prototype.textSize=function(r){return typeof r=="number"?(this._setProperty("_textSize",r),this._leadingSet||this._setProperty("_textLeading",r*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},t.default.Renderer.prototype.textStyle=function(r){return r?(r!==c.NORMAL&&r!==c.ITALIC&&r!==c.BOLD&&r!==c.BOLDITALIC||this._setProperty("_textStyle",r),this._applyTextProperties()):this._textStyle},t.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},t.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},t.default.Renderer.prototype.textAlign=function(r,o){return r!==void 0?(this._setProperty("_textAlign",r),o!==void 0&&this._setProperty("_textBaseline",o),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},t.default.Renderer.prototype.textWrap=function(r){return this._setProperty("_textWrap",r),this._textWrap},t.default.Renderer.prototype.text=function(r,o,i,a,m){var v,b,x,S,M,C,O,R=this._pInst,P=this._textWrap,L=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&r!==void 0){if(typeof r!="string"&&(r=r.toString()),v=(r=r.replace(/(\t)/g,"  ")).split(`
`),a!==void 0){switch(this._rectMode===c.CENTER&&(o-=a/2),this._textAlign){case c.CENTER:o+=a/2;break;case c.RIGHT:o+=a}var U=!1;if(m!==void 0){switch(this._rectMode===c.CENTER&&(i-=m/2),this._textBaseline){case c.BOTTOM:O=i+m,i=Math.max(O,i);break;case c.CENTER:O=i+m/2,i=Math.max(O,i);break;case c.BASELINE:U=!0,this._textBaseline=c.TOP}L=i+m-R.textAscent()}if(P===c.WORD){for(var A=[],B=0;B<v.length;B++){b="",M=v[B].split(" ");for(var F=0;F<M.length;F++)x="".concat(b+M[F])+" ",b=a<(S=this.textWidth(x))&&0<b.length?(A.push(b),"".concat(M[F])+" "):x;A.push(b)}var K=0,re=R.textAlign().vertical;re===c.CENTER?K=(A.length-1)*R.textLeading()/2:re===c.BOTTOM&&(K=(A.length-1)*R.textLeading());for(var Q=0;Q<v.length;Q++){b="",M=v[Q].split(" ");for(var ne=0;ne<M.length;ne++)x="".concat(b+M[ne])+" ",a<(S=this.textWidth(x))&&0<b.length?(this._renderText(R,b.trim(),o,i-K,L),b="".concat(M[ne])+" ",i+=R.textLeading()):b=x;this._renderText(R,b.trim(),o,i-K,L),i+=R.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{for(var ee=[],ue=0;ue<v.length;ue++){b="",C=v[ue].split("");for(var pe=0;pe<C.length;pe++)x="".concat(b+C[pe]),(S=this.textWidth(x))<=a?b+=C[pe]:a<S&&0<b.length&&(ee.push(b),b="".concat(C[pe]))}ee.push(b);var _e=0,ce=R.textAlign().vertical;ce===c.CENTER?_e=(ee.length-1)*R.textLeading()/2:ce===c.BOTTOM&&(_e=(ee.length-1)*R.textLeading());for(var De=0;De<v.length;De++){b="",C=v[De].split("");for(var ve=0;ve<C.length;ve++)x="".concat(b+C[ve]),(S=this.textWidth(x))<=a?b+=C[ve]:a<S&&0<b.length&&(this._renderText(R,b.trim(),o,i-_e,L),i+=R.textLeading(),b="".concat(C[ve]))}this._renderText(R,b.trim(),o,i-_e,L),i+=R.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{var ge=0,I=R.textAlign().vertical;I===c.CENTER?ge=(v.length-1)*R.textLeading()/2:I===c.BOTTOM&&(ge=(v.length-1)*R.textLeading());for(var V=0;V<v.length;V++)this._renderText(R,v[V],o,i-ge,L),i+=R.textLeading()}return R}},t.default.Renderer.prototype._applyDefaults=function(){return this},t.default.Renderer.prototype._isOpenType=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return d(r)==="object"&&r.font&&r.font.supported},t.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var r=document.createElement("span");r.style.fontFamily=this._textFont,r.style.fontSize="".concat(this._textSize,"px"),r.innerHTML="ABCjgq|";var o=document.createElement("div");o.style.display="inline-block",o.style.width="1px",o.style.height="0px";var i=document.createElement("div");i.appendChild(r),i.appendChild(o),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),o.style.verticalAlign="baseline";var a=l(o),m=l(r),v=a[1]-m[1];o.style.verticalAlign="bottom",a=l(o),m=l(r);var b=a[1]-m[1]-v;return document.body.removeChild(i),this._setProperty("_textAscent",v),this._setProperty("_textDescent",b),this};var n=t.default.Renderer;p.default=n},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,y,p){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=l(e("./main")),c=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var a={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(Object.prototype.hasOwnProperty.call(o,v)){var b=m?Object.getOwnPropertyDescriptor(o,v):null;b&&(b.get||b.set)?Object.defineProperty(a,v,b):a[v]=o[v]}return a.default=o,i&&i.set(o,a),a}(e("./constants")),u=l(e("../image/filters"));function d(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return d=function(){return o},o}function l(o){return o&&o.__esModule?o:{default:o}}e("./p5.Renderer");var n="rgba(0,0,0,0)";t.default.Renderer2D=function(o,i,a){return t.default.Renderer.call(this,o,i,a),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},t.default.Renderer2D.prototype=Object.create(t.default.Renderer.prototype),t.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"},t.default.Renderer2D.prototype.resize=function(o,i){t.default.Renderer.prototype.resize.call(this,o,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},t.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof t.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var o,i=this._getFill(),a=(o=this._pInst).color.apply(o,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(a.levels);var m=a.toString();this._setFill(m),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(i),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},t.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},t.default.Renderer2D.prototype.fill=function(){var o,i=(o=this._pInst).color.apply(o,arguments);this._setFill(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",i.levels)},t.default.Renderer2D.prototype.stroke=function(){var o,i=(o=this._pInst).color.apply(o,arguments);this._setStroke(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",i.levels)},t.default.Renderer2D.prototype.erase=function(o,i){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var a=this._pInst.color(255,o).toString();this.drawingContext.fillStyle=a,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var m=this._pInst.color(255,i).toString();this.drawingContext.strokeStyle=m;var v=this._cachedBlendMode;this.blendMode(c.REMOVE),this._cachedBlendMode=v,this._isErasing=!0}},t.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},t.default.Renderer2D.prototype.image=function(o,i,a,m,v,b,x,S,M){var C;o.gifProperties&&o._animateGif(this._pInst);try{this._tint&&(t.default.MediaElement&&o instanceof t.default.MediaElement&&o.loadPixels(),o.canvas&&(C=this._getTintedImageCanvas(o))),C=C||o.canvas||o.elt;var O=1;o.width&&0<o.width&&(O=C.width/o.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(C,O*i,O*a,O*m,O*v,b,x,S,M),this._isErasing&&this._pInst.erase()}catch(R){if(R.name!=="NS_ERROR_NOT_AVAILABLE")throw R}},t.default.Renderer2D.prototype._getTintedImageCanvas=function(o){if(!o.canvas)return o;var i=u.default._toPixels(o.canvas),a=document.createElement("canvas");a.width=o.canvas.width,a.height=o.canvas.height;for(var m=a.getContext("2d"),v=m.createImageData(o.canvas.width,o.canvas.height),b=v.data,x=0;x<i.length;x+=4){var S=i[x],M=i[x+1],C=i[x+2],O=i[x+3];b[x]=S*this._tint[0]/255,b[x+1]=M*this._tint[1]/255,b[x+2]=C*this._tint[2]/255,b[x+3]=O*this._tint[3]/255}return m.putImageData(v,0,0),a},t.default.Renderer2D.prototype.blendMode=function(o){if(o===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(o!==c.BLEND&&o!==c.REMOVE&&o!==c.DARKEST&&o!==c.LIGHTEST&&o!==c.DIFFERENCE&&o!==c.MULTIPLY&&o!==c.EXCLUSION&&o!==c.SCREEN&&o!==c.REPLACE&&o!==c.OVERLAY&&o!==c.HARD_LIGHT&&o!==c.SOFT_LIGHT&&o!==c.DODGE&&o!==c.BURN&&o!==c.ADD)throw new Error("Mode ".concat(o," not recognized."));this._cachedBlendMode=o,this.drawingContext.globalCompositeOperation=o}},t.default.Renderer2D.prototype.blend=function(){for(var o=this.drawingContext.globalCompositeOperation,i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];var v=a[a.length-1],b=Array.prototype.slice.call(a,0,a.length-1);this.drawingContext.globalCompositeOperation=v,t.default.prototype.copy.apply(this,b),this.drawingContext.globalCompositeOperation=o},t.default.Renderer2D.prototype._getPixel=function(o,i){var a;return[(a=this.drawingContext.getImageData(o,i,1,1).data)[0],a[1],a[2],a[3]]},t.default.Renderer2D.prototype.loadPixels=function(){var o=this._pixelsState,i=o._pixelDensity,a=this.width*i,m=this.height*i,v=this.drawingContext.getImageData(0,0,a,m);o._setProperty("imageData",v),o._setProperty("pixels",v.data)},t.default.Renderer2D.prototype.set=function(o,i,a){o=Math.floor(o),i=Math.floor(i);var m=this._pixelsState;if(a instanceof t.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(m._pixelDensity,m._pixelDensity),this.drawingContext.clearRect(o,i,a.width,a.height),this.drawingContext.drawImage(a.canvas,o,i),this.drawingContext.restore();else{var v=0,b=0,x=0,S=0,M=4*(i*m._pixelDensity*(this.width*m._pixelDensity)+o*m._pixelDensity);if(m.imageData||m.loadPixels.call(m),typeof a=="number")M<m.pixels.length&&(x=b=v=a,S=255);else if(a instanceof Array){if(a.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");M<m.pixels.length&&(v=a[0],b=a[1],x=a[2],S=a[3])}else a instanceof t.default.Color&&M<m.pixels.length&&(v=a.levels[0],b=a.levels[1],x=a.levels[2],S=a.levels[3]);for(var C=0;C<m._pixelDensity;C++)for(var O=0;O<m._pixelDensity;O++)M=4*((i*m._pixelDensity+O)*this.width*m._pixelDensity+(o*m._pixelDensity+C)),m.pixels[M]=v,m.pixels[M+1]=b,m.pixels[M+2]=x,m.pixels[M+3]=S}},t.default.Renderer2D.prototype.updatePixels=function(o,i,a,m){var v=this._pixelsState,b=v._pixelDensity;o===void 0&&i===void 0&&a===void 0&&m===void 0&&(i=o=0,a=this.width,m=this.height),o*=b,i*=b,a*=b,m*=b,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=v.imageData),this.drawingContext.putImageData(v.imageData,o,i,0,0,a,m)},t.default.Renderer2D.prototype._acuteArcToBezier=function(o,i){var a=i/2,m=Math.cos(a),v=Math.sin(a),b=1/Math.tan(a),x=o+a,S=Math.cos(x),M=Math.sin(x),C=(4-m)/3,O=v+(m-C)*b;return{ax:Math.cos(o).toFixed(7),ay:Math.sin(o).toFixed(7),bx:(C*S+O*M).toFixed(7),by:(C*M-O*S).toFixed(7),cx:(C*S-O*M).toFixed(7),cy:(C*M+O*S).toFixed(7),dx:Math.cos(o+i).toFixed(7),dy:Math.sin(o+i).toFixed(7)}},t.default.Renderer2D.prototype.arc=function(o,i,a,m,v,b,x){var S=this.drawingContext,M=a/2,C=m/2,O=0,R=[];for(o+=M,i+=C;1e-5<=b-v;)O=Math.min(b-v,c.HALF_PI),R.push(this._acuteArcToBezier(v,O)),v+=O;return this._doFill&&(S.beginPath(),R.forEach(function(P,L){L===0&&S.moveTo(o+P.ax*M,i+P.ay*C),S.bezierCurveTo(o+P.bx*M,i+P.by*C,o+P.cx*M,i+P.cy*C,o+P.dx*M,i+P.dy*C)}),x!==c.PIE&&x!=null||S.lineTo(o,i),S.closePath(),S.fill()),this._doStroke&&(S.beginPath(),R.forEach(function(P,L){L===0&&S.moveTo(o+P.ax*M,i+P.ay*C),S.bezierCurveTo(o+P.bx*M,i+P.by*C,o+P.cx*M,i+P.cy*C,o+P.dx*M,i+P.dy*C)}),x===c.PIE?(S.lineTo(o,i),S.closePath()):x===c.CHORD&&S.closePath(),S.stroke()),this},t.default.Renderer2D.prototype.ellipse=function(o){var i=this.drawingContext,a=this._doFill,m=this._doStroke,v=parseFloat(o[0]),b=parseFloat(o[1]),x=parseFloat(o[2]),S=parseFloat(o[3]);if(a&&!m){if(this._getFill()===n)return this}else if(!a&&m&&this._getStroke()===n)return this;var M=x/2*.5522847498,C=S/2*.5522847498,O=v+x,R=b+S,P=v+x/2,L=b+S/2;i.beginPath(),i.moveTo(v,L),i.bezierCurveTo(v,L-C,P-M,b,P,b),i.bezierCurveTo(P+M,b,O,L-C,O,L),i.bezierCurveTo(O,L+C,P+M,R,P,R),i.bezierCurveTo(P-M,R,v,L+C,v,L),a&&i.fill(),m&&i.stroke()},t.default.Renderer2D.prototype.line=function(o,i,a,m){var v=this.drawingContext;return this._doStroke&&(this._getStroke()===n||(v.beginPath(),v.moveTo(o,i),v.lineTo(a,m),v.stroke())),this},t.default.Renderer2D.prototype.point=function(o,i){var a=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===n)return this;var m=this._getStroke(),v=this._getFill();this._setFill(m),a.beginPath(),a.arc(o,i,a.lineWidth/2,0,c.TWO_PI,!1),a.fill(),this._setFill(v)},t.default.Renderer2D.prototype.quad=function(o,i,a,m,v,b,x,S){var M=this.drawingContext,C=this._doFill,O=this._doStroke;if(C&&!O){if(this._getFill()===n)return this}else if(!C&&O&&this._getStroke()===n)return this;return M.beginPath(),M.moveTo(o,i),M.lineTo(a,m),M.lineTo(v,b),M.lineTo(x,S),M.closePath(),C&&M.fill(),O&&M.stroke(),this},t.default.Renderer2D.prototype.rect=function(o){var i=o[0],a=o[1],m=o[2],v=o[3],b=o[4],x=o[5],S=o[6],M=o[7],C=this.drawingContext,O=this._doFill,R=this._doStroke;if(O&&!R){if(this._getFill()===n)return this}else if(!O&&R&&this._getStroke()===n)return this;if(C.beginPath(),b===void 0)C.rect(i,a,m,v);else{x===void 0&&(x=b),S===void 0&&(S=x),M===void 0&&(M=S);var P=Math.abs(m),L=Math.abs(v),U=P/2,A=L/2;P<2*b&&(b=U),L<2*b&&(b=A),P<2*x&&(x=U),L<2*x&&(x=A),P<2*S&&(S=U),L<2*S&&(S=A),P<2*M&&(M=U),L<2*M&&(M=A),C.beginPath(),C.moveTo(i+b,a),C.arcTo(i+m,a,i+m,a+v,x),C.arcTo(i+m,a+v,i,a+v,S),C.arcTo(i,a+v,i,a,M),C.arcTo(i,a,i+m,a,b),C.closePath()}return this._doFill&&C.fill(),this._doStroke&&C.stroke(),this},t.default.Renderer2D.prototype.triangle=function(o){var i=this.drawingContext,a=this._doFill,m=this._doStroke,v=o[0],b=o[1],x=o[2],S=o[3],M=o[4],C=o[5];if(a&&!m){if(this._getFill()===n)return this}else if(!a&&m&&this._getStroke()===n)return this;i.beginPath(),i.moveTo(v,b),i.lineTo(x,S),i.lineTo(M,C),i.closePath(),a&&i.fill(),m&&i.stroke()},t.default.Renderer2D.prototype.endShape=function(o,i,a,m,v,b,x){if(i.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var S,M,C,O=o===c.CLOSE;O&&!b&&i.push(i[0]);var R=i.length;if(!a||x!==c.POLYGON&&x!==null)if(!m||x!==c.POLYGON&&x!==null)if(!v||x!==c.POLYGON&&x!==null)if(x===c.POINTS)for(M=0;M<R;M++)S=i[M],this._doStroke&&this._pInst.stroke(S[6]),this._pInst.point(S[0],S[1]);else if(x===c.LINES)for(M=0;M+1<R;M+=2)S=i[M],this._doStroke&&this._pInst.stroke(i[M+1][6]),this._pInst.line(S[0],S[1],i[M+1][0],i[M+1][1]);else if(x===c.TRIANGLES)for(M=0;M+2<R;M+=3)S=i[M],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(i[M+1][0],i[M+1][1]),this.drawingContext.lineTo(i[M+2][0],i[M+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[M+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[M+2][6]),this.drawingContext.stroke());else if(x===c.TRIANGLE_STRIP)for(M=0;M+1<R;M++)S=i[M],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[M+1][0],i[M+1][1]),this.drawingContext.lineTo(S[0],S[1]),this._doStroke&&this._pInst.stroke(i[M+1][6]),this._doFill&&this._pInst.fill(i[M+1][5]),M+2<R&&(this.drawingContext.lineTo(i[M+2][0],i[M+2][1]),this._doStroke&&this._pInst.stroke(i[M+2][6]),this._doFill&&this._pInst.fill(i[M+2][5])),this._doFillStrokeClose(O);else if(x===c.TRIANGLE_FAN){if(2<R){for(this.drawingContext.beginPath(),M=2;M<R;M++)S=i[M],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[M-1][0],i[M-1][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),M<R-1&&(this._doFill&&S[5]!==i[M+1][5]||this._doStroke&&S[6]!==i[M+1][6])&&(this._doFill&&(this._pInst.fill(S[5]),this.drawingContext.fill(),this._pInst.fill(i[M+1][5])),this._doStroke&&(this._pInst.stroke(S[6]),this.drawingContext.stroke(),this._pInst.stroke(i[M+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(O)}}else if(x===c.QUADS)for(M=0;M+3<R;M+=4){for(S=i[M],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),C=1;C<4;C++)this.drawingContext.lineTo(i[M+C][0],i[M+C][1]);this.drawingContext.lineTo(S[0],S[1]),this._doFill&&this._pInst.fill(i[M+3][5]),this._doStroke&&this._pInst.stroke(i[M+3][6]),this._doFillStrokeClose(O)}else if(x===c.QUAD_STRIP){if(3<R)for(M=0;M+1<R;M+=2)S=i[M],this.drawingContext.beginPath(),M+3<R?(this.drawingContext.moveTo(i[M+2][0],i[M+2][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(i[M+1][0],i[M+1][1]),this.drawingContext.lineTo(i[M+3][0],i[M+3][1]),this._doFill&&this._pInst.fill(i[M+3][5]),this._doStroke&&this._pInst.stroke(i[M+3][6])):(this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(i[M+1][0],i[M+1][1])),this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),M=1;M<R;M++)(S=i[M]).isVert&&(S.moveTo?this.drawingContext.moveTo(S[0],S[1]):this.drawingContext.lineTo(S[0],S[1]));this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),M=0;M<R;M++)i[M].isVert?i[M].moveTo?this.drawingContext.moveTo(i[M][0],i[M][1]):this.drawingContext.lineTo(i[M][0],i[M][1]):this.drawingContext.quadraticCurveTo(i[M][0],i[M][1],i[M][2],i[M][3]);this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),M=0;M<R;M++)i[M].isVert?i[M].moveTo?this.drawingContext.moveTo(i[M][0],i[M][1]):this.drawingContext.lineTo(i[M][0],i[M][1]):this.drawingContext.bezierCurveTo(i[M][0],i[M][1],i[M][2],i[M][3],i[M][4],i[M][5]);this._doFillStrokeClose(O)}else if(3<R){var P=[],L=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),M=1;M+2<R;M++)S=i[M],P[0]=[S[0],S[1]],P[1]=[S[0]+(L*i[M+1][0]-L*i[M-1][0])/6,S[1]+(L*i[M+1][1]-L*i[M-1][1])/6],P[2]=[i[M+1][0]+(L*i[M][0]-L*i[M+2][0])/6,i[M+1][1]+(L*i[M][1]-L*i[M+2][1])/6],P[3]=[i[M+1][0],i[M+1][1]],this.drawingContext.bezierCurveTo(P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1]);O&&this.drawingContext.lineTo(i[M+1][0],i[M+1][1]),this._doFillStrokeClose(O)}return b=v=m=a=!1,O&&i.pop(),this},t.default.Renderer2D.prototype.strokeCap=function(o){return o!==c.ROUND&&o!==c.SQUARE&&o!==c.PROJECT||(this.drawingContext.lineCap=o),this},t.default.Renderer2D.prototype.strokeJoin=function(o){return o!==c.ROUND&&o!==c.BEVEL&&o!==c.MITER||(this.drawingContext.lineJoin=o),this},t.default.Renderer2D.prototype.strokeWeight=function(o){return this.drawingContext.lineWidth=o===void 0||o===0?1e-4:o,this},t.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},t.default.Renderer2D.prototype._setFill=function(o){o!==this._cachedFillStyle&&(this.drawingContext.fillStyle=o,this._cachedFillStyle=o)},t.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},t.default.Renderer2D.prototype._setStroke=function(o){o!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=o,this._cachedStrokeStyle=o)},t.default.Renderer2D.prototype.bezier=function(o,i,a,m,v,b,x,S){return this._pInst.beginShape(),this._pInst.vertex(o,i),this._pInst.bezierVertex(a,m,v,b,x,S),this._pInst.endShape(),this},t.default.Renderer2D.prototype.curve=function(o,i,a,m,v,b,x,S){return this._pInst.beginShape(),this._pInst.curveVertex(o,i),this._pInst.curveVertex(a,m),this._pInst.curveVertex(v,b),this._pInst.curveVertex(x,S),this._pInst.endShape(),this},t.default.Renderer2D.prototype._doFillStrokeClose=function(o){o&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},t.default.Renderer2D.prototype.applyMatrix=function(o,i,a,m,v,b){this.drawingContext.transform(o,i,a,m,v,b)},t.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},t.default.Renderer2D.prototype.rotate=function(o){this.drawingContext.rotate(o)},t.default.Renderer2D.prototype.scale=function(o,i){return this.drawingContext.scale(o,i),this},t.default.Renderer2D.prototype.translate=function(o,i){return o instanceof t.default.Vector&&(i=o.y,o=o.x),this.drawingContext.translate(o,i),this},t.default.Renderer2D.prototype.text=function(o,i,a,m,v){var b;m!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(b=!0,this.drawingContext.textBaseline=c.TOP);var x=t.default.Renderer.prototype.text.apply(this,arguments);return b&&(this.drawingContext.textBaseline=c.BASELINE),x},t.default.Renderer2D.prototype._renderText=function(o,i,a,m,v){if(!(v<=m))return o.push(),this._isOpenType()?this._textFont._renderPath(i,a,m,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,a,m),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,a,m))),o.pop(),o},t.default.Renderer2D.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):this.drawingContext.measureText(o).width},t.default.Renderer2D.prototype._applyTextProperties=function(){var o,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),o=this._textFont,this._isOpenType()&&(o=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(o||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,i},t.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),t.default.Renderer.prototype.push.apply(this)},t.default.Renderer2D.prototype.pop=function(o){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t.default.Renderer.prototype.pop.call(this,o)};var r=t.default.Renderer2D;p.default=r},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype._promisePreloads=[];var c=!(t.default.prototype.registerPromisePreload=function(d){t.default.prototype._promisePreloads.push(d)});t.default.prototype._setupPromisePreloads=function(){var d=!0,l=!1,n=void 0;try{for(var r,o=this._promisePreloads[Symbol.iterator]();!(d=(r=o.next()).done);d=!0){var i=r.value,a=this,m=i.method,v=i.addCallbacks,b=i.legacyPreloadSetup,x=i.target||this,S=x[m].bind(x);if(x===t.default.prototype){if(c)continue;a=null,S=x[m]}x[m]=this._wrapPromisePreload(a,S,v),b&&(x[b.method]=this._legacyPreloadGenerator(a,b,x[m]))}}catch(M){l=!0,n=M}finally{try{d||o.return==null||o.return()}finally{if(l)throw n}}c=!0},t.default.prototype._wrapPromisePreload=function(d,l,n){var r=function(){var o=this;this._incrementPreload();for(var i=null,a=null,m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];if(n)for(var x=v.length-1;0<=x&&!a&&typeof v[x]=="function";x--)a=i,i=v.pop();var S=Promise.resolve(l.apply(this,v));return i&&S.then(i),a&&S.catch(a),S.then(function(){return o._decrementPreload()}),S};return d&&(r=r.bind(d)),r};function u(){return{}}t.default.prototype._legacyPreloadGenerator=function(d,l,n){var r=l.createBaseObject||u,o=function(){var i=this;this._incrementPreload();var a=r.apply(this,arguments);return n.apply(this,arguments).then(function(m){Object.assign(a,m),i._decrementPreload()}),a};return d&&(o=o.bind(d)),o}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h},c=function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var o=u();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var v=a?Object.getOwnPropertyDescriptor(r,m):null;v&&(v.get||v.set)?Object.defineProperty(i,m,v):i[m]=r[m]}return i.default=r,o&&o.set(r,i),i}(e("./constants"));function u(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return u=function(){return r},r}function d(r){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var l="defaultCanvas0";t.default.prototype.createCanvas=function(r,o,i){t.default._validateParameters("createCanvas",arguments);var a,m=i||c.P2D;if(m===c.WEBGL){if(a=document.getElementById(l)){a.parentNode.removeChild(a);var v=this._renderer;this._elements=this._elements.filter(function(S){return S!==v})}(a=document.createElement("canvas")).id=l,a.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)a=this.canvas;else{a=document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;l="defaultCanvas".concat(b),a.id=l,a.classList.add("p5Canvas")}if(this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),this._userNode)this._userNode.appendChild(a);else{if(document.getElementsByTagName("main").length===0){var x=document.createElement("main");document.body.appendChild(x)}document.getElementsByTagName("main")[0].appendChild(a)}return m===c.WEBGL?(this._setProperty("_renderer",new t.default.RendererGL(a,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new t.default.Renderer2D(a,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,o),this._renderer._applyDefaults(),this._renderer},t.default.prototype.resizeCanvas=function(r,o,i){if(t.default._validateParameters("resizeCanvas",arguments),this._renderer){var a={};for(var m in this.drawingContext){var v=this.drawingContext[m];d(v)!=="object"&&typeof v!="function"&&(a[m]=v)}for(var b in this._renderer.resize(r,o),this.width=r,this.height=o,a)try{this.drawingContext[b]=a[b]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},t.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.default.prototype.createGraphics=function(r,o,i){return t.default._validateParameters("createGraphics",arguments),new t.default.Graphics(r,o,i,this)},t.default.prototype.blendMode=function(r){t.default._validateParameters("blendMode",arguments),r===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=c.BLEND),this._renderer.blendMode(r)};var n=t.default;p.default=n},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,y,p){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=l(e("../main")),c=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=d();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var v=a?Object.getOwnPropertyDescriptor(r,m):null;v&&(v.get||v.set)?Object.defineProperty(i,m,v):i[m]=r[m]}return i.default=r,o&&o.set(r,i),i}(e("../constants")),u=l(e("../helpers"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}function l(r){return r&&r.__esModule?r:{default:r}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype._normalizeArcAngles=function(r,o,i,a,m){var v;return r-=c.TWO_PI*Math.floor(r/c.TWO_PI),o-=c.TWO_PI*Math.floor(o/c.TWO_PI),v=Math.min(Math.abs(r-o),c.TWO_PI-Math.abs(r-o)),m&&(r=r<=c.HALF_PI?Math.atan(i/a*Math.tan(r)):r>c.HALF_PI&&r<=3*c.HALF_PI?Math.atan(i/a*Math.tan(r))+c.PI:Math.atan(i/a*Math.tan(r))+c.TWO_PI,o=o<=c.HALF_PI?Math.atan(i/a*Math.tan(o)):o>c.HALF_PI&&o<=3*c.HALF_PI?Math.atan(i/a*Math.tan(o))+c.PI:Math.atan(i/a*Math.tan(o))+c.TWO_PI),o<r&&(o+=c.TWO_PI),{start:r,stop:o,correspondToSamePoint:v<1e-5}},t.default.prototype.arc=function(r,o,i,a,m,v,b,x){if(t.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(m===v)return this;m=this._toRadians(m),v=this._toRadians(v),i=Math.abs(i),a=Math.abs(a);var S=u.default.modeAdjust(r,o,i,a,this._renderer._ellipseMode),M=this._normalizeArcAngles(m,v,S.w,S.h,!0);return M.correspondToSamePoint?this._renderer.ellipse([S.x,S.y,S.w,S.h,x]):(this._renderer.arc(S.x,S.y,S.w,S.h,M.start,M.stop,b,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[S.x,S.y,S.w,S.h,M.start,M.stop,b])),this},t.default.prototype.ellipse=function(r,o,i,a,m){return t.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},t.default.prototype.circle=function(){t.default._validateParameters("circle",arguments);var r=Array.prototype.slice.call(arguments,0,2);return r.push(arguments[2]),r.push(arguments[2]),this._renderEllipse.apply(this,r)},t.default.prototype._renderEllipse=function(r,o,i,a,m){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;i<0&&(i=Math.abs(i)),a===void 0?a=i:a<0&&(a=Math.abs(a));var v=u.default.modeAdjust(r,o,i,a,this._renderer._ellipseMode);return this._renderer.ellipse([v.x,v.y,v.w,v.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[v.x,v.y,v.w,v.h]),this},t.default.prototype.line=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("line",o),this._renderer._doStroke&&(a=this._renderer).line.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",o),this},t.default.prototype.point=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("point",o),this._renderer._doStroke&&(o.length===1&&o[0]instanceof t.default.Vector?this._renderer.point.call(this._renderer,o[0].x,o[0].y,o[0].z):((a=this._renderer).point.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",o))),this},t.default.prototype.quad=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("quad",o),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&o.length<=12?this._renderer.quad.call(this._renderer,o[0],o[1],0,o[2],o[3],0,o[4],o[5],0,o[6],o[7],0,o[8],o[9]):((a=this._renderer).quad.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",o))),this},t.default.prototype.rect=function(){return t.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},t.default.prototype.square=function(r,o,i,a,m,v,b){return t.default._validateParameters("square",arguments),this._renderRect.call(this,r,o,i,i,a,m,v,b)},t.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var r=u.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),o=[r.x,r.y,r.w,r.h],i=4;i<arguments.length;i++)o[i]=arguments[i];this._renderer.rect(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.default.prototype.triangle=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.default._validateParameters("triangle",o),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",o),this};var n=t.default;p.default=n},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.prototype.ellipseMode=function(n){return c.default._validateParameters("ellipseMode",arguments),n!==u.CORNER&&n!==u.CORNERS&&n!==u.RADIUS&&n!==u.CENTER||(this._renderer._ellipseMode=n),this},c.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(n){return c.default._validateParameters("rectMode",arguments),n!==u.CORNER&&n!==u.CORNERS&&n!==u.RADIUS&&n!==u.CENTER||(this._renderer._rectMode=n),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(n){return c.default._validateParameters("strokeCap",arguments),n!==u.ROUND&&n!==u.SQUARE&&n!==u.PROJECT||this._renderer.strokeCap(n),this},c.default.prototype.strokeJoin=function(n){return c.default._validateParameters("strokeJoin",arguments),n!==u.ROUND&&n!==u.BEVEL&&n!==u.MITER||this._renderer.strokeJoin(n),this},c.default.prototype.strokeWeight=function(n){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var l=c.default;p.default=l},{"../constants":253,"../main":264}],273:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype.bezier=function(){for(var u,d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("bezier",l),(this._renderer._doStroke||this._renderer._doFill)&&(u=this._renderer).bezier.apply(u,l),this},t.default.prototype.bezierDetail=function(u){return t.default._validateParameters("bezierDetail",arguments),this._bezierDetail=u,this},t.default.prototype.bezierPoint=function(u,d,l,n,r){t.default._validateParameters("bezierPoint",arguments);var o=1-r;return Math.pow(o,3)*u+3*Math.pow(o,2)*r*d+3*o*Math.pow(r,2)*l+Math.pow(r,3)*n},t.default.prototype.bezierTangent=function(u,d,l,n,r){t.default._validateParameters("bezierTangent",arguments);var o=1-r;return 3*n*Math.pow(r,2)-3*l*Math.pow(r,2)+6*l*o*r-6*d*o*r+3*d*Math.pow(o,2)-3*u*Math.pow(o,2)},t.default.prototype.curve=function(){for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];var n;return t.default._validateParameters("curve",d),this._renderer._doStroke&&(n=this._renderer).curve.apply(n,d),this},t.default.prototype.curveDetail=function(u){return t.default._validateParameters("curveDetail",arguments),this._curveDetail=u<3?3:u,this},t.default.prototype.curveTightness=function(u){return t.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=u,this},t.default.prototype.curvePoint=function(u,d,l,n,r){t.default._validateParameters("curvePoint",arguments);var o=r*r*r,i=r*r;return u*(-.5*o+i-.5*r)+d*(1.5*o-2.5*i+1)+l*(-1.5*o+2*i+.5*r)+n*(.5*o-.5*i)},t.default.prototype.curveTangent=function(u,d,l,n,r){t.default._validateParameters("curveTangent",arguments);var o=r*r;return u*(-3*o/2+2*r-.5)+d*(9*o/2-5*r)+l*(-9*o/2+4*r+.5)+n*(3*o/2-r)};var c=t.default;p.default=c},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,y,p){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}e("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},u=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var S=d();if(S&&S.has(x))return S.get(x);var M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in x)if(Object.prototype.hasOwnProperty.call(x,O)){var R=C?Object.getOwnPropertyDescriptor(x,O):null;R&&(R.get||R.set)?Object.defineProperty(M,O,R):M[O]=x[O]}return M.default=x,S&&S.set(x,M),M}(e("../constants"));function d(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return d=function(){return x},x}var l=null,n=[],r=[],o=!1,i=!1,a=!1,m=!1,v=!0;c.default.prototype.beginContour=function(){return r=[],m=!0,this},c.default.prototype.beginShape=function(x){var S;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(S=this._renderer).beginShape.apply(S,arguments):(l=x===u.POINTS||x===u.LINES||x===u.TRIANGLES||x===u.TRIANGLE_FAN||x===u.TRIANGLE_STRIP||x===u.QUADS||x===u.QUAD_STRIP?x:null,n=[],r=[]),this},c.default.prototype.bezierVertex=function(){for(var x=arguments.length,S=new Array(x),M=0;M<x;M++)S[M]=arguments[M];var C;if(c.default._validateParameters("bezierVertex",S),this._renderer.isP3D)(C=this._renderer).bezierVertex.apply(C,S);else if(n.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var O=[],R=0;R<S.length;R++)O[R]=S[R];O.isVert=!1,m?r.push(O):n.push(O)}return this},c.default.prototype.curveVertex=function(){for(var x=arguments.length,S=new Array(x),M=0;M<x;M++)S[M]=arguments[M];var C;return c.default._validateParameters("curveVertex",S),this._renderer.isP3D?(C=this._renderer).curveVertex.apply(C,S):(i=!0,this.vertex(S[0],S[1])),this},c.default.prototype.endContour=function(){var x=r[0].slice();x.isVert=r[0].isVert,x.moveTo=!1,r.push(x),v&&(n.push(n[0]),v=!1);for(var S=0;S<r.length;S++)n.push(r[S]);return this},c.default.prototype.endShape=function(x){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(x,i,o,a,m,l);else{if(n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var S=x===u.CLOSE;S&&!m&&n.push(n[0]),this._renderer.endShape(x,n,i,o,a,m,l),v=!(m=a=o=i=!1),S&&n.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var x=arguments.length,S=new Array(x),M=0;M<x;M++)S[M]=arguments[M];if(c.default._validateParameters("quadraticVertex",S),this._renderer.isP3D){var C;(C=this._renderer).quadraticVertex.apply(C,S)}else{if(this._contourInited){var O={};return O.x=S[0],O.y=S[1],O.x3=S[2],O.y3=S[3],O.type=u.QUADRATIC,this._contourVertices.push(O),this}if(0<n.length){a=!0;for(var R=[],P=0;P<S.length;P++)R[P]=S[P];R.isVert=!1,m?r.push(R):n.push(R)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(x,S,M,C,O){if(this._renderer.isP3D){var R;(R=this._renderer).vertex.apply(R,arguments)}else{var P=[];P.isVert=!0,P[0]=x,P[1]=S,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),M&&(P.moveTo=M),m?(r.length===0&&(P.moveTo=!0),r.push(P)):n.push(P)}return this},c.default.prototype.normal=function(x,S,M){var C;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(C=this._renderer).normal.apply(C,arguments),this};var b=c.default;p.default=b},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,y,p){function h(t){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,c){window.setTimeout(t,1e3/60)},typeof Uint8ClampedArray=="undefined"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,c=Object.defineProperty,u=typeof Symbol=="function"&&h(Symbol())==="symbol",d=Object.prototype.propertyIsEnumerable,l=function(n){return function(r){return d.call(n,r)}};c(Object,"assign",{value:function(n,r){if(n==null)throw new TypeError("target must be an object");var o,i,a,m,v=Object(n);for(o=1;o<arguments.length;++o)for(i=Object(arguments[o]),m=t(i),u&&Object.getOwnPropertySymbols&&m.push.apply(m,Object.getOwnPropertySymbols(i).filter(l(i))),a=0;a<m.length;++a)v[m[a]]=i[m[a]];return v},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,y,p){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var u=this._styles.pop();u?(this._renderer.pop(u.renderer),Object.assign(this,u.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(u){if(!this._inUserDraw&&this._setupDone){var d=parseInt(u);(isNaN(d)||d<1)&&(d=1);var l=this._isGlobal?window:this;if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var n=function(o){o.call(l)},r=0;r<d;r++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),l._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}l._registeredMethods.post.forEach(n)}}}};var c=t.default;p.default=c},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};function c(d){return function(l){if(Array.isArray(l)){for(var n=0,r=new Array(l.length);n<l.length;n++)r[n]=l[n];return r}}(d)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default.prototype.applyMatrix=function(){var d,l,n=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||n?(d=this._renderer).applyMatrix.apply(d,c(arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},t.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.default.prototype.rotate=function(d,l){return t.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(d),l),this},t.default.prototype.rotateX=function(d){return this._assert3d("rotateX"),t.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(d)),this},t.default.prototype.rotateY=function(d){return this._assert3d("rotateY"),t.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(d)),this},t.default.prototype.rotateZ=function(d){return this._assert3d("rotateZ"),t.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(d)),this},t.default.prototype.scale=function(d,l,n){if(t.default._validateParameters("scale",arguments),d instanceof t.default.Vector){var r=d;d=r.x,l=r.y,n=r.z}else if(d instanceof Array){var o=d;d=o[0],l=o[1],n=o[2]||1}return isNaN(l)?l=n=d:isNaN(n)&&(n=1),this._renderer.scale.call(this._renderer,d,l,n),this},t.default.prototype.shearX=function(d){t.default._validateParameters("shearX",arguments);var l=this._toRadians(d);return this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},t.default.prototype.shearY=function(d){t.default._validateParameters("shearY",arguments);var l=this._toRadians(d);return this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},t.default.prototype.translate=function(d,l,n){return t.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(d,l,n):this._renderer.translate(d,l),this};var u=t.default;p.default=u},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(d){return function(l){if(Array.isArray(l)){for(var n=0,r=new Array(l.length);n<l.length;n++)r[n]=l[n];return r}}(d)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(d){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}t.default.prototype.storeItem=function(d,l){typeof d!="string"&&console.log("The argument that you passed to storeItem() - ".concat(d," is not a string.")),d.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(d," must not end with 'p5TypeID'.")),l===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=u(l);switch(n){case"number":case"boolean":l=l.toString();break;case"object":l instanceof t.default.Color?n="p5.Color":l instanceof t.default.Vector&&(n="p5.Vector",l=[l.x,l.y,l.z]),l=JSON.stringify(l)}localStorage.setItem(d,l);var r="".concat(d,"p5TypeID");localStorage.setItem(r,n)},t.default.prototype.getItem=function(d){var l=localStorage.getItem(d),n=localStorage.getItem("".concat(d,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(d,"in local storage. Did you save the item with something other than setItem()?"));else if(l!==null)switch(n){case"number":l=parseFloat(l);break;case"boolean":l=l==="true";break;case"object":l=JSON.parse(l);break;case"p5.Color":l=JSON.parse(l),l=this.color.apply(this,c(l.levels));break;case"p5.Vector":l=JSON.parse(l),l=this.createVector.apply(this,c(l))}return l},t.default.prototype.clearStorage=function(){localStorage.clear()},t.default.prototype.removeItem=function(d){typeof d!="string"&&console.log("The argument that you passed to removeItem() - ".concat(d," is not a string.")),localStorage.removeItem(d),localStorage.removeItem("".concat(d,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.createStringDict=function(u,d){return t.default._validateParameters("createStringDict",arguments),new t.default.StringDict(u,d)},t.default.prototype.createNumberDict=function(u,d){return t.default._validateParameters("createNumberDict",arguments),new t.default.NumberDict(u,d)},t.default.TypedDict=function(u,d){return u instanceof Object?this.data=u:(this.data={},this.data[u]=d),this},t.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},t.default.TypedDict.prototype.hasKey=function(u){return this.data.hasOwnProperty(u)},t.default.TypedDict.prototype.get=function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))},t.default.TypedDict.prototype.set=function(u,d){this._validate(d)?this.data[u]=d:console.log("Those values dont work for this dictionary type.")},t.default.TypedDict.prototype._addObj=function(u){for(var d in u)this.set(d,u[d])},t.default.TypedDict.prototype.create=function(u,d){u instanceof Object&&d===void 0?this._addObj(u):u!==void 0?this.set(u,d):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},t.default.TypedDict.prototype.clear=function(){this.data={}},t.default.TypedDict.prototype.remove=function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]},t.default.TypedDict.prototype.print=function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))},t.default.TypedDict.prototype.saveTable=function(u){var d="";for(var l in this.data)d+="".concat(l,",").concat(this.data[l],`
`);var n=new Blob([d],{type:"text/csv"});t.default.prototype.downloadFile(n,u||"mycsv","csv")},t.default.TypedDict.prototype.saveJSON=function(u,d){t.default.prototype.saveJSON(this.data,u,d)},t.default.TypedDict.prototype._validate=function(u){return!0},t.default.StringDict=function(){for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];t.default.TypedDict.apply(this,d)},t.default.StringDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.StringDict.prototype._validate=function(u){return typeof u=="string"},t.default.NumberDict=function(){for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];t.default.TypedDict.apply(this,d)},t.default.NumberDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.NumberDict.prototype._validate=function(u){return typeof u=="number"},t.default.NumberDict.prototype.add=function(u,d){this.data.hasOwnProperty(u)?this.data[u]+=d:console.log("The key - ".concat(u," does not exist in this dictionary."))},t.default.NumberDict.prototype.sub=function(u,d){this.add(u,-d)},t.default.NumberDict.prototype.mult=function(u,d){this.data.hasOwnProperty(u)?this.data[u]*=d:console.log("The key - ".concat(u," does not exist in this dictionary."))},t.default.NumberDict.prototype.div=function(u,d){this.data.hasOwnProperty(u)?this.data[u]/=d:console.log("The key - ".concat(u," does not exist in this dictionary."))},t.default.NumberDict.prototype._valueTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var d=this.data[Object.keys(this.data)[0]];for(var l in this.data)this.data[l]*u<d*u&&(d=this.data[l]);return d},t.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},t.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},t.default.NumberDict.prototype._keyTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var d=Object.keys(this.data)[0],l=1;l<Object.keys(this.data).length;l++)Object.keys(this.data)[l]*u<d*u&&(d=Object.keys(this.data)[l]);return d},t.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},t.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var c=t.default.TypedDict;p.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function u(r,o,i){(o._userNode?o._userNode:document.body).appendChild(r);var a=i?new t.default.MediaElement(r,o):new t.default.Element(r,o);return o._elements.push(a),a}function d(r,o,i,a){var m=document.createElement(o);typeof(i=i||"")=="string"&&(i=[i]);var v=!0,b=!1,x=void 0;try{for(var S,M=i[Symbol.iterator]();!(v=(S=M.next()).done);v=!0){var C=S.value,O=document.createElement("source");O.setAttribute("src",C),m.appendChild(O)}}catch(P){b=!0,x=P}finally{try{v||M.return==null||M.return()}finally{if(b)throw x}}typeof a=="function"&&m.addEventListener("canplaythrough",function P(){a(),m.removeEventListener("canplaythrough",P)});var R=u(m,r,!0);return R.loadedmetadata=!1,m.addEventListener("loadedmetadata",function(){R.width=m.videoWidth,R.height=m.videoHeight,R.elt.width===0&&(R.elt.width=m.videoWidth),R.elt.height===0&&(R.elt.height=m.videoHeight),R.presetPlaybackRate&&(R.elt.playbackRate=R.presetPlaybackRate,delete R.presetPlaybackRate),R.loadedmetadata=!0}),R}t.default.prototype.select=function(r,o){t.default._validateParameters("select",arguments);var i=this._getContainer(o).querySelector(r);return i?this._wrapElement(i):null},t.default.prototype.selectAll=function(r,o){t.default._validateParameters("selectAll",arguments);var i=[],a=this._getContainer(o).querySelectorAll(r);if(a)for(var m=0;m<a.length;m++){var v=this._wrapElement(a[m]);i.push(v)}return i},t.default.prototype._getContainer=function(r){var o=document;return typeof r=="string"?o=document.querySelector(r)||document:r instanceof t.default.Element?o=r.elt:r instanceof HTMLElement&&(o=r),o},t.default.prototype._wrapElement=function(r){var o=Array.prototype.slice.call(r.children);if(r.tagName!=="INPUT"||r.type!=="checkbox")return r.tagName==="VIDEO"||r.tagName==="AUDIO"?new t.default.MediaElement(r,this):r.tagName==="SELECT"?this.createSelect(new t.default.Element(r,this)):0<o.length&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})?this.createRadio(new t.default.Element(r,this)):new t.default.Element(r,this);var i=new t.default.Element(r,this);return i.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},i},t.default.prototype.removeElements=function(r){t.default._validateParameters("removeElements",arguments),this._elements.filter(function(o){return!(o.elt instanceof HTMLCanvasElement)}).map(function(o){return o.remove()})},t.default.Element.prototype.changed=function(r){return t.default.Element._adjustListener("change",r,this),this},t.default.Element.prototype.input=function(r){return t.default.Element._adjustListener("input",r,this),this},t.default.prototype.createDiv=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("div");return o.innerHTML=r,u(o,this)},t.default.prototype.createP=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("p");return o.innerHTML=r,u(o,this)},t.default.prototype.createSpan=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("span");return o.innerHTML=r,u(o,this)},t.default.prototype.createImg=function(){t.default._validateParameters("createImg",arguments);var r,o=document.createElement("img"),i=arguments;return 1<i.length&&typeof i[1]=="string"&&(o.alt=i[1]),2<i.length&&typeof i[2]=="string"&&(o.crossOrigin=i[2]),o.src=i[0],r=u(o,this),o.addEventListener("load",function(){r.width=o.offsetWidth||o.width,r.height=o.offsetHeight||o.height;var a=i[i.length-1];typeof a=="function"&&a(r)}),r},t.default.prototype.createA=function(r,o,i){t.default._validateParameters("createA",arguments);var a=document.createElement("a");return a.href=r,a.innerHTML=o,i&&(a.target=i),u(a,this)},t.default.prototype.createSlider=function(r,o,i,a){t.default._validateParameters("createSlider",arguments);var m=document.createElement("input");return m.type="range",m.min=r,m.max=o,a===0?m.step=1e-18:a&&(m.step=a),typeof i=="number"&&(m.value=i),u(m,this)},t.default.prototype.createButton=function(r,o){t.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=r,o&&(i.value=o),u(i,this)},t.default.prototype.createCheckbox=function(){t.default._validateParameters("createCheckbox",arguments);var r=document.createElement("div"),o=document.createElement("input");o.type="checkbox";var i=document.createElement("label");i.appendChild(o),r.appendChild(i);var a=u(r,this);if(a.checked=function(){var v=a.elt.firstElementChild.getElementsByTagName("input")[0];if(v){if(arguments.length===0)return v.checked;v.checked=!!arguments[0]}return a},this.value=function(v){return a.value=v,this},arguments[0]){a.value(arguments[0]);var m=document.createElement("span");m.innerHTML=arguments[0],i.appendChild(m)}return arguments[1]&&(o.checked=!0),a},t.default.prototype.createSelect=function(){var r;t.default._validateParameters("createSelect",arguments);var o=arguments[0];if(o instanceof t.default.Element&&o.elt instanceof HTMLSelectElement)r=o,this.elt=o.elt;else if(o instanceof HTMLSelectElement)r=u(o,this),this.elt=o;else{var i=document.createElement("select");o&&typeof o=="boolean"&&i.setAttribute("multiple","true"),r=u(i,this),this.elt=i}return r.option=function(a,m){var v;if(a!==void 0){for(var b=0;b<this.elt.length;b+=1)if(this.elt[b].innerHTML===a){v=b;break}if(v!==void 0)m===!1?this.elt.remove(v):this.elt[v].value=m;else{var x=document.createElement("option");x.innerHTML=a,x.value=m===void 0?a:m,this.elt.appendChild(x),this._pInst._elements.push(x)}}},r.selected=function(a){if(a!==void 0){for(var m=0;m<this.elt.length;m+=1)this.elt[m].value.toString()===a.toString()&&(this.elt.selectedIndex=m);return this}if(this.elt.getAttribute("multiple")){var v=[],b=!0,x=!1,S=void 0;try{for(var M,C=this.elt.selectedOptions[Symbol.iterator]();!(b=(M=C.next()).done);b=!0){var O=M.value;v.push(O.value)}}catch(R){x=!0,S=R}finally{try{b||C.return==null||C.return()}finally{if(x)throw S}}return v}return this.elt.value},r.disable=function(a){if(typeof a=="string")for(var m=0;m<this.elt.length;m++)this.elt[m].value.toString()===a&&(this.elt[m].disabled=!0,this.elt[m].selected=!1);else this.elt.disabled=!0;return this},r},t.default.prototype.createRadio=function(){var r,o,i=arguments[0];i instanceof HTMLDivElement||i instanceof HTMLSpanElement?(r=i,typeof arguments[1]=="string"&&(o=arguments[1])):(typeof i=="string"&&(o=i),r=document.createElement("div"));var a=u(this.elt=r,this);a._name=o||"radioOption";function m(b){return b instanceof HTMLInputElement&&b.type==="radio"}function v(b){return b instanceof HTMLLabelElement}return a._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(b){return m(b)||v(b)&&m(b.firstElementChild)}).map(function(b){return m(b)?b:b.firstElementChild})},a.option=function(b,x){var S,M,C,O=!0,R=!1,P=void 0;try{for(var L,U=a._getOptionsArray()[Symbol.iterator]();!(O=(L=U.next()).done);O=!0){var A=L.value;if(A.value===b){S=A;break}}}catch(B){R=!0,P=B}finally{try{O||U.return==null||U.return()}finally{if(R)throw P}}return S===void 0&&((S=document.createElement("input")).setAttribute("type","radio"),S.setAttribute("value",b)),S.setAttribute("name",a._name),v(S.parentElement)?M=S.parentElement:(M=document.createElement("label")).insertAdjacentElement("afterbegin",S),M.lastElementChild instanceof HTMLSpanElement?C=M.lastElementChild:(C=document.createElement("span"),S.insertAdjacentElement("afterend",C)),C.innerHTML=x===void 0?b:x,this.elt.appendChild(M),S},a.remove=function(b){var x=!0,S=!1,M=void 0;try{for(var C,O=a._getOptionsArray()[Symbol.iterator]();!(x=(C=O.next()).done);x=!0){var R=C.value;if(R.value===b)return void(v(R.parentElement)?R.parentElement.remove():R.remove())}}catch(P){S=!0,M=P}finally{try{x||O.return==null||O.return()}finally{if(S)throw M}}},a.value=function(){var b="",x=!0,S=!1,M=void 0;try{for(var C,O=a._getOptionsArray()[Symbol.iterator]();!(x=(C=O.next()).done);x=!0){var R=C.value;if(R.checked){b=R.value;break}}}catch(P){S=!0,M=P}finally{try{x||O.return==null||O.return()}finally{if(S)throw M}}return b},a.selected=function(b){var x=null;if(b===void 0){var S=!0,M=!1,C=void 0;try{for(var O,R=a._getOptionsArray()[Symbol.iterator]();!(S=(O=R.next()).done);S=!0){var P=O.value;if(P.checked){x=P;break}}}catch(re){M=!0,C=re}finally{try{S||R.return==null||R.return()}finally{if(M)throw C}}}else{var L=!0,U=!1,A=void 0;try{for(var B,F=a._getOptionsArray()[Symbol.iterator]();!(L=(B=F.next()).done);L=!0){var K=B.value;K.value===b&&(K.setAttribute("checked",!0),x=K)}}catch(re){U=!0,A=re}finally{try{L||F.return==null||F.return()}finally{if(U)throw A}}}return x},a.disable=function(){var b=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],x=!0,S=!1,M=void 0;try{for(var C,O=a._getOptionsArray()[Symbol.iterator]();!(x=(C=O.next()).done);x=!0)C.value.setAttribute("disabled",b)}catch(R){S=!0,M=R}finally{try{x||O.return==null||O.return()}finally{if(S)throw M}}},a},t.default.prototype.createColorPicker=function(r){t.default._validateParameters("createColorPicker",arguments);var o,i=document.createElement("input");return i.type="color",r?r instanceof t.default.Color?i.value=r.toString("#rrggbb"):(t.default.prototype._colorMode="rgb",t.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},i.value=t.default.prototype.color(r).toString("#rrggbb")):i.value="#000000",(o=u(i,this)).color=function(){return r&&(r.mode&&(t.default.prototype._colorMode=r.mode),r.maxes&&(t.default.prototype._colorMaxes=r.maxes)),t.default.prototype.color(this.elt.value)},o},t.default.prototype.createInput=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";t.default._validateParameters("createInput",arguments);var i=document.createElement("input");return i.setAttribute("value",r),i.setAttribute("type",o),u(i,this)},t.default.prototype.createFileInput=function(r){var o=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(t.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var i=document.createElement("input");return i.setAttribute("type","file"),o&&i.setAttribute("multiple",!0),i.addEventListener("change",function(a){var m=!0,v=!1,b=void 0;try{for(var x,S=a.target.files[Symbol.iterator]();!(m=(x=S.next()).done);m=!0){var M=x.value;t.default.File._load(M,r)}}catch(C){v=!0,b=C}finally{try{m||S.return==null||S.return()}finally{if(v)throw b}}},!1),u(i,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.default.prototype.createVideo=function(r,o){return t.default._validateParameters("createVideo",arguments),d(this,"video",r,o)},t.default.prototype.createAudio=function(r,o){return t.default._validateParameters("createAudio",arguments),d(this,"audio",r,o)},t.default.prototype.VIDEO="video",t.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(r){var o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(i,a){o.call(navigator,r,i,a)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.default.prototype.createCapture=function(){if(t.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var r,o,i=!0,a=!0,m=!0,v=!1,b=void 0;try{for(var x,S=arguments[Symbol.iterator]();!(m=(x=S.next()).done);m=!0){var M=x.value;M===t.default.prototype.VIDEO?a=!1:M===t.default.prototype.AUDIO?i=!1:c(M)==="object"?r=M:typeof M=="function"&&(o=M)}}catch(R){v=!0,b=R}finally{try{m||S.return==null||S.return()}finally{if(v)throw b}}r=r||{video:i,audio:a};var C=document.createElement("video");C.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(r).then(function(R){try{"srcObject"in C?C.srcObject=R:C.src=window.URL.createObjectURL(R)}catch{C.src=R}},console.log);var O=u(C,this,!0);return O.loadedmetadata=!1,C.addEventListener("loadedmetadata",function(){C.play(),C.width?(O.width=C.width,O.height=C.height):(O.width=O.elt.width=C.videoWidth,O.height=O.elt.height=C.videoHeight),O.loadedmetadata=!0,o&&o(C.srcObject)}),O},t.default.prototype.createElement=function(r,o){t.default._validateParameters("createElement",arguments);var i=document.createElement(r);return o!==void 0&&(i.innerHTML=o),u(i,this)},t.default.Element.prototype.addClass=function(r){return this.elt.className?this.hasClass(r)||(this.elt.className=this.elt.className+" "+r):this.elt.className=r,this},t.default.Element.prototype.removeClass=function(r){return this.elt.classList.remove(r),this},t.default.Element.prototype.hasClass=function(r){return this.elt.classList.contains(r)},t.default.Element.prototype.toggleClass=function(r){return this.elt.classList.contains(r)?this.elt.classList.remove(r):this.elt.classList.add(r),this},t.default.Element.prototype.child=function(r){return r===void 0?this.elt.childNodes:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof t.default.Element&&(r=r.elt),r instanceof HTMLElement&&this.elt.appendChild(r),this)},t.default.Element.prototype.center=function(r){var o=this.elt.style.display,i=this.elt.style.display==="none",a=this.parent().style.display==="none",m={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),a&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var v=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),b=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return r==="both"||r===void 0?this.position(v/2+this.parent().offsetLeft,b/2+this.parent().offsetTop):r==="horizontal"?this.position(v/2+this.parent().offsetLeft,m.y):r==="vertical"&&this.position(m.x,b/2+this.parent().offsetTop),this.style("display",o),i&&this.hide(),a&&this.parent().hide(),this},t.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},t.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var r="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(r=arguments[2]),this.elt.style.position=r,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},t.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=r,this},t.default.Element.prototype._rotate=function(){var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=r,this},t.default.Element.prototype.style=function(r,o){if(o instanceof t.default.Color&&(o="rgba("+o.levels[0]+","+o.levels[1]+","+o.levels[2]+","+o.levels[3]/255+")"),o===void 0){if(r.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(r);for(var i=r.split(";"),a=0;a<i.length;a++){var m=i[a].split(":");m[0]&&m[1]&&(this.elt.style[m[0].trim()]=m[1].trim())}}else if(this.elt.style[r]=o,r==="width"||r==="height"||r==="left"||r==="top"){var v=window.getComputedStyle(this.elt).getPropertyValue(r).replace(/\D+/g,"");this[r]=parseInt(v,10)}return this},t.default.Element.prototype.attribute=function(r,o){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return o===void 0?this.elt.getAttribute(r):(this.elt.setAttribute(r,o),this);if(o===void 0)return this.elt.firstChild.getAttribute(r);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(r,o)},t.default.Element.prototype.removeAttribute=function(r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var o=0;o<this.elt.childNodes.length;o++)this.elt.childNodes[o].removeAttribute(r);return this.elt.removeAttribute(r),this},t.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},t.default.Element.prototype.show=function(){return this.elt.style.display="block",this},t.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.default.Element.prototype.size=function(r,o){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=r,a=o,m=t.default.prototype.AUTO;if(i!==m||a!==m){if(i===m?i=o*this.width/this.height:a===m&&(a=r*this.height/this.width),this.elt instanceof HTMLCanvasElement){var v,b={},x=this.elt.getContext("2d");for(v in x)b[v]=x[v];for(v in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",a*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=a+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),b)this.elt.getContext("2d")[v]=b[v]}else this.elt.style.width=i+"px",this.elt.style.height=a+"px",this.elt.width=i,this.elt.height=a;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.default.Element.prototype.remove=function(){if(this instanceof t.default.MediaElement){this.stop();var r=this.elt.srcObject;r!==null&&r.getTracks().forEach(function(a){a.stop()})}var o=this._pInst._elements.indexOf(this);for(var i in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(i,this._events[i]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.default.Element.prototype.drop=function(r,o){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var i=function(a){a.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}t.default.Element._attachListener("drop",function(a){a.preventDefault(),typeof o=="function"&&o.call(this,a);for(var m=a.dataTransfer.files,v=0;v<m.length;v++){var b=m[v];t.default.File._load(b,r)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},t.default.MediaElement=function(r,o){t.default.Element.call(this,r,o);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var a=i.elt.children[0].src,m=i.elt.src===window.location.href?"":i.elt.src;return a===window.location.href?m:a},set:function(a){for(var m=0;m<i.elt.children.length;m++)i.elt.removeChild(i.elt.children[m]);var v=document.createElement("source");v.src=a,r.appendChild(v),i.elt.src=a,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},t.default.MediaElement.prototype=Object.create(t.default.Element.prototype),t.default.MediaElement.prototype.play=function(){var r,o=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(r=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&r.catch&&r.catch(function(i){i.name==="NotAllowedError"?t.default._friendlyAutoplayError(o.src):console.error("Media play method encountered an unexpected error",i)}),this},t.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},t.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var r=this,o=setTimeout(function(){return t.default._friendlyAutoplayError(r.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(o)},{passive:!0,once:!0})},t.default.MediaElement.prototype.autoplay=function(r){var o=this,i=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",r),r&&!i){var a=function(){return o._setupAutoplayFailDetection()};this.elt.readyState===4?a():this.elt.addEventListener("canplay",a,{passive:!0,once:!0})}return this},t.default.MediaElement.prototype.volume=function(r){if(r===void 0)return this.elt.volume;this.elt.volume=r},t.default.MediaElement.prototype.speed=function(r){if(r===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=r:this.presetPlaybackRate=r},t.default.MediaElement.prototype.time=function(r){return r===void 0?this.elt.currentTime:(this.elt.currentTime=r,this)},t.default.MediaElement.prototype.duration=function(){return this.elt.duration},t.default.MediaElement.prototype.pixels=[],t.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},t.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},t.default.MediaElement.prototype.updatePixels=function(r,o,i,a){return this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.updatePixels.call(this,r,o,i,a)),this.setModified(!0),this},t.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.get.apply(this,arguments)},t.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),t.default.Renderer2D.prototype._getPixel.apply(this,arguments)},t.default.MediaElement.prototype.set=function(r,o,i){this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.set.call(this,r,o,i),this.setModified(!0))},t.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.default.prototype.copy.apply(this,arguments)},t.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.default.Image.prototype.mask.apply(this,arguments)},t.default.MediaElement.prototype.isModified=function(){return this._modified},t.default.MediaElement.prototype.setModified=function(r){this._modified=r},t.default.MediaElement.prototype.onended=function(r){return this._onended=r,this},t.default.MediaElement.prototype.connect=function(r){var o,i;if(typeof t.default.prototype.getAudioContext=="function")o=t.default.prototype.getAudioContext(),i=t.default.soundOut.input;else try{i=(o=r.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=o.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),r?r.input?this.audioSourceNode.connect(r.input):this.audioSourceNode.connect(r):this.audioSourceNode.connect(i)},t.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function l(r,o,i,a){this.callback=r,this.time=o,this.id=i,this.val=a}t.default.MediaElement.prototype.addCue=function(r,o,i){var a=this._cueIDCounter++,m=new l(o,r,a,i);return this._cues.push(m),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),a},t.default.MediaElement.prototype.removeCue=function(r){for(var o=0;o<this._cues.length;o++)this._cues[o].id===r&&(console.log(r),this._cues.splice(o,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},t.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.default.MediaElement.prototype._onTimeUpdate=function(){for(var r=this.time(),o=0;o<this._cues.length;o++){var i=this._cues[o].time,a=this._cues[o].val;this._prevTime<i&&i<=r&&this._cues[o].callback(a)}this._prevTime=r},t.default.File=function(r,o){this.file=r,this._pInst=o;var i=r.type.split("/");this.type=i[0],this.subtype=i[1],this.name=r.name,this.size=r.size,this.data=void 0},t.default.File._createLoader=function(r,o){var i=new FileReader;return i.onload=function(a){var m=new t.default.File(r);if(m.file.type==="application/json")m.data=JSON.parse(a.target.result);else if(m.file.type==="text/xml"){var v=new DOMParser().parseFromString(a.target.result,"text/xml");m.data=new t.default.XML(v.documentElement)}else m.data=a.target.result;o(m)},i},t.default.File._load=function(r,o){if(/^text\//.test(r.type)||r.type==="application/json")t.default.File._createLoader(r,o).readAsText(r);else if(/^(video|audio)\//.test(r.type)){var i=new t.default.File(r);i.data=URL.createObjectURL(r),o(i)}else t.default.File._createLoader(r,o).readAsDataURL(r)};var n=t.default;p.default=n},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,y,p){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var S=d();if(S&&S.has(x))return S.get(x);var M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in x)if(Object.prototype.hasOwnProperty.call(x,O)){var R=C?Object.getOwnPropertyDescriptor(x,O):null;R&&(R.get||R.set)?Object.defineProperty(M,O,R):M[O]=x[O]}return M.default=x,S&&S.set(x,M),M}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return d=function(){return x},x}c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var l=c.default.prototype.pRotationZ=0,n=0,r=0,o="clockwise",i="clockwise",a="clockwise";c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0;var m=.5,v=30;c.default.prototype.setMoveThreshold=function(x){c.default._validateParameters("setMoveThreshold",arguments),m=x},c.default.prototype.setShakeThreshold=function(x){c.default._validateParameters("setShakeThreshold",arguments),v=x},c.default.prototype._ondeviceorientation=function(x){this._updatePRotations(),this._angleMode===u.radians&&(x.beta=x.beta*(_PI/180),x.gamma=x.gamma*(_PI/180),x.alpha=x.alpha*(_PI/180)),this._setProperty("rotationX",x.beta),this._setProperty("rotationY",x.gamma),this._setProperty("rotationZ",x.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(x){this._updatePAccelerations(),this._setProperty("accelerationX",2*x.acceleration.x),this._setProperty("accelerationY",2*x.acceleration.y),this._setProperty("accelerationZ",2*x.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var x,S,M=this._isGlobal?window:this;if(typeof M.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>m||Math.abs(this.accelerationY-this.pAccelerationY)>m||Math.abs(this.accelerationZ-this.pAccelerationZ)>m)&&M.deviceMoved(),typeof M.deviceTurned=="function"){var C=this.rotationX+180,O=this.pRotationX+180,R=l+180;0<C-O&&C-O<270||C-O<-270?o="clockwise":(C-O<0||270<C-O)&&(o="counter-clockwise"),o!==this.pRotateDirectionX&&(R=C),90<Math.abs(C-R)&&Math.abs(C-R)<270&&(R=C,this._setProperty("turnAxis","X"),M.deviceTurned()),this.pRotateDirectionX=o,l=R-180;var P=this.rotationY+180,L=this.pRotationY+180,U=n+180;0<P-L&&P-L<270||P-L<-270?i="clockwise":(P-L<0||270<P-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(U=P),90<Math.abs(P-U)&&Math.abs(P-U)<270&&(U=P,this._setProperty("turnAxis","Y"),M.deviceTurned()),this.pRotateDirectionY=i,n=U-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?a="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(r=this.rotationZ),90<Math.abs(this.rotationZ-r)&&Math.abs(this.rotationZ-r)<270&&(r=this.rotationZ,this._setProperty("turnAxis","Z"),M.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)}typeof M.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),v<x+S&&M.deviceShaken())};var b=c.default;p.default=b},{"../core/constants":253,"../core/main":264}],282:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.isKeyPressed=!1,t.default.prototype.keyIsPressed=!1,t.default.prototype.key="",t.default.prototype.keyCode=0,t.default.prototype._onkeydown=function(u){if(!this._downKeys[u.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which);var d=this._isGlobal?window:this;typeof d.keyPressed=="function"&&!u.charCode&&d.keyPressed(u)===!1&&u.preventDefault()}},t.default.prototype._onkeyup=function(u){this._downKeys[u.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),this._setProperty("keyCode",u.which);var d=this._isGlobal?window:this;typeof d.keyReleased=="function"&&d.keyReleased(u)===!1&&u.preventDefault()},t.default.prototype._onkeypress=function(u){if(u.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which);var d=this._isGlobal?window:this;typeof d.keyTyped=="function"&&d.keyTyped(u)===!1&&u.preventDefault()}},t.default.prototype._onblur=function(u){this._downKeys={}},t.default.prototype.keyIsDown=function(u){return t.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},t.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1};var c=t.default;p.default=c},{"../core/main":264}],283:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(n){if(this._curElement!==null&&(!n.touches||0<n.touches.length)){var r=function(o,i,a,m){m&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0]));var v=o.getBoundingClientRect(),b=o.scrollWidth/i||1,x=o.scrollHeight/a||1;return{x:(m.clientX-v.left)/b,y:(m.clientY-v.top)/x,winX:m.clientX,winY:m.clientY,id:m.identifier}}(this._curElement.elt,this.width,this.height,n);this._setProperty("movedX",n.movementX),this._setProperty("movedY",n.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(n){n.button===1?this._setProperty("mouseButton",u.CENTER):n.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},c.default.prototype._onmousemove=function(n){var r=this._isGlobal?window:this;this._updateNextMouseCoords(n),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(n)===!1&&n.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(n)===!1&&n.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(n)===!1&&n.preventDefault()},c.default.prototype._onmousedown=function(n){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(n),this._updateNextMouseCoords(n),typeof r.mousePressed=="function"?r.mousePressed(n)===!1&&n.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(n)===!1&&n.preventDefault()},c.default.prototype._onmouseup=function(n){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(n)===!1&&n.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(n)===!1&&n.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(n){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(n)===!1&&n.preventDefault()},c.default.prototype._ondblclick=function(n){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(n)===!1&&n.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(n){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",n.deltaY),typeof r.mouseWheel=="function"&&(n.delta=n.deltaY,r.mouseWheel(n)===!1&&n.preventDefault())},c.default.prototype.requestPointerLock=function(){var n=this._curElement.elt;return n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock,n.requestPointerLock?(n.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,y,p){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(d,l,n,r,o){var i=4<arguments.length&&o!==void 0?o:0,a=d.getBoundingClientRect(),m=d.scrollWidth/l||1,v=d.scrollHeight/n||1,b=r.touches[i]||r.changedTouches[i];return{x:(b.clientX-a.left)/m,y:(b.clientY-a.top)/v,winX:b.clientX,winY:b.clientY,id:b.identifier}}t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(d){if(this._curElement!==null){for(var l=[],n=0;n<d.touches.length;n++)l[n]=c(this._curElement.elt,this.width,this.height,d,n);this._setProperty("touches",l)}},t.default.prototype._ontouchstart=function(d){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(d),this._updateNextMouseCoords(d),this._updateMouseCoords(),typeof l.touchStarted=="function"?l.touchStarted(d)===!1&&d.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof l.mousePressed=="function"&&l.mousePressed(d)===!1&&d.preventDefault()},t.default.prototype._ontouchmove=function(d){var l=this._isGlobal?window:this;this._updateTouchCoords(d),this._updateNextMouseCoords(d),typeof l.touchMoved=="function"?l.touchMoved(d)===!1&&d.preventDefault():typeof l.mouseDragged=="function"&&l.mouseDragged(d)===!1&&d.preventDefault()},t.default.prototype._ontouchend=function(d){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(d),this._updateNextMouseCoords(d);var l=this._isGlobal?window:this;typeof l.touchEnded=="function"?l.touchEnded(d)===!1&&d.preventDefault():typeof l.mouseReleased=="function"&&l.mouseReleased(d)===!1&&d.preventDefault()};var u=t.default;p.default=u},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,y,p){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t,c,u,d={};function l(r,o){for(var i,a,m,v,b,x,S,M,C,O,R=d._toPixels(r),P=r.width,L=r.height,U=P*L,A=new Int32Array(U),B=0;B<U;B++)A[B]=d._getARGB(R,B);var F,K,re,Q,ne=new Int32Array(U),ee=new Int32Array(U),ue=new Int32Array(U),pe=new Int32Array(U),_e=0;for(function(De){var ve=3.5*De|0;if(h!==(ve=ve<1?1:ve<248?ve:248)){t=1+(h=ve)<<1,c=new Int32Array(t),u=new Array(t);for(var ge=0;ge<t;ge++)u[ge]=new Int32Array(256);for(var I,V,W,Z,ie=1,te=ve-1;ie<ve;ie++){c[ve+ie]=c[te]=V=te*te,W=u[ve+ie],Z=u[te--];for(var Te=0;Te<256;Te++)W[Te]=Z[Te]=V*Te}I=c[ve]=ve*ve,W=u[ve];for(var oe=0;oe<256;oe++)W[oe]=I*oe}}(o),K=0;K<L;K++){for(F=0;F<P;F++){if(v=m=a=b=i=0,(x=F-h)<0)O=-x,x=0;else{if(P<=x)break;O=0}for(re=O;re<t&&!(P<=x);re++){var ce=A[x+_e];b+=(Q=u[re])[(-16777216&ce)>>>24],a+=Q[(16711680&ce)>>16],m+=Q[(65280&ce)>>8],v+=Q[255&ce],i+=c[re],x++}ne[S=_e+F]=b/i,ee[S]=a/i,ue[S]=m/i,pe[S]=v/i}_e+=P}for(C=(M=-h)*P,K=_e=0;K<L;K++){for(F=0;F<P;F++){if(v=m=a=b=i=0,M<0)O=S=-M,x=F;else{if(L<=M)break;O=0,S=M,x=F+C}for(re=O;re<t&&!(L<=S);re++)b+=(Q=u[re])[ne[x]],a+=Q[ee[x]],m+=Q[ue[x]],v+=Q[pe[x]],i+=c[re],S++,x+=P;A[F+_e]=b/i<<24|a/i<<16|m/i<<8|v/i}_e+=P,C+=P,M++}d._setPixels(R,A)}d._toPixels=function(r){if(r instanceof ImageData)return r.data;if(r.getContext("2d"))return r.getContext("2d").getImageData(0,0,r.width,r.height).data;if(r.getContext("webgl")){var o=r.getContext("webgl"),i=o.drawingBufferWidth*o.drawingBufferHeight*4,a=new Uint8Array(i);return o.readPixels(0,0,r.width,r.height,o.RGBA,o.UNSIGNED_BYTE,a),a}},d._getARGB=function(r,o){var i=4*o;return r[3+i]<<24&4278190080|r[i]<<16&16711680|r[1+i]<<8&65280|255&r[2+i]},d._setPixels=function(r,o){for(var i=0,a=0,m=r.length;a<m;a++)r[(i=4*a)+0]=(16711680&o[a])>>>16,r[i+1]=(65280&o[a])>>>8,r[i+2]=255&o[a],r[i+3]=(4278190080&o[a])>>>24},d._toImageData=function(r){return r instanceof ImageData?r:r.getContext("2d").getImageData(0,0,r.width,r.height)},d._createImageData=function(r,o){return d._tmpCanvas=document.createElement("canvas"),d._tmpCtx=d._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(r,o)},d.apply=function(r,o,i){var a=r.getContext("2d"),m=a.getImageData(0,0,r.width,r.height),v=o(m,i);v instanceof ImageData?a.putImageData(v,0,0,0,0,r.width,r.height):a.putImageData(m,0,0,0,0,r.width,r.height)},d.threshold=function(r,o){var i=d._toPixels(r);o===void 0&&(o=.5);for(var a=Math.floor(255*o),m=0;m<i.length;m+=4){var v=void 0;v=a<=.2126*i[m]+.7152*i[m+1]+.0722*i[m+2]?255:0,i[m]=i[m+1]=i[m+2]=v}},d.gray=function(r){for(var o=d._toPixels(r),i=0;i<o.length;i+=4){var a=.2126*o[i]+.7152*o[i+1]+.0722*o[i+2];o[i]=o[i+1]=o[i+2]=a}},d.opaque=function(r){for(var o=d._toPixels(r),i=0;i<o.length;i+=4)o[i+3]=255;return o},d.invert=function(r){for(var o=d._toPixels(r),i=0;i<o.length;i+=4)o[i]=255-o[i],o[i+1]=255-o[i+1],o[i+2]=255-o[i+2]},d.posterize=function(r,o){var i=d._toPixels(r);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=o-1,m=0;m<i.length;m+=4){var v=i[m],b=i[m+1],x=i[m+2];i[m]=255*(v*o>>8)/a,i[m+1]=255*(b*o>>8)/a,i[m+2]=255*(x*o>>8)/a}},d.dilate=function(r){for(var o,i,a,m,v,b,x,S,M,C,O,R,P,L,U,A,B,F=d._toPixels(r),K=0,re=F.length?F.length/4:0,Q=new Int32Array(re);K<re;)for(i=(o=K)+r.width;K<i;)a=m=d._getARGB(F,K),(x=K-1)<o&&(x=K),i<=(b=K+1)&&(b=K),(S=K-r.width)<0&&(S=0),re<=(M=K+r.width)&&(M=K),R=d._getARGB(F,S),O=d._getARGB(F,x),P=d._getARGB(F,M),(v=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))&&(m=O,v=U),v<(L=77*((C=d._getARGB(F,b))>>16&255)+151*(C>>8&255)+28*(255&C))&&(m=C,v=L),v<(A=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(m=R,v=A),v<(B=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))&&(m=P,v=B),Q[K++]=m;d._setPixels(F,Q)},d.erode=function(r){for(var o,i,a,m,v,b,x,S,M,C,O,R,P,L,U,A,B,F=d._toPixels(r),K=0,re=F.length?F.length/4:0,Q=new Int32Array(re);K<re;)for(i=(o=K)+r.width;K<i;)a=m=d._getARGB(F,K),(x=K-1)<o&&(x=K),i<=(b=K+1)&&(b=K),(S=K-r.width)<0&&(S=0),re<=(M=K+r.width)&&(M=K),R=d._getARGB(F,S),O=d._getARGB(F,x),P=d._getARGB(F,M),(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))<(v=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(m=O,v=U),(L=77*((C=d._getARGB(F,b))>>16&255)+151*(C>>8&255)+28*(255&C))<v&&(m=C,v=L),(A=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<v&&(m=R,v=A),(B=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))<v&&(m=P,v=B),Q[K++]=m;d._setPixels(F,Q)},d.blur=function(r,o){l(r,o)};var n=d;p.default=n},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h=c(e("../core/main")),t=c(e("omggif"));function c(l){return l&&l.__esModule?l:{default:l}}function u(l){return function(n){if(Array.isArray(n)){for(var r=0,o=new Array(n.length);r<n.length;r++)o[r]=n[r];return o}}(l)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(l,n){return h.default._validateParameters("createImage",arguments),new h.default.Image(l,n)},h.default.prototype.saveCanvas=function(){h.default._validateParameters("saveCanvas",arguments);var l,n,r,o,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(l=arguments[0],i.shift()):arguments[0]instanceof h.default.Element?(l=arguments[0].elt,i.shift()):l=this._curElement&&this._curElement.elt,1<=i.length&&(n=i[0]),2<=i.length&&(r=i[1]),r=r||h.default.prototype._checkFileExtension(n,r)[1]||"png"){default:o="image/png";break;case"jpeg":case"jpg":o="image/jpeg"}l.toBlob(function(a){h.default.prototype.downloadFile(a,n,r)},o)},h.default.prototype.saveGif=function(l,n){var r=l.gifProperties,o=r.loopLimit;o===1?o=null:o===null&&(o=0);for(var i=new Uint8Array(l.width*l.height*r.numFrames),a=[],m={},v=0;v<r.numFrames;v++){for(var b=new Set,x=r.frames[v].image.data,S=x.length,M=new Uint32Array(l.width*l.height),C=0,O=0;C<S;C+=4,O++){var R=x[C+0]<<16|x[C+1]<<8|x[C+2]<<0;b.add(R),M[O]=R}var P=u(b).sort().toString();m[P]===void 0?m[P]={freq:1,frames:[v]}:(m[P].freq+=1,m[P].frames.push(v)),a.push(M)}var L=[],U=Object.keys(m).sort(function(ge,I){return m[I].freq-m[ge].freq}),A=U[0].split(",").map(function(ge){return parseInt(ge)});L=L.concat(m[A].frames);for(var B=new Set(A),F=1;F<U.length;F++){var K=U[F].split(",").map(function(ge){return parseInt(ge)}).filter(function(ge){return!B.has(ge)});if(A.length+K.length<=256){for(var re=0;re<K.length;re++)A.push(K[re]),B.add(K[re]);L=L.concat(m[U[F]].frames)}}L=new Set(L);for(var Q={},ne=0;ne<A.length;ne++)Q[A[ne]]||(Q[A[ne]]=ne);for(var ee=1;ee<A.length;)ee<<=1;A.length=ee;for(var ue={loop:o,palette:new Uint32Array(A)},pe=new t.default.GifWriter(i,l.width,l.height,ue),_e={},ce=function(ge){for(var I=!L.has(ge),V=I?[]:A,W=new Uint8Array(l.width*l.height),Z={},ie=new Set,te=0;te<a[ge].length;te++){var Te=a[ge][te];I?(Z[Te]===void 0&&(Z[Te]=V.length,V.push(Te)),W[te]=Z[Te]):W[te]=Q[Te],0<ge&&a[ge-1][te]!==Te&&ie.add(Te)}var oe={},be=V.filter(function(je){return!ie.has(je)});if(0<be.length){var me=be[0],de=I?Z[me]:Q[me];if(0<ge){for(var Me=0;Me<a[ge].length;Me++)a[ge-1][Me]===a[ge][Me]&&(W[Me]=de);oe.transparent=de,_e.frameOpts.disposal=1}}if(oe.delay=r.frames[ge].delay/10,I){for(var Oe=1;Oe<V.length;)Oe<<=1;V.length=Oe,oe.palette=new Uint32Array(V)}0<ge&&pe.addFrame(0,0,l.width,l.height,_e.pixelPaletteIndex,_e.frameOpts),_e={pixelPaletteIndex:W,frameOpts:oe}},De=0;De<r.numFrames;De++)ce(De);_e.frameOpts.disposal=1,pe.addFrame(0,0,l.width,l.height,_e.pixelPaletteIndex,_e.frameOpts);var ve=new Blob([i.slice(0,pe.end())],{type:"image/gif"});h.default.prototype.downloadFile(ve,n,"gif")},h.default.prototype.saveFrames=function(l,n,r,o,i){h.default._validateParameters("saveFrames",arguments);var a=r||3;a=h.default.prototype.constrain(a,0,15),a*=1e3;var m=o||15;m=h.default.prototype.constrain(m,0,22);var v=0,b=h.default.prototype._makeFrame,x=this._curElement.elt,S=[],M=setInterval(function(){S.push(b(l+v,n,x)),v++},1e3/m);setTimeout(function(){if(clearInterval(M),i)i(S);else{var C=!0,O=!1,R=void 0;try{for(var P,L=S[Symbol.iterator]();!(C=(P=L.next()).done);C=!0){var U=P.value;h.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(A){O=!0,R=A}finally{try{C||L.return==null||L.return()}finally{if(O)throw R}}}S=[]},a+.01)},h.default.prototype._makeFrame=function(l,n,r){var o,i;if(o=this?this._curElement.elt:r,n)switch(n.toLowerCase()){case"png":i="image/png";break;case"jpeg":case"jpg":i="image/jpeg";break;default:i="image/png"}else n="png",i="image/png";var a=o.toDataURL(i);a=a.replace(i,"image/octet-stream");var m={};return m.imageData=a,m.filename=l,m.ext=n,m};var d=h.default;p.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,y,p){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(a)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=r(e("../core/main")),c=r(e("./filters")),u=r(e("../core/helpers")),d=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var m=n();if(m&&m.has(a))return m.get(a);var v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in a)if(Object.prototype.hasOwnProperty.call(a,x)){var S=b?Object.getOwnPropertyDescriptor(a,x):null;S&&(S.get||S.set)?Object.defineProperty(v,x,S):v[x]=a[x]}return v.default=a,m&&m.set(a,v),v}(e("../core/constants")),l=r(e("omggif"));function n(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return n=function(){return a},a}function r(a){return a&&a.__esModule?a:{default:a}}function o(a,m){return 0<a&&a<m?a:m}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.loadImage=function(a,m,v){t.default._validateParameters("loadImage",arguments);var b=new t.default.Image(1,1,this),x=this,S=new Request(a,{method:"GET",mode:"cors"});return fetch(a,S).then(function(M){var C=M.headers.get("content-type");if(C===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),C&&C.includes("image/gif"))M.arrayBuffer().then(function(R){R&&function(P,L,U,A,B){var F=new l.default.GifReader(P);L.width=L.canvas.width=F.width,L.height=L.canvas.height=F.height;var K=[],re=F.numFrames(),Q=new Uint8ClampedArray(L.width*L.height*4);if(1<re){for(var ne=function(ve,ge){try{ge.decodeAndBlitFrameRGBA(ve,Q)}catch(I){t.default._friendlyFileLoadError(8,L.src),typeof A=="function"?A(I):console.error(I)}},ee=0;ee<re;ee++){var ue=F.frameInfo(ee),pe=L.drawingContext.getImageData(0,0,L.width,L.height);Q=pe.data.slice(),ne(ee,F);var _e=new ImageData(Q,L.width,L.height);L.drawingContext.putImageData(_e,0,0);var ce=ue.delay;ce===0&&(ce=10),K.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*ce}),ue.disposal===2?L.drawingContext.clearRect(ue.x,ue.y,ue.width,ue.height):ue.disposal===3&&L.drawingContext.putImageData(pe,0,0,ue.x,ue.y,ue.width,ue.height)}var De=F.loopCount();De===null?De=1:De===0&&(De=null),L.drawingContext.putImageData(K[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:De,loopCount:0,frames:K,numFrames:re,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(L),B()}(new Uint8Array(R),b,m,v,function(P){x._decrementPreload()}.bind(x))},function(R){typeof v=="function"?v(R):console.error(R)});else{var O=new Image;O.onload=function(){b.width=b.canvas.width=O.width,b.height=b.canvas.height=O.height,b.drawingContext.drawImage(O,0,0),b.modified=!0,typeof m=="function"&&m(b),x._decrementPreload()},O.onerror=function(R){t.default._friendlyFileLoadError(0,O.src),typeof v=="function"?v(R):console.error(R)},a.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=a}b.modified=!0}).catch(function(M){t.default._friendlyFileLoadError(0,a),typeof v=="function"?v(M):console.error(M)}),b},t.default.prototype.image=function(a,m,v,b,x,S,M,C,O){t.default._validateParameters("image",arguments);var R=a.width,P=a.height;a.elt&&a.elt.videoWidth&&!a.canvas&&(R=a.elt.videoWidth,P=a.elt.videoHeight);var L=m,U=v,A=b||R,B=x||P,F=S||0,K=M||0,re=C||R,Q=O||P;re=o(re,R),Q=o(Q,P);var ne=1;a.elt&&!a.canvas&&a.elt.style.width&&(ne=a.elt.videoWidth&&!b?a.elt.videoWidth:a.elt.width,ne/=parseInt(a.elt.style.width,10)),F*=ne,K*=ne,Q*=ne,re*=ne;var ee=u.default.modeAdjust(L,U,A,B,this._renderer._imageMode);this._renderer.image(a,F,K,re,Q,ee.x,ee.y,ee.w,ee.h)},t.default.prototype.tint=function(){for(var a=arguments.length,m=new Array(a),v=0;v<a;v++)m[v]=arguments[v];t.default._validateParameters("tint",m);var b=this.color.apply(this,m);this._renderer._tint=b.levels},t.default.prototype.noTint=function(){this._renderer._tint=null},t.default.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var m=c.default._toPixels(a.canvas),v=document.createElement("canvas");v.width=a.canvas.width,v.height=a.canvas.height;for(var b=v.getContext("2d"),x=b.createImageData(a.canvas.width,a.canvas.height),S=x.data,M=0;M<m.length;M+=4){var C=m[M],O=m[M+1],R=m[M+2],P=m[M+3];S[M]=C*this._renderer._tint[0]/255,S[M+1]=O*this._renderer._tint[1]/255,S[M+2]=R*this._renderer._tint[2]/255,S[M+3]=P*this._renderer._tint[3]/255}return b.putImageData(x,0,0),v},t.default.prototype.imageMode=function(a){t.default._validateParameters("imageMode",arguments),a!==d.CORNER&&a!==d.CORNERS&&a!==d.CENTER||(this._renderer._imageMode=a)};var i=t.default;p.default=i},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h=c(e("../core/main")),t=c(e("./filters"));function c(d){return d&&d.__esModule?d:{default:d}}h.default.Image=function(d,l){this.width=d,this.height=l,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},h.default.Image.prototype._animateGif=function(d){var l=this.gifProperties,n=d._lastFrameTime;if(l.lastChangeTime===0&&(l.lastChangeTime=n),l.playing){l.timeDisplayed=n-l.lastChangeTime;var r=l.frames[l.displayIndex].delay;if(l.timeDisplayed>=r){var o=Math.floor(l.timeDisplayed/r);if(l.timeDisplayed=0,l.lastChangeTime=n,l.displayIndex+=o,l.loopCount=Math.floor(l.displayIndex/l.numFrames),l.loopLimit!==null&&l.loopCount>=l.loopLimit)l.playing=!1;else{var i=l.displayIndex%l.numFrames;this.drawingContext.putImageData(l.frames[i].image,0,0),l.displayIndex=i,this.setModified(!0)}}}},h.default.Image.prototype._setProperty=function(d,l){this[d]=l,this.setModified(!0)},h.default.Image.prototype.loadPixels=function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},h.default.Image.prototype.updatePixels=function(d,l,n,r){h.default.Renderer2D.prototype.updatePixels.call(this,d,l,n,r),this.setModified(!0)},h.default.Image.prototype.get=function(d,l,n,r){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)},h.default.Image.prototype._getPixel=h.default.Renderer2D.prototype._getPixel,h.default.Image.prototype.set=function(d,l,n){h.default.Renderer2D.prototype.set.call(this,d,l,n),this.setModified(!0)},h.default.Image.prototype.resize=function(d,l){d===0&&l===0?(d=this.canvas.width,l=this.canvas.height):d===0?d=this.canvas.width*l/this.canvas.height:l===0&&(l=this.canvas.height*d/this.canvas.width),d=Math.floor(d),l=Math.floor(l);var n=document.createElement("canvas");if(n.width=d,n.height=l,this.gifProperties)for(var r=this.gifProperties,o=function(m,v){for(var b=0,x=0;x<v.height;x++)for(var S=0;S<v.width;S++){var M=Math.floor(S*m.width/v.width),C=4*(Math.floor(x*m.height/v.height)*m.width+M);v.data[b++]=m.data[C++],v.data[b++]=m.data[C++],v.data[b++]=m.data[C++],v.data[b++]=m.data[C++]}},i=0;i<r.numFrames;i++){var a=this.drawingContext.createImageData(d,l);o(r.frames[i].image,a),r.frames[i].image=a}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=d,this.canvas.height=this.height=l,this.drawingContext.drawImage(n,0,0,d,l,0,0,d,l),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},h.default.Image.prototype.copy=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];h.default.prototype.copy.apply(this,l)},h.default.Image.prototype.mask=function(d){d===void 0&&(d=this);var l=this.drawingContext.globalCompositeOperation,n=1;d instanceof h.default.Renderer&&(n=d._pInst._pixelDensity);var r=[d,0,0,n*d.width,n*d.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",h.default.Image.prototype.copy.apply(this,r),this.drawingContext.globalCompositeOperation=l,this.setModified(!0)},h.default.Image.prototype.filter=function(d,l){t.default.apply(this.canvas,t.default[d],l),this.setModified(!0)},h.default.Image.prototype.blend=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,l),this.setModified(!0)},h.default.Image.prototype.setModified=function(d){this._modified=d},h.default.Image.prototype.isModified=function(){return this._modified},h.default.Image.prototype.save=function(d,l){this.gifProperties?h.default.prototype.saveGif(this,d):h.default.prototype.saveCanvas(this.canvas,d,l)},h.default.Image.prototype.reset=function(){if(this.gifProperties){var d=this.gifProperties;d.playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0)}},h.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var d=this.gifProperties;return d.displayIndex%d.numFrames}},h.default.Image.prototype.setFrame=function(d){if(this.gifProperties){var l=this.gifProperties;d<l.numFrames&&0<=d?(l.timeDisplayed=0,l.lastChangeTime=0,l.displayIndex=d,this.drawingContext.putImageData(l.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},h.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},h.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},h.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},h.default.Image.prototype.delay=function(d,l){if(this.gifProperties){var n=this.gifProperties;if(l<n.numFrames&&0<=l)n.frames[l].delay=d;else{var r=!0,o=!1,i=void 0;try{for(var a,m=n.frames[Symbol.iterator]();!(r=(a=m.next()).done);r=!0)a.value.delay=d}catch(v){o=!0,i=v}finally{try{r||m.return==null||m.return()}finally{if(o)throw i}}}}};var u=h.default.Image;p.default=u},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,y,p){e("core-js/modules/es.array.filter"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h=c(e("../core/main")),t=c(e("./filters"));function c(d){return d&&d.__esModule?d:{default:d}}e("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];var r;h.default._validateParameters("blend",l),this._renderer?(r=this._renderer).blend.apply(r,l):h.default.Renderer2D.prototype.blend.apply(this,l)},h.default.prototype.copy=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];var r,o,i,a,m,v,b,x,S;if(h.default._validateParameters("copy",l),l.length===9)r=l[0],o=l[1],i=l[2],a=l[3],m=l[4],v=l[5],b=l[6],x=l[7],S=l[8];else{if(l.length!==8)throw new Error("Signature not supported");r=this,o=l[0],i=l[1],a=l[2],m=l[3],v=l[4],b=l[5],x=l[6],S=l[7]}h.default.prototype._copyHelper(this,r,o,i,a,m,v,b,x,S)},h.default.prototype._copyHelper=function(d,l,n,r,o,i,a,m,v,b){l.loadPixels();var x=l.canvas.width/l.width,S=0,M=0;l._renderer&&l._renderer.isP3D&&(S=l.width/2,M=l.height/2),d._renderer&&d._renderer.isP3D?h.default.RendererGL.prototype.image.call(d._renderer,l,n+S,r+M,o,i,a,m,v,b):d.drawingContext.drawImage(l.canvas,x*(n+S),x*(r+M),x*o,x*i,a,m,v,b)},h.default.prototype.filter=function(d,l){h.default._validateParameters("filter",arguments),this.canvas!==void 0?t.default.apply(this.canvas,t.default[d],l):t.default.apply(this.elt,t.default[d],l)},h.default.prototype.get=function(d,l,n,r){var o;return h.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},h.default.prototype.loadPixels=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];h.default._validateParameters("loadPixels",l),this._renderer.loadPixels()},h.default.prototype.set=function(d,l,n){this._renderer.set(d,l,n)},h.default.prototype.updatePixels=function(d,l,n,r){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,l,n,r)};var u=h.default;p.default=u},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h=u(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var t=u(e("fetch-jsonp")),c=u(e("file-saver"));function u(i){return i&&i.__esModule?i:{default:i}}function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function l(i,a){var m={};if((a=a||[])===void 0)for(var v=0;v<i.length;v++)a[v.toString()]=v;for(var b=0;b<a.length;b++){var x=a[b],S=i[b];m[x]=S}return m}function n(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(i,a){a&&a!==!0&&a!=="true"||(a="");var m="";return(i=i||"untitled")&&i.includes(".")&&(m=i.split(".").pop()),a&&m!==a&&(m=a,i="".concat(i,".").concat(m)),[i,m]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];h.default._validateParameters("loadJSON",a);for(var v,b,x,S=a[0],M={},C="json",O=1;O<a.length;O++){var R=a[O];typeof R=="string"?R!=="jsonp"&&R!=="json"||(C=R):typeof R=="function"?v?b=R:v=R:d(R)==="object"&&(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))&&(C="jsonp",x=R)}var P=this;return this.httpDo(S,"GET",x,C,function(L){for(var U in L)M[U]=L[U];v!==void 0&&v(L),P._decrementPreload()},function(L){if(h.default._friendlyFileLoadError(5,S),!b)throw L;b(L)}),M},h.default.prototype.loadStrings=function(){for(var i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];h.default._validateParameters("loadStrings",a);for(var v,b,x=[],S=1;S<a.length;S++){var M=a[S];typeof M=="function"&&(v===void 0?v=M:b===void 0&&(b=M))}var C=this;return h.default.prototype.httpDo.call(this,a[0],"GET","text",function(O){for(var R=O.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),P=0,L=R.length;P<L;P+=32768)Array.prototype.push.apply(x,R.slice(P,Math.min(P+32768,L)));v!==void 0&&v(x),C._decrementPreload()},function(O){if(h.default._friendlyFileLoadError(3,O),!b)throw O;b(O)}),x},h.default.prototype.loadTable=function(i){var a,m,v,b=!1,x=i.substring(i.lastIndexOf(".")+1,i.length);x==="csv"?v=",":x==="ssv"?v=";":x==="tsv"&&(v="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?a===void 0?a=arguments[S]:m===void 0&&(m=arguments[S]):typeof arguments[S]=="string"&&(arguments[S]==="header"&&(b=!0),arguments[S]==="csv"?v=",":arguments[S]==="ssv"?v=";":arguments[S]==="tsv"&&(v="	"));var M=new h.default.Table,C=this;return this.httpDo(i,"GET","table",function(O){for(var R,P,L={},U=[],A=0,B=null,F=function(){L.currentState=0,L.token=""},K=function(){B.push(L.token),F()},re=function(){L.currentState=4,U.push(B),B=null};;){if((R=O[A++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(B){K(),re();break}}if(B===null&&(L.escaped=!1,B=[],F()),L.currentState===0){if(R==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(R==='"')O[A]==='"'?(L.token+='"',A++):(L.escaped=!1,L.currentState=2);else{if(R==="\r")continue;L.token+=R}else R==="\r"?(O[A]===`
`&&A++,K(),re()):R===`
`?(K(),re()):R===v?K():L.currentState===1&&(L.token+=R)}if(b)M.columns=U.shift();else for(var Q=0;Q<U[0].length;Q++)M.columns[Q]="null";for(var ne=0;ne<U.length;ne++)(U[ne].length!==1||U[ne][0]!=="undefined"&&U[ne][0]!=="")&&((P=new h.default.TableRow).arr=U[ne],P.obj=l(U[ne],M.columns),M.addRow(P));typeof a=="function"&&a(M),C._decrementPreload()},function(O){h.default._friendlyFileLoadError(2,i),m?m(O):console.error(O)}),M},h.default.prototype.loadXML=function(){for(var i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];for(var v,b,x=new h.default.XML,S=1;S<a.length;S++){var M=a[S];typeof M=="function"&&(v===void 0?v=M:b===void 0&&(b=M))}var C=this;return this.httpDo(a[0],"GET","xml",function(O){for(var R in O)x[R]=O[R];v!==void 0&&v(x),C._decrementPreload()},function(O){if(h.default._friendlyFileLoadError(1,O),!b)throw O;b(O)}),x},h.default.prototype.loadBytes=function(i,a,m){var v={},b=this;return this.httpDo(i,"GET","arrayBuffer",function(x){v.bytes=new Uint8Array(x),typeof a=="function"&&a(v),b._decrementPreload()},function(x){if(h.default._friendlyFileLoadError(6,i),!m)throw x;m(x)}),v},h.default.prototype.httpGet=function(){h.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,i)},h.default.prototype.httpPost=function(){h.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,i)},h.default.prototype.httpDo=function(){for(var i,a,m,v,b,x={},S=0,M="text/plain",C=arguments.length-1;0<C&&typeof(C<0||arguments.length<=C?void 0:arguments[C])=="function";C--)S++;var O=arguments.length<=0?void 0:arguments[0];if(arguments.length-S==2&&typeof O=="string"&&d(arguments.length<=1?void 0:arguments[1])==="object")v=new Request(O,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],m=arguments.length<=3?void 0:arguments[3];else{for(var R,P="GET",L=1;L<arguments.length;L++){var U=L<0||arguments.length<=L?void 0:arguments[L];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?P=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?i=U:R=U;else if(typeof U=="number")R=U.toString();else if(d(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var A in U)x[A]=U[A];else M=U instanceof h.default.XML?(R=U.serialize(),"application/xml"):(R=JSON.stringify(U),"application/json");else typeof U=="function"&&(a?m=U:a=U)}var B=P==="GET"?new Headers:new Headers({"Content-Type":M});v=new Request(O,{method:P,mode:"cors",body:R,headers:B})}return(b=(b=(i=i||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,t.default)(O,x):fetch(v)).then(function(F){if(!F.ok){var K=new Error(F.body);throw K.status=F.status,K.ok=!1,K}var re=0;switch(i!=="jsonp"&&(re=F.headers.get("content-length")),re&&64e6<re&&h.default._friendlyFileLoadError(7,O),i){case"json":case"jsonp":return F.json();case"binary":return F.blob();case"arrayBuffer":return F.arrayBuffer();case"xml":return F.text().then(function(Q){var ne=new DOMParser().parseFromString(Q,"text/xml");return new h.default.XML(ne.documentElement)});default:return F.text()}})).then(a||function(){}),b.catch(m||console.error),b},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(i,a){var m;for(var v in h.default.prototype._pWriters)if(h.default.prototype._pWriters[v].name===i)return m=new h.default.PrintWriter(i+this.millis(),a),h.default.prototype._pWriters.push(m),m;return m=new h.default.PrintWriter(i,a),h.default.prototype._pWriters.push(m),m},h.default.PrintWriter=function(i,a){var m=this;this.name=i,this.content="",this.write=function(v){this.content+=v},this.print=function(v){this.content+="".concat(v,`
`)},this.clear=function(){this.content=""},this.close=function(){var v=[];for(var b in v.push(this.content),h.default.prototype.writeFile(v,i,a),h.default.prototype._pWriters)h.default.prototype._pWriters[b].name===this.name&&h.default.prototype._pWriters.splice(b,1);m.clear(),m={}}},h.default.prototype.save=function(i,a,m){var v=arguments,b=this._curElement?this._curElement.elt:this.elt;if(v.length!==0)if(v[0]instanceof h.default.Renderer||v[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(v[0].elt,v[1],v[2]);else if(v.length===1&&typeof v[0]=="string")h.default.prototype.saveCanvas(b,v[0]);else switch(r(v[1],v[2])[1]){case"json":return void h.default.prototype.saveJSON(v[0],v[1],v[2]);case"txt":return void h.default.prototype.saveStrings(v[0],v[1],v[2]);default:v[0]instanceof Array?h.default.prototype.saveStrings(v[0],v[1],v[2]):v[0]instanceof h.default.Table?h.default.prototype.saveTable(v[0],v[1],v[2]):v[0]instanceof h.default.Image?h.default.prototype.saveCanvas(v[0].canvas,v[1]):v[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(v[0],v[1],v[2],v[3])}else h.default.prototype.saveCanvas(b)},h.default.prototype.saveJSON=function(i,a,m){var v;h.default._validateParameters("saveJSON",arguments),v=m?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(v.split(`
`),a,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(i,a,m,v){h.default._validateParameters("saveStrings",arguments);for(var b=m||"txt",x=this.createWriter(a,b),S=0;S<i.length;S++)v?x.write(i[S]+`\r
`):x.write(i[S]+`
`);x.close(),x.clear()},h.default.prototype.saveTable=function(i,a,m){var v;h.default._validateParameters("saveTable",arguments),v=m===void 0?a.substring(a.lastIndexOf(".")+1,a.length):m;var b=this.createWriter(a,v),x=i.columns,S=",";if(v==="tsv"&&(S="	"),v!=="html"){if(x[0]!=="0"){for(var M=0;M<x.length;M++)M<x.length-1?b.write(x[M]+S):b.write(x[M]);b.write(`
`)}for(var C=0;C<i.rows.length;C++){var O=void 0;for(O=0;O<i.rows[C].arr.length;O++)O<i.rows[C].arr.length-1?v==="csv"&&String(i.rows[C].arr[O]).includes(",")?b.write('"'+i.rows[C].arr[O]+'"'+S):b.write(i.rows[C].arr[O]+S):v==="csv"&&String(i.rows[C].arr[O]).includes(",")?b.write('"'+i.rows[C].arr[O]+'"'):b.write(i.rows[C].arr[O]);b.write(`
`)}}else{if(b.print("<html>"),b.print("<head>"),b.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),b.print("</head>"),b.print("<body>"),b.print("  <table>"),x[0]!=="0"){b.print("    <tr>");for(var R=0;R<x.length;R++){var P=n(x[R]);b.print("      <td>".concat(P)),b.print("      </td>")}b.print("    </tr>")}for(var L=0;L<i.rows.length;L++){b.print("    <tr>");for(var U=0;U<i.columns.length;U++){var A=n(i.rows[L].getString(U));b.print("      <td>".concat(A)),b.print("      </td>")}b.print("    </tr>")}b.print("  </table>"),b.print("</body>"),b.print("</html>")}b.close(),b.clear()},h.default.prototype.writeFile=function(i,a,m){var v="application/octet-stream";h.default.prototype._isSafari()&&(v="text/plain");var b=new Blob(i,{type:v});h.default.prototype.downloadFile(b,a,m)},h.default.prototype.downloadFile=function(i,a,m){var v=r(a,m),b=v[0];if(i instanceof Blob)c.default.saveAs(i,b);else{var x=document.createElement("a");if(x.href=i,x.download=b,x.onclick=function(M){var C;C=M,document.body.removeChild(C.target),M.stopPropagation()},x.style.display="none",document.body.appendChild(x),h.default.prototype._isSafari()){var S=`Hello, Safari user! To download this file...
`;S+=`1. Go to File --> Save As.
`,S+=`2. Choose "Page Source" as the Format.
`,S+='3. Name it with this extension: ."'.concat(v[1],'"'),alert(S)}x.click()}},h.default.prototype._checkFileExtension=r,h.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var o=h.default;p.default=o},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Table=function(u){this.columns=[],this.rows=[]},t.default.Table.prototype.addRow=function(u){var d=u||new t.default.TableRow;if(d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d},t.default.Table.prototype.removeRow=function(u){this.rows[u].table=null;var d=this.rows.splice(u+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(d)},t.default.Table.prototype.getRow=function(u){return this.rows[u]},t.default.Table.prototype.getRows=function(){return this.rows},t.default.Table.prototype.findRow=function(u,d){if(typeof d=="string"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[d]===u)return this.rows[l]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[d]===u)return this.rows[n];return null},t.default.Table.prototype.findRows=function(u,d){var l=[];if(typeof d=="string")for(var n=0;n<this.rows.length;n++)this.rows[n].obj[d]===u&&l.push(this.rows[n]);else for(var r=0;r<this.rows.length;r++)this.rows[r].arr[d]===u&&l.push(this.rows[r]);return l},t.default.Table.prototype.matchRow=function(u,d){if(typeof d=="number"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[d].match(u))return this.rows[l]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[d].match(u))return this.rows[n];return null},t.default.Table.prototype.matchRows=function(u,d){var l=[];if(typeof d=="number")for(var n=0;n<this.rows.length;n++)this.rows[n].arr[d].match(u)&&l.push(this.rows[n]);else for(var r=0;r<this.rows.length;r++)this.rows[r].obj[d].match(u)&&l.push(this.rows[r]);return l},t.default.Table.prototype.getColumn=function(u){var d=[];if(typeof u=="string")for(var l=0;l<this.rows.length;l++)d.push(this.rows[l].obj[u]);else for(var n=0;n<this.rows.length;n++)d.push(this.rows[n].arr[u]);return d},t.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},t.default.Table.prototype.addColumn=function(u){var d=u||null;this.columns.push(d)},t.default.Table.prototype.getColumnCount=function(){return this.columns.length},t.default.Table.prototype.getRowCount=function(){return this.rows.length},t.default.Table.prototype.removeTokens=function(u,d){for(var l=[],n=0;n<u.length;n++)l.push(u.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var r=new RegExp(l.join("|"),"g");if(d===void 0)for(var o=0;o<this.columns.length;o++)for(var i=0;i<this.rows.length;i++){var a=this.rows[i].arr[o];a=a.replace(r,""),this.rows[i].arr[o]=a,this.rows[i].obj[this.columns[o]]=a}else if(typeof d=="string")for(var m=0;m<this.rows.length;m++){var v=this.rows[m].obj[d];v=v.replace(r,""),this.rows[m].obj[d]=v;var b=this.columns.indexOf(d);this.rows[m].arr[b]=v}else for(var x=0;x<this.rows.length;x++){var S=this.rows[x].arr[d];S=S.replace(r,""),this.rows[x].arr[d]=S,this.rows[x].obj[this.columns[d]]=S}},t.default.Table.prototype.trim=function(u){var d=new RegExp(" ","g");if(u===void 0)for(var l=0;l<this.columns.length;l++)for(var n=0;n<this.rows.length;n++){var r=this.rows[n].arr[l];r=r.replace(d,""),this.rows[n].arr[l]=r,this.rows[n].obj[this.columns[l]]=r}else if(typeof u=="string")for(var o=0;o<this.rows.length;o++){var i=this.rows[o].obj[u];i=i.replace(d,""),this.rows[o].obj[u]=i;var a=this.columns.indexOf(u);this.rows[o].arr[a]=i}else for(var m=0;m<this.rows.length;m++){var v=this.rows[m].arr[u];v=v.replace(d,""),this.rows[m].arr[u]=v,this.rows[m].obj[this.columns[u]]=v}},t.default.Table.prototype.removeColumn=function(u){var d,l;typeof u=="string"?(d=u,l=this.columns.indexOf(u)):(l=u,d=this.columns[u]);var n=this.columns.splice(l+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(n);for(var r=0;r<this.rows.length;r++){var o=this.rows[r].arr,i=o.splice(l+1,o.length);o.pop(),this.rows[r].arr=o.concat(i),delete this.rows[r].obj[d]}},t.default.Table.prototype.set=function(u,d,l){this.rows[u].set(d,l)},t.default.Table.prototype.setNum=function(u,d,l){this.rows[u].setNum(d,l)},t.default.Table.prototype.setString=function(u,d,l){this.rows[u].setString(d,l)},t.default.Table.prototype.get=function(u,d){return this.rows[u].get(d)},t.default.Table.prototype.getNum=function(u,d){return this.rows[u].getNum(d)},t.default.Table.prototype.getString=function(u,d){return this.rows[u].getString(d)},t.default.Table.prototype.getObject=function(u){for(var d,l={},n=0;n<this.rows.length;n++)if(d=this.rows[n].obj,typeof u=="string"){if(!(0<=this.columns.indexOf(u)))throw new Error('This table has no column named "'.concat(u,'"'));l[d[u]]=d}else l[n]=this.rows[n].obj;return l},t.default.Table.prototype.getArray=function(){for(var u=[],d=0;d<this.rows.length;d++)u.push(this.rows[d].arr);return u};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,y,p){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.TableRow=function(u,d){var l=[],n={};u&&(d=d||",",l=u.split(d));for(var r=0;r<l.length;r++){var o=r,i=l[r];n[o]=i}this.arr=l,this.obj=n,this.table=null},t.default.TableRow.prototype.set=function(u,d){if(typeof u=="string"){var l=this.table.columns.indexOf(u);if(!(0<=l))throw new Error('This table has no column named "'.concat(u,'"'));this.obj[u]=d,this.arr[l]=d}else{if(!(u<this.table.columns.length))throw new Error("Column #".concat(u," is out of the range of this table"));this.arr[u]=d;var n=this.table.columns[u];this.obj[n]=d}},t.default.TableRow.prototype.setNum=function(u,d){var l=parseFloat(d);this.set(u,l)},t.default.TableRow.prototype.setString=function(u,d){var l=d.toString();this.set(u,l)},t.default.TableRow.prototype.get=function(u){return typeof u=="string"?this.obj[u]:this.arr[u]},t.default.TableRow.prototype.getNum=function(u){var d;if((d=parseFloat(typeof u=="string"?this.obj[u]:this.arr[u])).toString()==="NaN")throw"Error: ".concat(this.obj[u]," is NaN (Not a Number)");return d},t.default.TableRow.prototype.getString=function(u){return typeof u=="string"?this.obj[u].toString():this.arr[u].toString()};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(d){for(var l=[],n=0;n<d.length;n++)l.push(new t.default.XML(d[n]));return l}t.default.XML=function(d){if(d)this.DOM=d;else{var l=document.implementation.createDocument(null,"doc");this.DOM=l.createElement("root")}},t.default.XML.prototype.getParent=function(){return new t.default.XML(this.DOM.parentElement)},t.default.XML.prototype.getName=function(){return this.DOM.tagName},t.default.XML.prototype.setName=function(d){var l=this.DOM.innerHTML,n=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(d);r.innerHTML=l;for(var o=0;o<n.length;o++)r.setAttribute(n[o].nodeName,n.nodeValue);this.DOM=r},t.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},t.default.XML.prototype.listChildren=function(){for(var d=[],l=0;l<this.DOM.childNodes.length;l++)d.push(this.DOM.childNodes[l].nodeName);return d},t.default.XML.prototype.getChildren=function(d){return c(d?this.DOM.getElementsByTagName(d):this.DOM.children)},t.default.XML.prototype.getChild=function(d){if(typeof d!="string")return new t.default.XML(this.DOM.children[d]);var l=!0,n=!1,r=void 0;try{for(var o,i=this.DOM.children[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var a=o.value;if(a.tagName===d)return new t.default.XML(a)}}catch(m){n=!0,r=m}finally{try{l||i.return==null||i.return()}finally{if(n)throw r}}},t.default.XML.prototype.addChild=function(d){d instanceof t.default.XML&&this.DOM.appendChild(d.DOM)},t.default.XML.prototype.removeChild=function(d){var l=-1;if(typeof d=="string"){for(var n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===d){l=n;break}}else l=d;l!==-1&&this.DOM.removeChild(this.DOM.children[l])},t.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},t.default.XML.prototype.listAttributes=function(){var d=[],l=!0,n=!1,r=void 0;try{for(var o,i=this.DOM.attributes[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var a=o.value;d.push(a.nodeName)}}catch(m){n=!0,r=m}finally{try{l||i.return==null||i.return()}finally{if(n)throw r}}return d},t.default.XML.prototype.hasAttribute=function(d){var l={},n=!0,r=!1,o=void 0;try{for(var i,a=this.DOM.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var m=i.value;l[m.nodeName]=m.nodeValue}}catch(v){r=!0,o=v}finally{try{n||a.return==null||a.return()}finally{if(r)throw o}}return!!l[d]},t.default.XML.prototype.getNum=function(d,l){var n={},r=!0,o=!1,i=void 0;try{for(var a,m=this.DOM.attributes[Symbol.iterator]();!(r=(a=m.next()).done);r=!0){var v=a.value;n[v.nodeName]=v.nodeValue}}catch(b){o=!0,i=b}finally{try{r||m.return==null||m.return()}finally{if(o)throw i}}return Number(n[d])||l||0},t.default.XML.prototype.getString=function(d,l){var n={},r=!0,o=!1,i=void 0;try{for(var a,m=this.DOM.attributes[Symbol.iterator]();!(r=(a=m.next()).done);r=!0){var v=a.value;n[v.nodeName]=v.nodeValue}}catch(b){o=!0,i=b}finally{try{r||m.return==null||m.return()}finally{if(o)throw i}}return n[d]?String(n[d]):l||null},t.default.XML.prototype.setAttribute=function(d,l){this.DOM.setAttribute(d,l)},t.default.XML.prototype.getContent=function(d){return this.DOM.textContent.replace(/\s\s+/g,",")||d||null},t.default.XML.prototype.setContent=function(d){this.DOM.children.length||(this.DOM.textContent=d)},t.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var u=t.default;p.default=u},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,y,p){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var d=arguments.length,l=[],n=0,r=0;r<d;r++){var o=arguments[r];if((o=+o)===1/0||o===-1/0)return 1/0;n<(o=Math.abs(o))&&(n=o),l[r]=o}n===0&&(n=1);for(var i=0,a=0,m=0;m<d;m++){var v=l[m]/n,b=v*v-a,x=i+b;a=x-i-b,i=x}return Math.sqrt(i)*n}t.default.prototype.abs=Math.abs,t.default.prototype.ceil=Math.ceil,t.default.prototype.constrain=function(d,l,n){return t.default._validateParameters("constrain",arguments),Math.max(Math.min(d,n),l)},t.default.prototype.dist=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("dist",l),l.length===4?c(l[2]-l[0],l[3]-l[1]):l.length===6?c(l[3]-l[0],l[4]-l[1],l[5]-l[2]):void 0},t.default.prototype.exp=Math.exp,t.default.prototype.floor=Math.floor,t.default.prototype.lerp=function(d,l,n){return t.default._validateParameters("lerp",arguments),n*(l-d)+d},t.default.prototype.log=Math.log,t.default.prototype.mag=function(d,l){return t.default._validateParameters("mag",arguments),c(d,l)},t.default.prototype.map=function(d,l,n,r,o,i){t.default._validateParameters("map",arguments);var a=(d-l)/(n-l)*(o-r)+r;return i?r<o?this.constrain(a,r,o):this.constrain(a,o,r):a},t.default.prototype.max=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return l[0]instanceof Array?Math.max.apply(null,l[0]):Math.max.apply(null,l)},t.default.prototype.min=function(){for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return l[0]instanceof Array?Math.min.apply(null,l[0]):Math.min.apply(null,l)},t.default.prototype.norm=function(d,l,n){return t.default._validateParameters("norm",arguments),this.map(d,l,n,0,1)},t.default.prototype.pow=Math.pow,t.default.prototype.round=function(d,l){if(!l)return Math.round(d);var n=Math.pow(10,l);return Math.round(d*n)/n},t.default.prototype.sq=function(d){return d*d},t.default.prototype.sqrt=Math.sqrt,t.default.prototype.fract=function(d){t.default._validateParameters("fract",arguments);var l=0,n=Number(d);if(isNaN(n)||Math.abs(n)===1/0)return n;if(n<0&&(n=-n,l=1),!String(n).includes(".")||String(n).includes("e"))return n<1?Math.abs(l-n):0;var r=String(n);return r=Number("0"+r.slice(r.indexOf("."))),Math.abs(l-r)};var u=t.default;p.default=u},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(l,n,r){return(c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(o,i,a){var m=[null];m.push.apply(m,i);var v=new(Function.bind.apply(o,m));return a&&u(v,a.prototype),v}).apply(null,arguments)}function u(l,n){return(u=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(l,n)}t.default.prototype.createVector=function(l,n,r){return this instanceof t.default?c(t.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new t.default.Vector(l,n,r)};var d=t.default;p.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(o){return .5*(1-Math.cos(o*Math.PI))}var u,d=4095,l=4,n=.5;t.default.prototype.noise=function(o){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var m=0;m<4096;m++)u[m]=Math.random()}o<0&&(o=-o),i<0&&(i=-i),a<0&&(a=-a);for(var v,b,x,S,M,C=Math.floor(o),O=Math.floor(i),R=Math.floor(a),P=o-C,L=i-O,U=a-R,A=0,B=.5,F=0;F<l;F++){var K=C+(O<<4)+(R<<8);v=c(P),b=c(L),x=u[K&d],x+=v*(u[K+1&d]-x),S=u[K+16&d],x+=b*((S+=v*(u[K+16+1&d]-S))-x),S=u[(K+=256)&d],S+=v*(u[K+1&d]-S),M=u[K+16&d],S+=b*((M+=v*(u[K+16+1&d]-M))-S),A+=(x+=c(U)*(S-x))*B,B*=n,C<<=1,O<<=1,R<<=1,1<=(P*=2)&&(C++,P--),1<=(L*=2)&&(O++,L--),1<=(U*=2)&&(R++,U--)}return A},t.default.prototype.noiseDetail=function(o,i){0<o&&(l=o),0<i&&(n=i)},t.default.prototype.noiseSeed=function(o){var i,a,m,v=(m=4294967296,{setSeed:function(x){a=i=(x==null?Math.random()*m:x)>>>0},getSeed:function(){return i},rand:function(){return(a=(1664525*a+1013904223)%m)/m}});v.setSeed(o),u=new Array(4096);for(var b=0;b<4096;b++)u[b]=v.rand()};var r=t.default;p.default=r},{"../core/main":264}],297:[function(e,y,p){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var a={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(Object.prototype.hasOwnProperty.call(o,v)){var b=m?Object.getOwnPropertyDescriptor(o,v):null;b&&(b.get||b.set)?Object.defineProperty(a,v,b):a[v]=o[v]}return a.default=o,i&&i.set(o,a),a}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return d=function(){return o},o}c.default.Vector=function(o,i,a,m,v){var b,x,S;S={}.toString.call(o)==="[object Function]"?(this.isPInst=!0,this._fromRadians=o,this._toRadians=i,b=a||0,x=m||0,v||0):(b=o||0,x=i||0,a||0),this.x=b,this.y=x,this.z=S},c.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},c.default.Vector.prototype.set=function(o,i,a){return o instanceof c.default.Vector?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):o instanceof Array?(this.x=o[0]||0,this.y=o[1]||0,this.z=o[2]||0):(this.x=o||0,this.y=i||0,this.z=a||0),this},c.default.Vector.prototype.copy=function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)},c.default.Vector.prototype.add=function(o,i,a){return o instanceof c.default.Vector?(this.x+=o.x||0,this.y+=o.y||0,this.z+=o.z||0):o instanceof Array?(this.x+=o[0]||0,this.y+=o[1]||0,this.z+=o[2]||0):(this.x+=o||0,this.y+=i||0,this.z+=a||0),this};function l(o,i){return o!==0&&(this.x=this.x%o),i!==0&&(this.y=this.y%i),this}function n(o,i,a){return o!==0&&(this.x=this.x%o),i!==0&&(this.y=this.y%i),a!==0&&(this.z=this.z%a),this}c.default.Vector.prototype.rem=function(o,i,a){if(o instanceof c.default.Vector){if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)){var m=parseFloat(o.x),v=parseFloat(o.y),b=parseFloat(o.z);return n.call(this,m,v,b)}}else if(o instanceof Array){if(o.every(function(M){return Number.isFinite(M)})){if(o.length===2)return l.call(this,o[0],o[1]);if(o.length===3)return n.call(this,o[0],o[1],o[2])}}else if(arguments.length===1){if(Number.isFinite(o)&&o!==0)return this.x=this.x%o,this.y=this.y%o,this.z=this.z%o,this}else if(arguments.length===2){var x=Array.prototype.slice.call(arguments);if(x.every(function(M){return Number.isFinite(M)})&&x.length===2)return l.call(this,x[0],x[1])}else if(arguments.length===3){var S=Array.prototype.slice.call(arguments);if(S.every(function(M){return Number.isFinite(M)})&&S.length===3)return n.call(this,S[0],S[1],S[2])}},c.default.Vector.prototype.sub=function(o,i,a){return o instanceof c.default.Vector?(this.x-=o.x||0,this.y-=o.y||0,this.z-=o.z||0):o instanceof Array?(this.x-=o[0]||0,this.y-=o[1]||0,this.z-=o[2]||0):(this.x-=o||0,this.y-=i||0,this.z-=a||0),this},c.default.Vector.prototype.mult=function(o,i,a){if(o instanceof c.default.Vector)return Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"?(this.x*=o.x,this.y*=o.y,this.z*=o.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(o instanceof Array)return o.every(function(v){return Number.isFinite(v)})&&o.every(function(v){return typeof v=="number"})?o.length===1?(this.x*=o[0],this.y*=o[0],this.z*=o[0]):o.length===2?(this.x*=o[0],this.y*=o[1]):o.length===3&&(this.x*=o[0],this.y*=o[1],this.z*=o[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var m=Array.prototype.slice.call(arguments);return m.every(function(v){return Number.isFinite(v)})&&m.every(function(v){return typeof v=="number"})?(arguments.length===1&&(this.x*=o,this.y*=o,this.z*=o),arguments.length===2&&(this.x*=o,this.y*=i),arguments.length===3&&(this.x*=o,this.y*=i,this.z*=a)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},c.default.Vector.prototype.div=function(o,i,a){if(o instanceof c.default.Vector){if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"){if(o.x===0||o.y===0||o.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=o.x,this.y/=o.y,this.z/=o.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(o instanceof Array){if(o.every(function(v){return Number.isFinite(v)})&&o.every(function(v){return typeof v=="number"})){if(o.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;o.length===1?(this.x/=o[0],this.y/=o[0],this.z/=o[0]):o.length===2?(this.x/=o[0],this.y/=o[1]):o.length===3&&(this.x/=o[0],this.y/=o[1],this.z/=o[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var m=Array.prototype.slice.call(arguments);if(m.every(function(v){return Number.isFinite(v)})&&m.every(function(v){return typeof v=="number"})){if(m.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=o,this.y/=o,this.z/=o),arguments.length===2&&(this.x/=o,this.y/=i),arguments.length===3&&(this.x/=o,this.y/=i,this.z/=a)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},c.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},c.default.Vector.prototype.magSq=function(){var o=this.x,i=this.y,a=this.z;return o*o+i*i+a*a},c.default.Vector.prototype.dot=function(o,i,a){return o instanceof c.default.Vector?this.dot(o.x,o.y,o.z):this.x*(o||0)+this.y*(i||0)+this.z*(a||0)},c.default.Vector.prototype.cross=function(o){var i=this.y*o.z-this.z*o.y,a=this.z*o.x-this.x*o.z,m=this.x*o.y-this.y*o.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,i,a,m):new c.default.Vector(i,a,m)},c.default.Vector.prototype.dist=function(o){return o.copy().sub(this).mag()},c.default.Vector.prototype.normalize=function(){var o=this.mag();return o!==0&&this.mult(1/o),this},c.default.Vector.prototype.limit=function(o){var i=this.magSq();return o*o<i&&this.div(Math.sqrt(i)).mult(o),this},c.default.Vector.prototype.setMag=function(o){return this.normalize().mult(o)},c.default.Vector.prototype.heading=function(){var o=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(o):o},c.default.Vector.prototype.setHeading=function(o){var i=this.mag();return this.x=i*Math.cos(o),this.y=i*Math.sin(o),this},c.default.Vector.prototype.rotate=function(o){var i=this.heading()+o;this.isPInst&&(i=this._toRadians(i));var a=this.mag();return this.x=Math.cos(i)*a,this.y=Math.sin(i)*a,this},c.default.Vector.prototype.angleBetween=function(o){var i,a=this.dot(o)/(this.mag()*o.mag());return i=Math.acos(Math.min(1,Math.max(-1,a))),i*=Math.sign(this.cross(o).z||1),this.isPInst&&(i=this._fromRadians(i)),i},c.default.Vector.prototype.lerp=function(o,i,a,m){return o instanceof c.default.Vector?this.lerp(o.x,o.y,o.z,i):(this.x+=(o-this.x)*m||0,this.y+=(i-this.y)*m||0,this.z+=(a-this.z)*m||0,this)},c.default.Vector.prototype.reflect=function(o){return o.normalize(),this.sub(o.mult(2*this.dot(o)))},c.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},c.default.Vector.prototype.equals=function(o,i,a){var m,v,b;return b=o instanceof c.default.Vector?(m=o.x||0,v=o.y||0,o.z||0):o instanceof Array?(m=o[0]||0,v=o[1]||0,o[2]||0):(m=o||0,v=i||0,a||0),this.x===m&&this.y===v&&this.z===b},c.default.Vector.fromAngle=function(o,i){return i===void 0&&(i=1),new c.default.Vector(i*Math.cos(o),i*Math.sin(o),0)},c.default.Vector.fromAngles=function(o,i,a){a===void 0&&(a=1);var m=Math.cos(i),v=Math.sin(i),b=Math.cos(o),x=Math.sin(o);return new c.default.Vector(a*x*v,-a*b,a*x*m)},c.default.Vector.random2D=function(){return this.fromAngle(Math.random()*u.TWO_PI)},c.default.Vector.random3D=function(){var o=Math.random()*u.TWO_PI,i=2*Math.random()-1,a=Math.sqrt(1-i*i),m=a*Math.cos(o),v=a*Math.sin(o);return new c.default.Vector(m,v,i)},c.default.Vector.add=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),a.add(i),a},c.default.Vector.rem=function(o,i){if(o instanceof c.default.Vector&&i instanceof c.default.Vector){var a=o.copy();return a.rem(i),a}},c.default.Vector.sub=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),a.sub(i),a},c.default.Vector.mult=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),a.mult(i),a},c.default.Vector.rotate=function(o,i,a){return arguments.length===2?a=o.copy():(a instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),a.set(o)),a.rotate(i),a},c.default.Vector.div=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),a.div(i),a},c.default.Vector.dot=function(o,i){return o.dot(i)},c.default.Vector.cross=function(o,i){return o.cross(i)},c.default.Vector.dist=function(o,i){return o.dist(i)},c.default.Vector.lerp=function(o,i,a,m){return m?m.set(o):(m=o.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),m.lerp(i,a),m},c.default.Vector.mag=function(o){var i=o.x,a=o.y,m=o.z,v=i*i+a*a+m*m;return Math.sqrt(v)},c.default.Vector.normalize=function(o,i){return arguments.length<2?i=o.copy():(i instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),i.set(o)),i.normalize()};var r=c.default.Vector;p.default=r},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},c="_lcg_random_state",u=4294967296,d=0;t.default.prototype._lcg=function(n){return this[n]=(1664525*this[n]+1013904223)%u,this[n]/u},t.default.prototype._lcgSetSeed=function(n,r){this[n]=(r==null?Math.random()*u:r)>>>0},t.default.prototype.randomSeed=function(n){this._lcgSetSeed(c,n),this._gaussian_previous=!1},t.default.prototype.random=function(n,r){var o;if(t.default._validateParameters("random",arguments),o=this[c]!=null?this._lcg(c):Math.random(),n===void 0)return o;if(r===void 0)return n instanceof Array?n[Math.floor(o*n.length)]:o*n;if(r<n){var i=n;n=r,r=i}return o*(r-n)+n},t.default.prototype.randomGaussian=function(n){var r,o,i,a,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=d,this._gaussian_previous=!1;else{for(;1<=(a=(o=this.random(2)-1)*o+(i=this.random(2)-1)*i););r=o*(a=Math.sqrt(-2*Math.log(a)/a)),d=i*a,this._gaussian_previous=!0}return r*m+(n||0)};var l=t.default;p.default=l},{"../core/main":264}],299:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.prototype._angleMode=u.RADIANS,c.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},c.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},c.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},c.default.prototype.atan2=function(n,r){return this._fromRadians(Math.atan2(n,r))},c.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},c.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},c.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},c.default.prototype.degrees=function(n){return n*u.RAD_TO_DEG},c.default.prototype.radians=function(n){return n*u.DEG_TO_RAD},c.default.prototype.angleMode=function(n){n!==u.DEGREES&&n!==u.RADIANS||(this._angleMode=n)},c.default.prototype._toRadians=function(n){return this._angleMode===u.DEGREES?n*u.DEG_TO_RAD:n},c.default.prototype._toDegrees=function(n){return this._angleMode===u.RADIANS?n*u.RAD_TO_DEG:n},c.default.prototype._fromRadians=function(n){return this._angleMode===u.DEGREES?n*u.RAD_TO_DEG:n};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264}],300:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.textAlign=function(u,d){var l;return t.default._validateParameters("textAlign",arguments),(l=this._renderer).textAlign.apply(l,arguments)},t.default.prototype.textLeading=function(u){var d;return t.default._validateParameters("textLeading",arguments),(d=this._renderer).textLeading.apply(d,arguments)},t.default.prototype.textSize=function(u){var d;return t.default._validateParameters("textSize",arguments),(d=this._renderer).textSize.apply(d,arguments)},t.default.prototype.textStyle=function(u){var d;return t.default._validateParameters("textStyle",arguments),(d=this._renderer).textStyle.apply(d,arguments)},t.default.prototype.textWidth=function(){for(var u,d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return l[0]+="",t.default._validateParameters("textWidth",l),l[0].length===0?0:(u=this._renderer).textWidth.apply(u,l)},t.default.prototype.textAscent=function(){for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return t.default._validateParameters("textAscent",d),this._renderer.textAscent()},t.default.prototype.textDescent=function(){for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return t.default._validateParameters("textDescent",d),this._renderer.textDescent()},t.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.default.prototype.textWrap=function(u){if(u!=="WORD"&&u!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(u)};var c=t.default;p.default=c},{"../core/main":264}],301:[function(e,y,p){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=n(e("../core/constants")),d=n(e("opentype.js"));function l(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return l=function(){return o},o}function n(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=l();if(i&&i.has(o))return i.get(o);var a={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(Object.prototype.hasOwnProperty.call(o,v)){var b=m?Object.getOwnPropertyDescriptor(o,v):null;b&&(b.get||b.set)?Object.defineProperty(a,v,b):a[v]=o[v]}return a.default=o,i&&i.set(o,a),a}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(o,i,a){c.default._validateParameters("loadFont",arguments);var m=new c.default.Font(this),v=this;return d.load(o,function(b,x){if(b)return c.default._friendlyFileLoadError(4,o),a!==void 0?a(b):void console.error(b,o);m.font=x,i!==void 0&&i(m),v._decrementPreload();var S,M,C=o.split("\\").pop().split("/").pop(),O=C.lastIndexOf("."),R=O<1?null:C.substr(O+1);["ttf","otf","woff","woff2"].includes(R)&&(S=C.substr(0,O),(M=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(S,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(M))}),m},c.default.prototype.text=function(o,i,a,m,v){var b;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},c.default.prototype.textFont=function(o,i){if(c.default._validateParameters("textFont",arguments),arguments.length){if(!o)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",o),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var r=c.default;p.default=r},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},c=function(P){if(P&&P.__esModule)return P;if(P===null||d(P)!=="object"&&typeof P!="function")return{default:P};var L=u();if(L&&L.has(P))return L.get(P);var U={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in P)if(Object.prototype.hasOwnProperty.call(P,B)){var F=A?Object.getOwnPropertyDescriptor(P,B):null;F&&(F.get||F.set)?Object.defineProperty(U,B,F):U[B]=P[B]}return U.default=P,L&&L.set(P,U),U}(e("../core/constants"));function u(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return u=function(){return P},P}function d(P){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(P)}function l(P,L){for(var U=function(re,Q){if(d(re)!=="object")re=Q;else for(var ne in Q)re[ne]===void 0&&(re[ne]=Q[ne]);return re}(L,{sampleFactor:.1,simplifyThreshold:0}),A=v(P,0,1),B=A/(A*U.sampleFactor),F=[],K=0;K<A;K+=B)F.push(v(P,K));return U.simplifyThreshold&&function(re){for(var Q=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ne=0,ee=re.length-1;3<re.length&&0<=ee;--ee)i(o(re,ee-1),o(re,ee),o(re,ee+1),Q)&&(re.splice(ee%re.length,1),ne++)}(F,U.simplifyThreshold),F}function n(P){for(var L,U=[],A=0;A<P.length;A++)P[A].type==="M"&&(L&&U.push(L),L=[]),L.push(r(P[A]));return U.push(L),U}function r(P){var L=[P.type];return P.type==="M"||P.type==="L"?L.push(P.x,P.y):P.type==="C"?L.push(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"&&L.push(P.x1,P.y1,P.x,P.y),L}function o(P,L){var U=P.length;return P[L<0?L%U+U:L%U]}function i(P,L,U,A){if(!A)return B=P,K=U,((F=L)[0]-B[0])*(K[1]-B[1])-(K[0]-B[0])*(F[1]-B[1])==0;var B,F,K;i.tmpPoint1===void 0&&(i.tmpPoint1=[],i.tmpPoint2=[]);var re=i.tmpPoint1,Q=i.tmpPoint2;re.x=L.x-P.x,re.y=L.y-P.y,Q.x=U.x-L.x,Q.y=U.y-L.y;var ne=re.x*Q.x+re.y*Q.y,ee=Math.sqrt(re.x*re.x+re.y*re.y),ue=Math.sqrt(Q.x*Q.x+Q.y*Q.y);return Math.acos(ne/(ee*ue))<A}function a(P,L,U,A,B,F,K,re,Q){var ne=1-Q,ee=Math.pow(ne,3),ue=Math.pow(ne,2),pe=Q*Q,_e=pe*Q,ce=ee*P+3*ue*Q*U+3*ne*Q*Q*B+_e*K,De=ee*L+3*ue*Q*A+3*ne*Q*Q*F+_e*re,ve=P+2*Q*(U-P)+pe*(B-2*U+P),ge=L+2*Q*(A-L)+pe*(F-2*A+L),I=U+2*Q*(B-U)+pe*(K-2*B+U),V=A+2*Q*(F-A)+pe*(re-2*F+A),W=ne*P+Q*U,Z=ne*L+Q*A,ie=ne*B+Q*K,te=ne*F+Q*re,Te=90-180*Math.atan2(ve-I,ge-V)/Math.PI;return(I<ve||ge<V)&&(Te+=180),{x:ce,y:De,m:{x:ve,y:ge},n:{x:I,y:V},start:{x:W,y:Z},end:{x:ie,y:te},alpha:Te}}function m(P,L,U,A,B,F,K,re,Q){return Q==null?C(P,L,U,A,B,F,K,re):a(P,L,U,A,B,F,K,re,function(ne,ee,ue,pe,_e,ce,De,ve,ge){if(!(ge<0||C(ne,ee,ue,pe,_e,ce,De,ve)<ge)){var I,V=.5,W=1-V;for(I=C(ne,ee,ue,pe,_e,ce,De,ve,W);.01<Math.abs(I-ge);)I=C(ne,ee,ue,pe,_e,ce,De,ve,W+=(I<ge?1:-1)*(V/=2));return W}}(P,L,U,A,B,F,K,re,Q))}function v(P,L,U){for(var A,B,F,K,re,Q=0,ne=0,ee=(P=function(ue,pe){function _e(Oe,je,Ge){var Qe,Ze;if(!Oe)return["C",je.x,je.y,je.x,je.y,je.x,je.y];switch(Oe[0]in{T:1,Q:1}||(je.qx=je.qy=null),Oe[0]){case"M":je.X=Oe[1],je.Y=Oe[2];break;case"A":Oe=["C"].concat(function Be(xt,Re,Le,qe,We,ye,nt,z,Y,H){var $=Math.PI,ae=120*$/180,xe,Ce,Ne,fe,ze=$/180*(+We||0),st=[],wt,jt=function(Zt,Ot,Ke){var cr=Zt*Math.cos(Ke)-Ot*Math.sin(Ke),gt=Zt*Math.sin(Ke)+Ot*Math.cos(Ke);return{x:cr,y:gt}};if(H)xe=H[0],Ce=H[1],Ne=H[2],fe=H[3];else{wt=jt(xt,Re,-ze),xt=wt.x,Re=wt.y,wt=jt(z,Y,-ze),z=wt.x,Y=wt.y;var _t=(xt-z)/2,Tt=(Re-Y)/2,Gt=_t*_t/(Le*Le)+Tt*Tt/(qe*qe);1<Gt&&(Gt=Math.sqrt(Gt),Le*=Gt,qe*=Gt);var On=Le*Le,tn=qe*qe,go=(ye===nt?-1:1)*Math.sqrt(Math.abs((On*tn-On*Tt*Tt-tn*_t*_t)/(On*Tt*Tt+tn*_t*_t)));Ne=go*Le*Tt/qe+(xt+z)/2,fe=go*-qe*_t/Le+(Re+Y)/2,xe=Math.asin(((Re-fe)/qe).toFixed(9)),Ce=Math.asin(((Y-fe)/qe).toFixed(9)),(xe=xt<Ne?$-xe:xe)<0&&(xe=2*$+xe),(Ce=z<Ne?$-Ce:Ce)<0&&(Ce=2*$+Ce),nt&&Ce<xe&&(xe-=2*$),!nt&&xe<Ce&&(Ce-=2*$)}var Wn=Ce-xe;if(Math.abs(Wn)>ae){var kn=Ce,vo=z,bo=Y;Ce=xe+ae*(nt&&xe<Ce?1:-1),z=Ne+Le*Math.cos(Ce),Y=fe+qe*Math.sin(Ce),st=Be(z,Y,Le,qe,We,0,nt,vo,bo,[Ce,kn,Ne,fe])}Wn=Ce-xe;var wo=Math.cos(xe),_o=Math.sin(xe),xo=Math.cos(Ce),Go=Math.sin(Ce),no=Math.tan(Wn/4),oo=4/3*Le*no,le=4/3*qe*no,Ie=[xt,Re],He=[xt+oo*_o,Re-le*wo],Ue=[z+oo*Go,Y-le*xo],et=[z,Y];He[0]=2*Ie[0]-He[0],He[1]=2*Ie[1]-He[1];{if(H)return[He,Ue,et].concat(st);st=[He,Ue,et].concat(st).join().split(",");for(var Ae=[],It=0,Ht=st.length;It<Ht;It++)Ae[It]=It%2?jt(st[It-1],st[It],ze).y:jt(st[It],st[It+1],ze).x;return Ae}}.apply(0,[je.x,je.y].concat(Oe.slice(1))));break;case"S":Ze=Ge==="C"||Ge==="S"?(Qe=2*je.x-je.bx,2*je.y-je.by):(Qe=je.x,je.y),Oe=["C",Qe,Ze].concat(Oe.slice(1));break;case"T":Ge==="Q"||Ge==="T"?(je.qx=2*je.x-je.qx,je.qy=2*je.y-je.qy):(je.qx=je.x,je.qy=je.y),Oe=["C"].concat(M(je.x,je.y,je.qx,je.qy,Oe[1],Oe[2]));break;case"Q":je.qx=Oe[1],je.qy=Oe[2],Oe=["C"].concat(M(je.x,je.y,Oe[1],Oe[2],Oe[3],Oe[4]));break;case"L":Oe=["C"].concat(S(je.x,je.y,Oe[1],Oe[2]));break;case"H":Oe=["C"].concat(S(je.x,je.y,Oe[1],je.y));break;case"V":Oe=["C"].concat(S(je.x,je.y,je.x,Oe[1]));break;case"Z":Oe=["C"].concat(S(je.x,je.y,je.X,je.Y))}return Oe}function ce(Oe,je){if(7<Oe[je].length){Oe[je].shift();for(var Ge=Oe[je];Ge.length;)Z[je]="A",I&&(ie[je]="A"),Oe.splice(je++,0,["C"].concat(Ge.splice(0,6)));Oe.splice(je,1),ve=Math.max(ge.length,I&&I.length||0)}}function De(Oe,je,Ge,Qe,Ze){Oe&&je&&Oe[Ze][0]==="M"&&je[Ze][0]!=="M"&&(je.splice(Ze,0,["M",Qe.x,Qe.y]),Ge.bx=0,Ge.by=0,Ge.x=Oe[Ze][1],Ge.y=Oe[Ze][2],ve=Math.max(ge.length,I&&I.length||0))}var ve,ge=b(ue),I=pe&&b(pe),V={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Z=[],ie=[],te="",Te="";ve=Math.max(ge.length,I&&I.length||0);for(var oe=0;oe<ve;oe++){ge[oe]&&(te=ge[oe][0]),te!=="C"&&(Z[oe]=te,oe&&(Te=Z[oe-1])),ge[oe]=_e(ge[oe],V,Te),Z[oe]!=="A"&&te==="C"&&(Z[oe]="C"),ce(ge,oe),I&&(I[oe]&&(te=I[oe][0]),te!=="C"&&(ie[oe]=te,oe&&(Te=ie[oe-1])),I[oe]=_e(I[oe],W,Te),ie[oe]!=="A"&&te==="C"&&(ie[oe]="C"),ce(I,oe)),De(ge,I,V,W,oe),De(I,ge,W,V,oe);var be=ge[oe],me=I&&I[oe],de=be.length,Me=I&&me.length;V.x=be[de-2],V.y=be[de-1],V.bx=parseFloat(be[de-4])||V.x,V.by=parseFloat(be[de-3])||V.y,W.bx=I&&(parseFloat(me[Me-4])||W.x),W.by=I&&(parseFloat(me[Me-3])||W.y),W.x=I&&me[Me-2],W.y=I&&me[Me-1]}return I?[ge,I]:ge}(P)).length;ne<ee;ne++){if((F=P[ne])[0]==="M")A=+F[1],B=+F[2];else{if(L<Q+(K=m(A,B,F[1],F[2],F[3],F[4],F[5],F[6]))&&!U)return{x:(re=m(A,B,F[1],F[2],F[3],F[4],F[5],F[6],L-Q)).x,y:re.y,alpha:re.alpha};Q+=K,A=+F[5],B=+F[6]}F.shift()+F}return(re=U?Q:a(A,B,F[0],F[1],F[2],F[3],F[4],F[5],1)).alpha&&(re={x:re.x,y:re.y,alpha:re.alpha}),re}function b(P){var L,U=[],A=0,B=0,F=0,K=0,re=0;if(!P)return U;P[0][0]==="M"&&(F=A=+P[0][1],K=B=+P[0][2],re++,U[0]=["M",A,B]);for(var Q,ne,ee=P.length===3&&P[0][0]==="M"&&P[1][0].toUpperCase()==="R"&&P[2][0].toUpperCase()==="Z",ue=re,pe=P.length;ue<pe;ue++){if(U.push(Q=[]),(ne=P[ue])[0]!==String.prototype.toUpperCase.call(ne[0]))switch(Q[0]=String.prototype.toUpperCase.call(ne[0]),Q[0]){case"A":Q[1]=ne[1],Q[2]=ne[2],Q[3]=ne[3],Q[4]=ne[4],Q[5]=ne[5],Q[6]=+(ne[6]+A),Q[7]=+(ne[7]+B);break;case"V":Q[1]=+ne[1]+B;break;case"H":Q[1]=+ne[1]+A;break;case"R":for(var _e=2,ce=(L=[A,B].concat(ne.slice(1))).length;_e<ce;_e++)L[_e]=+L[_e]+A,L[++_e]=+L[_e]+B;U.pop(),U=U.concat(x(L,ee));break;case"M":F=+ne[1]+A,K=+ne[2]+B;break;default:for(var De=1,ve=ne.length;De<ve;De++)Q[De]=+ne[De]+(De%2?A:B)}else if(ne[0]==="R")L=[A,B].concat(ne.slice(1)),U.pop(),U=U.concat(x(L,ee)),Q=["R"].concat(ne.slice(-2));else for(var ge=0,I=ne.length;ge<I;ge++)Q[ge]=ne[ge];switch(Q[0]){case"Z":A=F,B=K;break;case"H":A=Q[1];break;case"V":B=Q[1];break;case"M":F=Q[Q.length-2],K=Q[Q.length-1];break;default:A=Q[Q.length-2],B=Q[Q.length-1]}}return U}function x(P,L){for(var U=[],A=0,B=P.length;A<B-2*!L;A+=2){var F=[{x:+P[A-2],y:+P[A-1]},{x:+P[A],y:+P[A+1]},{x:+P[A+2],y:+P[A+3]},{x:+P[A+4],y:+P[A+5]}];L?A?B-4===A?F[3]={x:+P[0],y:+P[1]}:B-2===A&&(F[2]={x:+P[0],y:+P[1]},F[3]={x:+P[2],y:+P[3]}):F[0]={x:+P[B-2],y:+P[B-1]}:B-4===A?F[3]=F[2]:A||(F[0]={x:+P[A],y:+P[A+1]}),U.push(["C",(-F[0].x+6*F[1].x+F[2].x)/6,(-F[0].y+6*F[1].y+F[2].y)/6,(F[1].x+6*F[2].x-F[3].x)/6,(F[1].y+6*F[2].y-F[3].y)/6,F[2].x,F[2].y])}return U}function S(P,L,U,A){return[P,L,U,A,U,A]}function M(P,L,U,A,B,F){return[1/3*P+2/3*U,1/3*L+2/3*A,1/3*B+2/3*U,1/3*F+2/3*A,B,F]}function C(P,L,U,A,B,F,K,re,Q){Q==null&&(Q=1);for(var ne=(Q=1<Q?1:Q<0?0:Q)/2,ee=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ue=0,pe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_e=0;_e<12;_e++){var ce=ne*ee[_e]+ne,De=O(ce,P,U,B,K),ve=O(ce,L,A,F,re),ge=De*De+ve*ve;ue+=pe[_e]*Math.sqrt(ge)}return ne*ue}function O(P,L,U,A,B){return P*(P*(-3*L+9*U-9*A+3*B)+6*L-12*U+6*A)-3*L+3*U}t.default.Font=function(P){this.parent=P,this.cache={},this.font=void 0},t.default.Font.prototype.textBounds=function(P){var L,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,B=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,K=F&&F.renderer&&F.renderer._pInst||this.parent,re=K._renderer.drawingContext;if(re.textAlign||c.LEFT,re.textBaseline||c.BASELINE,B=B||K._renderer._textSize,!L){var Q,ne,ee=[],ue=[],pe=[];pe[0]=[];var _e=[],ce=this._scale(B),De=K._renderer.textLeading(),ve=0;this.font.forEachGlyph(P,U,A,B,F,function(Z,ie,te,Te){var oe=Z.getMetrics();Z.index===0||Z.index===10?pe[ve+=1]=[]:(pe[ve].push(ie+oe.xMin*ce),pe[ve].push(ie+oe.xMax*ce),_e.push(te+ve*De+-oe.yMin*ce),_e.push(te+ve*De+-oe.yMax*ce))}),0<pe[ve].length&&(ee[ve]=Math.min.apply(null,pe[ve]),ue[ve]=Math.max.apply(null,pe[ve]));for(var ge=0,I=0;I<=ve;I++){ee[I]=Math.min.apply(null,pe[I]),ue[I]=Math.max.apply(null,pe[I]);var V=ue[I]-ee[I];ge<V&&(ge=V)}var W=Math.min.apply(null,ee);L={x:W,y:Q=Math.min.apply(null,_e),h:Math.max.apply(null,_e)-Q,w:ge,advance:W-U},ne=this._handleAlignment(K._renderer,P,L.x,L.y,L.w+L.advance),L.x=ne.x,L.y=ne.y}return L},t.default.Font.prototype.textToPoints=function(P,L,U,A,B){var F,K=0,re=[],Q=this._getGlyphs(P);A=A||this.parent._renderer._textSize;for(var ne=0;ne<Q.length;ne++){if(!(Q[F=ne].name&&Q[F].name==="space"||P.length===Q.length&&P[F]===" "))for(var ee=n(Q[ne].getPath(L,U,A).commands),ue=0;ue<ee.length;ue++)for(var pe=l(ee[ue],B),_e=0;_e<pe.length;_e++)pe[_e].x+=K,re.push(pe[_e]);K+=Q[ne].advanceWidth*this._scale(A)}return re},t.default.Font.prototype._getGlyphs=function(P){return this.font.stringToGlyphs(P)},t.default.Font.prototype._getPath=function(P,L,U,A){var B=(A&&A.renderer&&A.renderer._pInst||this.parent)._renderer,F=this._handleAlignment(B,P,L,U);return this.font.getPath(P,F.x,F.y,B._textSize,A)},t.default.Font.prototype._getPathData=function(P,L,U,A){var B=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,L,U,A):d(L)==="object"&&(A=L),A&&typeof A.decimals=="number"&&(B=A.decimals),P.toPathData(B)},t.default.Font.prototype._getSVG=function(P,L,U,A){var B=3;return typeof P=="string"&&2<arguments.length?P=this._getPath(P,L,U,A):d(L)==="object"&&(A=L),A&&(typeof A.decimals=="number"&&(B=A.decimals),typeof A.strokeWidth=="number"&&(P.strokeWidth=A.strokeWidth),A.fill!==void 0&&(P.fill=A.fill),A.stroke!==void 0&&(P.stroke=A.stroke)),P.toSVG(B)},t.default.Font.prototype._renderPath=function(P,L,U,A){var B,F=A&&A.renderer||this.parent._renderer,K=F.drawingContext;B=d(P)==="object"&&P.commands?P.commands:this._getPath(P,L,U,A).commands,K.beginPath();var re=!0,Q=!1,ne=void 0;try{for(var ee,ue=B[Symbol.iterator]();!(re=(ee=ue.next()).done);re=!0){var pe=ee.value;pe.type==="M"?K.moveTo(pe.x,pe.y):pe.type==="L"?K.lineTo(pe.x,pe.y):pe.type==="C"?K.bezierCurveTo(pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y):pe.type==="Q"?K.quadraticCurveTo(pe.x1,pe.y1,pe.x,pe.y):pe.type==="Z"&&K.closePath()}}catch(_e){Q=!0,ne=_e}finally{try{re||ue.return==null||ue.return()}finally{if(Q)throw ne}}return F._doStroke&&F._strokeSet&&K.stroke(),F._doFill&&(F._fillSet||F._setFill(c._DEFAULT_TEXT_FILL),K.fill()),this},t.default.Font.prototype._textWidth=function(P,L){return this.font.getAdvanceWidth(P,L)},t.default.Font.prototype._textAscent=function(P){return this.font.ascender*this._scale(P)},t.default.Font.prototype._textDescent=function(P){return-this.font.descender*this._scale(P)},t.default.Font.prototype._scale=function(P){return 1/this.font.unitsPerEm*(P||this.parent._renderer._textSize)},t.default.Font.prototype._handleAlignment=function(P,L,U,A,B){var F=P._textSize;switch(B===void 0&&(B=this._textWidth(L,F)),P._textAlign){case c.CENTER:U-=B/2;break;case c.RIGHT:U-=B}switch(P._textBaseline){case c.TOP:A+=this._textAscent(F);break;case c.CENTER:A+=this._textAscent(F)/2;break;case c.BOTTOM:A-=this._textDescent(F)}return{x:U,y:A}};var R=t.default;p.default=R},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.append=function(u,d){return u.push(d),u},t.default.prototype.arrayCopy=function(u,d,l,n,r){var o,i;u=r!==void 0?(i=Math.min(r,u.length),o=n,u.slice(d,i+d)):(i=l!==void 0?(i=l,Math.min(i,u.length)):u.length,o=0,l=d,u.slice(0,i)),Array.prototype.splice.apply(l,[o,i].concat(u))},t.default.prototype.concat=function(u,d){return u.concat(d)},t.default.prototype.reverse=function(u){return u.reverse()},t.default.prototype.shorten=function(u){return u.pop(),u},t.default.prototype.shuffle=function(u,d){for(var l,n,r=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(u),o=(u=d||r?u:u.slice()).length;1<o;)l=this.random(0,1)*o|0,n=u[--o],u[o]=u[l],u[l]=n;return u},t.default.prototype.sort=function(u,d){var l=d?u.slice(0,Math.min(d,u.length)):u,n=d?u.slice(Math.min(d,u.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(r,o){return r-o})).concat(n)},t.default.prototype.splice=function(u,d,l){return Array.prototype.splice.apply(u,[l,0].concat(d)),u},t.default.prototype.subset=function(u,d,l){return l!==void 0?u.slice(d,d+l):u.slice(d,u.length)};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,y,p){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},t.default.prototype.int=function(u){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,d):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(l){return t.default.prototype.int(l,d)}):void 0},t.default.prototype.str=function(u){return u instanceof Array?u.map(t.default.prototype.str):String(u)},t.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(t.default.prototype.boolean):void 0},t.default.prototype.byte=function(u){var d=t.default.prototype.int(u,10);return typeof d=="number"?(d+128)%256-128:d instanceof Array?d.map(t.default.prototype.byte):void 0},t.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(t.default.prototype.char):typeof u=="string"?t.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},t.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(t.default.prototype.unchar):void 0},t.default.prototype.hex=function(u,d){if(d=d==null?d=8:d,u instanceof Array)return u.map(function(n){return t.default.prototype.hex(n,d)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(d);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var l=Number(u).toString(16).toUpperCase();l.length<d;)l="0".concat(l);return l.length>=d&&(l=l.substring(l.length-d,l.length)),l}},t.default.prototype.unhex=function(u){return u instanceof Array?u.map(t.default.prototype.unhex):parseInt("0x".concat(u),16)};var c=t.default;p.default=c},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,y,p){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(r,o,i){var a=r<0,m=a?r.toString().substring(1):r.toString(),v=m.indexOf("."),b=v!==-1?m.substring(0,v):m,x=v!==-1?m.substring(v+1):"",S=a?"-":"";if(i!==void 0){var M="";(v!==-1||0<i-x.length)&&(M="."),x.length>i&&(x=x.substring(0,i));for(var C=0;C<o-b.length;C++)S+="0";S+=b,S+=M,S+=x;for(var O=0;O<i-x.length;O++)S+="0";return S}for(var R=0;R<Math.max(o-b.length,0);R++)S+="0";return S+=m}function u(r,o){var i=(r=r.toString()).indexOf("."),a=i!==-1?r.substring(i):"",m=i!==-1?r.substring(0,i):r;if(m=m.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),o===0)a="";else if(o!==void 0)if(o>a.length)for(var v=o-(a+=i===-1?".":"").length+1,b=0;b<v;b++)a+="0";else a=a.substring(0,o+1);return m+a}function d(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function l(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.join=function(r,o){return t.default._validateParameters("join",arguments),r.join(o)},t.default.prototype.match=function(r,o){return t.default._validateParameters("match",arguments),r.match(o)},t.default.prototype.matchAll=function(r,o){t.default._validateParameters("matchAll",arguments);for(var i=new RegExp(o,"g"),a=i.exec(r),m=[];a!==null;)m.push(a),a=i.exec(r);return m},t.default.prototype.nf=function(r,o,i){return t.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(a){return c(a,o,i)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):c(r,o,i)},t.default.prototype.nfc=function(r,o){return t.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(i){return u(i,o)}):u(r,o)},t.default.prototype.nfp=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.default._validateParameters("nfp",o);var a=t.default.prototype.nf.apply(this,o);return a instanceof Array?a.map(d):d(a)},t.default.prototype.nfs=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.default._validateParameters("nfs",o);var a=t.default.prototype.nf.apply(this,o);return a instanceof Array?a.map(l):l(a)},t.default.prototype.split=function(r,o){return t.default._validateParameters("split",arguments),r.split(o)},t.default.prototype.splitTokens=function(r,o){var i;if(t.default._validateParameters("splitTokens",arguments),o!==void 0){var a=o,m=/\]/g.exec(a),v=/\[/g.exec(a);i=v&&m?(a=a.slice(0,m.index)+a.slice(m.index+1),v=/\[/g.exec(a),a=a.slice(0,v.index)+a.slice(v.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):m?(a=a.slice(0,m.index)+a.slice(m.index+1),new RegExp("[".concat(a,"\\]]"),"g")):v?(a=a.slice(0,v.index)+a.slice(v.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")}else i=/\s/g;return r.split(i).filter(function(b){return b})},t.default.prototype.trim=function(r){return t.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var n=t.default;p.default=n},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()};var c=t.default;p.default=c},{"../core/main":264}],307:[function(e,y,p){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t};e("./p5.Geometry");var u=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=d();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var v=a?Object.getOwnPropertyDescriptor(r,m):null;v&&(v.get||v.set)?Object.defineProperty(i,m,v):i[m]=r[m]}return i.default=r,o&&o.set(r,i),i}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}c.default.prototype.plane=function(r,o,i,a){this._assert3d("plane"),c.default._validateParameters("plane",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=1),a===void 0&&(a=1);var m="plane|".concat(i,"|").concat(a);if(!this._renderer.geometryInHash(m)){var v=new c.default.Geometry(i,a,function(){for(var b,x,S,M=0;M<=this.detailY;M++){x=M/this.detailY;for(var C=0;C<=this.detailX;C++)b=C/this.detailX,S=new c.default.Vector(b-.5,x-.5,0),this.vertices.push(S),this.uvs.push(b,x)}});v.computeFaces().computeNormals(),i<=1&&a<=1?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,v)}return this._renderer.drawBuffersScaled(m,r,o,1),this},c.default.prototype.box=function(r,o,i,a,m){this._assert3d("box"),c.default._validateParameters("box",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=o);var v=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;a===void 0&&(a=v?1:4),m===void 0&&(m=v?1:4);var b="box|".concat(a,"|").concat(m);if(!this._renderer.geometryInHash(b)){var x=new c.default.Geometry(a,m,function(){var S=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var M=0;M<S.length;M++){for(var C=S[M],O=4*M,R=0;R<4;R++){var P=C[R],L=new c.default.Vector((2*(1&P)-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);this.vertices.push(L),this.uvs.push(1&R,(2&R)/2)}this.faces.push([O,1+O,2+O]),this.faces.push([2+O,1+O,3+O])}});x.computeNormals(),a<=4&&m<=4?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,x)}return this._renderer.drawBuffersScaled(b,r,o,i),this},c.default.prototype.sphere=function(r,o,i){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),r===void 0&&(r=50),o===void 0&&(o=24),i===void 0&&(i=16),this.ellipsoid(r,r,r,o,i),this};function l(r,o,i,a,m,v,b){r=r<=0?1:r,o=o<0?0:o,i=i<=0?r:i,a=a<3?3:a;var x,S,M,C=(v=v===void 0||v)?-2:0,O=(m=m<1?1:m)+((b=b===void 0?o!==0:b)?2:0),R=Math.atan2(r-o,i),P=Math.sin(R),L=Math.cos(R);for(x=C;x<=O;++x){var U=x/m,A=i*U,B=void 0;for(B=x<0?(U=A=0,r):m<x?(A=i,U=1,o):r+(o-r)*U,x!==-2&&x!==m+2||(B=0),A-=i/2,S=0;S<a;++S){var F=S/(a-1),K=2*Math.PI*F,re=Math.sin(K),Q=Math.cos(K);this.vertices.push(new c.default.Vector(re*B,A,Q*B));var ne=void 0;ne=x<0?new c.default.Vector(0,-1,0):m<x&&o?new c.default.Vector(0,1,0):new c.default.Vector(re*L,P,Q*L),this.vertexNormals.push(ne),this.uvs.push(F,U)}}var ee=0;if(v){for(M=0;M<a;++M){var ue=(M+1)%a;this.faces.push([ee+M,ee+a+ue,ee+a+M])}ee+=2*a}for(x=0;x<m;++x){for(S=0;S<a;++S){var pe=(S+1)%a;this.faces.push([ee+S,ee+pe,ee+a+pe]),this.faces.push([ee+S,ee+a+pe,ee+a+S])}ee+=a}if(b)for(ee+=a,S=0;S<a;++S)this.faces.push([ee+S,ee+(S+1)%a,ee+a])}c.default.prototype.cylinder=function(r,o,i,a,m,v){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=24),a===void 0&&(a=1),v===void 0&&(v=!0),m===void 0&&(m=!0);var b="cylinder|".concat(i,"|").concat(a,"|").concat(m,"|").concat(v);if(!this._renderer.geometryInHash(b)){var x=new c.default.Geometry(i,a);l.call(x,1,1,1,i,a,m,v),i<=24&&a<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,x)}return this._renderer.drawBuffersScaled(b,r,o,r),this},c.default.prototype.cone=function(r,o,i,a,m){this._assert3d("cone"),c.default._validateParameters("cone",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=24),a===void 0&&(a=1),m===void 0&&(m=!0);var v="cone|".concat(i,"|").concat(a,"|").concat(m);if(!this._renderer.geometryInHash(v)){var b=new c.default.Geometry(i,a);l.call(b,1,0,1,i,a,m,!1),i<=24&&a<=16?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,b)}return this._renderer.drawBuffersScaled(v,r,o,r),this},c.default.prototype.ellipsoid=function(r,o,i,a,m){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=r),a===void 0&&(a=24),m===void 0&&(m=16);var v="ellipsoid|".concat(a,"|").concat(m);if(!this._renderer.geometryInHash(v)){var b=new c.default.Geometry(a,m,function(){for(var x=0;x<=this.detailY;x++)for(var S=x/this.detailY,M=Math.PI*S-Math.PI/2,C=Math.cos(M),O=Math.sin(M),R=0;R<=this.detailX;R++){var P=R/this.detailX,L=2*Math.PI*P,U=Math.cos(L),A=Math.sin(L),B=new c.default.Vector(C*A,O,C*U);this.vertices.push(B),this.vertexNormals.push(B),this.uvs.push(P,S)}});b.computeFaces(),a<=24&&m<=24?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(v,b)}return this._renderer.drawBuffersScaled(v,r,o,i),this},c.default.prototype.torus=function(r,o,i,a){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(o===void 0)o=10;else if(!o)return;i===void 0&&(i=24),a===void 0&&(a=16);var m=(o/r).toPrecision(4),v="torus|".concat(m,"|").concat(i,"|").concat(a);if(!this._renderer.geometryInHash(v)){var b=new c.default.Geometry(i,a,function(){for(var x=0;x<=this.detailY;x++)for(var S=x/this.detailY,M=2*Math.PI*S,C=Math.cos(M),O=Math.sin(M),R=1+m*C,P=0;P<=this.detailX;P++){var L=P/this.detailX,U=2*Math.PI*L,A=Math.cos(U),B=Math.sin(U),F=new c.default.Vector(R*A,R*B,m*O),K=new c.default.Vector(C*A,C*B,O);this.vertices.push(F),this.vertexNormals.push(K),this.uvs.push(L,S)}});b.computeFaces(),i<=24&&a<=16?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,b)}return this._renderer.drawBuffersScaled(v,r,r,r),this},c.default.RendererGL.prototype.point=function(r,o,i){i===void 0&&(i=0);var a=[];return a.push(new c.default.Vector(r,o,i)),this._drawPoints(a,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(r){var o=r[0],i=r[1],a=r[2],m=r[3],v=r[4],b=r[5];if(!this.geometryInHash("tri")){var x=new c.default.Geometry(1,1,function(){var C=[];C.push(new c.default.Vector(0,0,0)),C.push(new c.default.Vector(0,1,0)),C.push(new c.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=C,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});x._makeTriangleEdges()._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)}var S=this.uMVMatrix.copy();try{var M=new c.default.Matrix([a-o,m-i,0,0,v-o,b-i,0,0,0,0,1,0,o,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=M,this.drawBuffers("tri")}finally{this.uMVMatrix=S}return this},c.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,u.TWO_PI,u.OPEN,r[4])},c.default.RendererGL.prototype.arc=function(r){var o,i,a=r,m=arguments[1],v=arguments[2],b=arguments[3],x=arguments[4],S=arguments[5],M=arguments[6],C=arguments[7]||25;if(i=Math.abs(S-x)>=u.TWO_PI?"".concat(o="ellipse","|").concat(C,"|"):"".concat(o="arc","|").concat(x,"|").concat(S,"|").concat(M,"|").concat(C,"|"),!this.geometryInHash(i)){var O=new c.default.Geometry(C,1,function(){if(this.strokeIndices=[],x.toFixed(10)!==S.toFixed(10)){M!==u.PIE&&M!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=C;P++){var L=(S-x)*(P/C)+x,U=.5+Math.cos(L)/2,A=.5+Math.sin(L)/2;this.vertices.push(new c.default.Vector(U,A,0)),this.uvs.push([U,A]),P<C-1&&(this.faces.push([0,P+1,P+2]),this.strokeIndices.push([P+1,P+2]))}switch(M){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case u.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case u.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});O.computeNormals(),C<=50?O._makeTriangleEdges()._edgesToVertices(O):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(o," with more than 50 detail")),this.createBuffers(i,O)}var R=this.uMVMatrix.copy();try{this.uMVMatrix.translate([a,m,0]),this.uMVMatrix.scale(v,b,1),this.drawBuffers(i)}finally{this.uMVMatrix=R}return this},c.default.RendererGL.prototype.rect=function(r){var o=this._pInst._glAttributes.perPixelLighting,i=r[0],a=r[1],m=r[2],v=r[3],b=r[4]||(o?1:24),x=r[5]||(o?1:16),S="rect|".concat(b,"|").concat(x);if(!this.geometryInHash(S)){var M=new c.default.Geometry(b,x,function(){for(var O=0;O<=this.detailY;O++)for(var R=O/this.detailY,P=0;P<=this.detailX;P++){var L=P/this.detailX,U=new c.default.Vector(L,R,0);this.vertices.push(U),this.uvs.push(L,R)}0<b&&0<x&&(this.strokeIndices=[[0,b],[b,(b+1)*(x+1)-1],[(b+1)*(x+1)-1,(b+1)*x],[(b+1)*x,0]])});M.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(S,M)}var C=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,a,0]),this.uMVMatrix.scale(m,v,1),this.drawBuffers(S)}finally{this.uMVMatrix=C}return this},c.default.RendererGL.prototype.quad=function(r,o,i,a,m,v,b,x,S,M,C,O,R,P){R===void 0&&(R=2),P===void 0&&(P=2);var L="quad|".concat(r,"|").concat(o,"|").concat(i,"|").concat(a,"|").concat(m,"|").concat(v,"|").concat(b,"|").concat(x,"|").concat(S,"|").concat(M,"|").concat(C,"|").concat(O,"|").concat(R,"|").concat(P);if(!this.geometryInHash(L)){var U=new c.default.Geometry(R,P,function(){for(var ne=1/(this.detailX-1),ee=1/(this.detailY-1),ue=0;ue<this.detailY;ue++)for(var pe=0;pe<this.detailX;pe++){var _e=pe*ne,ce=ue*ee,De=(1-_e)*((1-ce)*r+ce*M)+_e*((1-ce)*a+ce*b),ve=(1-_e)*((1-ce)*o+ce*C)+_e*((1-ce)*m+ce*x),ge=(1-_e)*((1-ce)*i+ce*O)+_e*((1-ce)*v+ce*S);this.vertices.push(new c.default.Vector(De,ve,ge)),this.uvs.push([_e,ce])}});U.faces=[];for(var A=0;A<P-1;A++)for(var B=0;B<R-1;B++){var F=B+A*R,K=B+1+A*R,re=B+1+(A+1)*R,Q=B+(A+1)*R;U.faces.push([F,K,re]),U.faces.push([F,re,Q])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,U)}return this.drawBuffers(L),this},c.default.RendererGL.prototype.bezier=function(r,o,i,a,m,v,b,x,S,M,C,O){arguments.length===8&&(C=x,M=b,x=v,b=m,m=a,a=i,i=v=S=O=0);var R=this._pInst._bezierDetail||20;this.beginShape();for(var P=0;P<=R;P++){var L=Math.pow(1-P/R,3),U=P/R*3*Math.pow(1-P/R,2),A=3*Math.pow(P/R,2)*(1-P/R),B=Math.pow(P/R,3);this.vertex(r*L+a*U+b*A+M*B,o*L+m*U+x*A+C*B,i*L+v*U+S*A+O*B)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(r,o,i,a,m,v,b,x,S,M,C,O){arguments.length===8&&(M=b,C=x,b=m,x=a,m=a=i,i=v=S=O=0);var R=this._pInst._curveDetail;this.beginShape();for(var P=0;P<=R;P++){var L=.5*Math.pow(P/R,3),U=.5*Math.pow(P/R,2),A=P/R*.5,B=L*(3*a-r-3*b+M)+U*(2*r-5*a+4*b-M)+A*(-r+b)+2*a*.5,F=L*(3*m-o-3*x+C)+U*(2*o-5*m+4*x-C)+A*(-o+x)+2*m*.5,K=L*(3*v-i-3*S+O)+U*(2*i-5*v+4*S-O)+A*(-i+S)+2*v*.5;this.vertex(B,F,K)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,o,i,a,m,v=[],b=[],x=[],S=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,C=0,O=1,R=0;C<1;){if(r=parseFloat(C.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(r),O.toFixed(6)===M.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(r);break}C+=M,O-=M,++R}}var P=this._lookUpTableBezier.length;if(S===6){for(this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],m=0;m<P;m++)o=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],i=b[0]*this._lookUpTableBezier[m][0]+b[1]*this._lookUpTableBezier[m][1]+b[2]*this._lookUpTableBezier[m][2]+b[3]*this._lookUpTableBezier[m][3],this.vertex(o,i);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(S===9){for(this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],x=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],m=0;m<P;m++)o=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],i=b[0]*this._lookUpTableBezier[m][0]+b[1]*this._lookUpTableBezier[m][1]+b[2]*this._lookUpTableBezier[m][2]+b[3]*this._lookUpTableBezier[m][3],a=x[0]*this._lookUpTableBezier[m][0]+x[1]*this._lookUpTableBezier[m][1]+x[2]*this._lookUpTableBezier[m][2]+x[3]*this._lookUpTableBezier[m][3],this.vertex(o,i,a);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,o,i,a,m,v=[],b=[],x=[],S=arguments.length;if((r=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,C=0,O=1,R=0;C<1;){if(r=parseFloat(C.toFixed(6)),this._lookUpTableQuadratic[R]=this._quadraticCoefficients(r),O.toFixed(6)===M.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableQuadratic[R]=this._quadraticCoefficients(r);break}C+=M,O-=M,++R}}var P=this._lookUpTableQuadratic.length;if(S===4){for(this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],m=0;m<P;m++)o=v[0]*this._lookUpTableQuadratic[m][0]+v[1]*this._lookUpTableQuadratic[m][1]+v[2]*this._lookUpTableQuadratic[m][2],i=b[0]*this._lookUpTableQuadratic[m][0]+b[1]*this._lookUpTableQuadratic[m][1]+b[2]*this._lookUpTableQuadratic[m][2],this.vertex(o,i);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(S===6){for(this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],m=0;m<P;m++)o=v[0]*this._lookUpTableQuadratic[m][0]+v[1]*this._lookUpTableQuadratic[m][1]+v[2]*this._lookUpTableQuadratic[m][2],i=b[0]*this._lookUpTableQuadratic[m][0]+b[1]*this._lookUpTableQuadratic[m][1]+b[2]*this._lookUpTableQuadratic[m][2],a=x[0]*this._lookUpTableQuadratic[m][0]+x[1]*this._lookUpTableQuadratic[m][1]+x[2]*this._lookUpTableQuadratic[m][2],this.vertex(o,i,a);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var r,o,i,a,m,v=[],b=[],x=[],S=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,C=0,O=1,R=0;C<1;){if(r=parseFloat(C.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(r),O.toFixed(6)===M.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(C.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(r);break}C+=M,O-=M,++R}}var P=this._lookUpTableBezier.length;if(S===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),m=0;m<P;m++)o=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],i=b[0]*this._lookUpTableBezier[m][0]+b[1]*this._lookUpTableBezier[m][1]+b[2]*this._lookUpTableBezier[m][2]+b[3]*this._lookUpTableBezier[m][3],this.vertex(o,i);for(m=0;m<S;m++)this.immediateMode._curveVertex.shift()}}else if(S===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),m=0;m<P;m++)o=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],i=b[0]*this._lookUpTableBezier[m][0]+b[1]*this._lookUpTableBezier[m][1]+b[2]*this._lookUpTableBezier[m][2]+b[3]*this._lookUpTableBezier[m][3],a=x[0]*this._lookUpTableBezier[m][0]+x[1]*this._lookUpTableBezier[m][1]+x[2]*this._lookUpTableBezier[m][2]+x[3]*this._lookUpTableBezier[m][3],this.vertex(o,i,a);for(m=0;m<S;m++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(r,o,i,a,m,v,b,x,S){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(r),this._pInst.textureMode(u.NORMAL);var M=0;o<=r.width&&(M=o/r.width);var C=1;o+a<=r.width&&(C=(o+a)/r.width);var O=0;i<=r.height&&(O=i/r.height);var R=1;i+m<=r.height&&(R=(i+m)/r.height),this.beginShape(),this.vertex(v,b,0,M,O),this.vertex(v+x,b,0,C,O),this.vertex(v+x,b+S,0,C,R),this.vertex(v,b+S,0,M,R),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var n=c.default;p.default=n},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.prototype.orbitControl=function(n,r,o){if(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var i=this._renderer._curCamera;n===void 0&&(n=1),r===void 0&&(r=n),o===void 0&&(o=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var a=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,o*a):this._renderer._curCamera._orbit(0,0,-o*a)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var m=-n*(this.mouseX-this.pmouseX)/a,v=r*(this.mouseY-this.pmouseY)/a;this._renderer._curCamera._orbit(m,v,0)}else if(this.mouseButton===this.RIGHT){var b=i._getLocalAxes(),x=Math.sqrt(b.x[0]*b.x[0]+b.x[2]*b.x[2]);x!==0&&(b.x[0]/=x,b.x[2]/=x);var S=Math.sqrt(b.y[0]*b.y[0]+b.y[2]*b.y[2]);S!==0&&(b.y[0]/=S,b.y[2]/=S);var M=-1*n*(this.mouseX-this.pmouseX),C=-1*r*(this.mouseY-this.pmouseY);i.setPosition(i.eyeX+M*b.x[0]+C*b.z[0],i.eyeY,i.eyeZ+M*b.x[2]+C*b.z[2])}}return this}},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];c.default._validateParameters("debugMode",r);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);r[0]===u.GRID?this.registerMethod("post",this._grid.call(this,r[1],r[2],r[3],r[4],r[5])):r[0]===u.AXES?this.registerMethod("post",this._axesIcon.call(this,r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid.call(this,r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon.call(this,r[5],r[6],r[7],r[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},c.default.prototype._grid=function(n,r,o,i,a){n===void 0&&(n=this.width/2),r===void 0&&(r=Math.round(n/30)<4?4:Math.round(n/30)),o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0);var m=n/r,v=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var b=0;b<=r;b++)this.beginShape(this.LINES),this.vertex(-v+o,i,b*m-v+a),this.vertex(+v+o,i,b*m-v+a),this.endShape();for(var x=0;x<=r;x++)this.beginShape(this.LINES),this.vertex(x*m-v+o,i,-v+a),this.vertex(x*m-v+o,i,+v+a),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(n,r,o,i){return n===void 0&&(n=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),o===void 0&&(o=r),i===void 0&&(i=r),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r+n,o,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r,o+n,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r,o,i+n),this.endShape(),this.pop()}};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.prototype.ambientLight=function(n,r,o,i){this._assert3d("ambientLight"),c.default._validateParameters("ambientLight",arguments);var a=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(a._array[0],a._array[1],a._array[2]),this._renderer._enableLighting=!0,this},c.default.prototype.specularColor=function(n,r,o){this._assert3d("specularColor"),c.default._validateParameters("specularColor",arguments);var i=this.color.apply(this,arguments);return this._renderer.specularColors=[i._array[0],i._array[1],i._array[2]],this},c.default.prototype.directionalLight=function(n,r,o,i,a,m){var v,b,x,S;this._assert3d("directionalLight"),c.default._validateParameters("directionalLight",arguments),v=n instanceof c.default.Color?n:this.color(n,r,o);var M=arguments[arguments.length-1];S=typeof M=="number"?(b=arguments[arguments.length-3],x=arguments[arguments.length-2],arguments[arguments.length-1]):(b=M.x,x=M.y,M.z);var C=Math.sqrt(b*b+x*x+S*S);return this._renderer.directionalLightDirections.push(b/C,x/C,S/C),this._renderer.directionalLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.pointLight=function(n,r,o,i,a,m){var v,b,x,S;this._assert3d("pointLight"),c.default._validateParameters("pointLight",arguments),v=n instanceof c.default.Color?n:this.color(n,r,o);var M=arguments[arguments.length-1];return S=typeof M=="number"?(b=arguments[arguments.length-3],x=arguments[arguments.length-2],arguments[arguments.length-1]):(b=M.x,x=M.y,M.z),this._renderer.pointLightPositions.push(b,x,S),this._renderer.pointLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===u.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var n=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,n),this.directionalLight(0,0,n,0,0,-1)}return this},c.default.prototype.lightFalloff=function(n,r,o){return this._assert3d("lightFalloff"),c.default._validateParameters("lightFalloff",arguments),n<0&&(n=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),n===0&&r===0&&o===0&&(n=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=n,this._renderer.linearAttenuation=r,this._renderer.quadraticAttenuation=o,this},c.default.prototype.spotLight=function(n,r,o,i,a,m,v,b,x,S,M){var C,O,R;this._assert3d("spotLight"),c.default._validateParameters("spotLight",arguments);var P=arguments.length;switch(P){case 11:case 10:C=this.color(n,r,o),O=new c.default.Vector(i,a,m),R=new c.default.Vector(v,b,x);break;case 9:n instanceof c.default.Color?(C=n,O=new c.default.Vector(r,o,i),R=new c.default.Vector(a,m,v),S=b,M=x):i instanceof c.default.Vector?(C=this.color(n,r,o),O=i,R=new c.default.Vector(a,m,v),S=b,M=x):v instanceof c.default.Vector?(C=this.color(n,r,o),O=new c.default.Vector(i,a,m),R=v,S=b,M=x):(C=this.color(n,r,o),O=new c.default.Vector(i,a,m),R=new c.default.Vector(v,b,x));break;case 8:S=(R=n instanceof c.default.Color?(C=n,O=new c.default.Vector(r,o,i),new c.default.Vector(a,m,v)):i instanceof c.default.Vector?(C=this.color(n,r,o),O=i,new c.default.Vector(a,m,v)):(C=this.color(n,r,o),O=new c.default.Vector(i,a,m),v),b);break;case 7:n instanceof c.default.Color&&r instanceof c.default.Vector?(C=n,O=r,R=new c.default.Vector(o,i,a),S=m,M=v):n instanceof c.default.Color&&a instanceof c.default.Vector?(C=n,O=new c.default.Vector(r,o,i),R=a,S=m,M=v):i instanceof c.default.Vector&&a instanceof c.default.Vector?(C=this.color(n,r,o),O=i,R=a,S=m,M=v):R=n instanceof c.default.Color?(C=n,O=new c.default.Vector(r,o,i),new c.default.Vector(a,m,v)):i instanceof c.default.Vector?(C=this.color(n,r,o),O=i,new c.default.Vector(a,m,v)):(C=this.color(n,r,o),O=new c.default.Vector(i,a,m),v);break;case 6:i instanceof c.default.Vector&&a instanceof c.default.Vector?(C=this.color(n,r,o),O=i,R=a,S=m):n instanceof c.default.Color&&a instanceof c.default.Vector?(C=n,O=new c.default.Vector(r,o,i),R=a,S=m):n instanceof c.default.Color&&r instanceof c.default.Vector&&(C=n,O=r,R=new c.default.Vector(o,i,a),S=m);break;case 5:n instanceof c.default.Color&&r instanceof c.default.Vector&&o instanceof c.default.Vector?(C=n,O=r,R=o,S=i,M=a):i instanceof c.default.Vector&&a instanceof c.default.Vector?(C=this.color(n,r,o),O=i,R=a):n instanceof c.default.Color&&a instanceof c.default.Vector?(C=n,O=new c.default.Vector(r,o,i),R=a):n instanceof c.default.Color&&r instanceof c.default.Vector&&(C=n,O=r,R=new c.default.Vector(o,i,a));break;case 4:C=n,O=r,R=o,S=i;break;case 3:C=n,O=r,R=o;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(P<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(C._array[0],C._array[1],C._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(O.x,O.y,O.z),R.normalize(),this._renderer.spotLightDirections.push(R.x,R.y,R.z),S===void 0&&(S=Math.PI/3),M!==void 0&&M<1?(M=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):M===void 0&&(M=100),S=this._renderer._pInst._toRadians(S),this._renderer.spotLightAngle.push(Math.cos(S)),this._renderer.spotLightConc.push(M),this._renderer._enableLighting=!0,this},c.default.prototype.noLights=function(){return this._assert3d("noLights"),c.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264}],310:[function(e,y,p){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function c(d,l,n){for(var r=0,o=d.length;r<o;r++)if(d[r]!==l.getUint8(n+r,!1))return!1;return!0}e("./p5.Geometry"),t.default.prototype.loadModel=function(d){var l,n,r;t.default._validateParameters("loadModel",arguments);var o=d.slice(-4);typeof arguments[1]=="boolean"?(l=arguments[1],n=arguments[2],r=arguments[3],arguments[4]!==void 0&&(o=arguments[4])):(l=!1,n=arguments[1],r=arguments[2],arguments[3]!==void 0&&(o=arguments[3]));var i=new t.default.Geometry;i.gid="".concat(d,"|").concat(l);var a=this;return o.match(/\.stl$/i)?this.httpDo(d,"GET","arrayBuffer",function(m){(function(v,b){if(function(M){for(var C=new DataView(M),O=[115,111,108,105,100],R=0;R<5;R++)if(c(O,C,R))return!1;return!0}(b))(function(M,C){for(var O,R,P,L,U,A,B,F=new DataView(C),K=F.getUint32(80,!0),re=!1,Q=0;Q<70;Q++)F.getUint32(Q,!1)===1129270351&&F.getUint8(Q+4)===82&&F.getUint8(Q+5)===61&&(re=!0,L=[],U=F.getUint8(Q+6)/255,A=F.getUint8(Q+7)/255,B=F.getUint8(Q+8)/255);for(var ne=0;ne<K;ne++){var ee=84+50*ne,ue=F.getFloat32(ee,!0),pe=F.getFloat32(4+ee,!0),_e=F.getFloat32(8+ee,!0);if(re){var ce=F.getUint16(48+ee,!0);P=(32768&ce)==0?(O=(31&ce)/31,R=(ce>>5&31)/31,(ce>>10&31)/31):(O=U,R=A,B)}for(var De=new t.default.Vector(ue,pe,_e),ve=1;ve<=3;ve++){var ge=ee+12*ve,I=new t.default.Vector(F.getFloat32(ge,!0),F.getFloat32(4+ge,!0),F.getFloat32(8+ge,!0));M.vertices.push(I),M.vertexNormals.push(De),re&&L.push(O,R,P)}M.faces.push([3*ne,3*ne+1,3*ne+2]),M.uvs.push([0,0],[0,0],[0,0])}})(v,b);else{var x=new DataView(b);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var S=new TextDecoder("utf-8").decode(x).split(`
`);(function(M,C){for(var O,R,P="",L=[],U=0;U<C.length;++U){for(var A=C[U].trim(),B=A.split(" "),F=0;F<B.length;++F)B[F]===""&&B.splice(F,1);if(B.length!==0)switch(P){case"":if(B[0]!=="solid")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "solid"'));P="solid";break;case"solid":if(B[0]!=="facet"||B[1]!=="normal")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "facet normal"'));O=new t.default.Vector(parseFloat(B[2]),parseFloat(B[3]),parseFloat(B[4])),M.vertexNormals.push(O,O,O),P="facet normal";break;case"facet normal":if(B[0]!=="outer"||B[1]!=="loop")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "outer loop"'));P="vertex";break;case"vertex":if(B[0]==="vertex")R=new t.default.Vector(parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])),M.vertices.push(R),M.uvs.push([0,0]),L.push(M.vertices.indexOf(R));else{if(B[0]!=="endloop")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "vertex" or "endloop"'));M.faces.push(L),L=[],P="endloop"}break;case"endloop":if(B[0]!=="endfacet")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "endfacet"'));P="endfacet";break;case"endfacet":if(B[0]!=="endsolid"){if(B[0]!=="facet"||B[1]!=="normal")return console.error(A),console.error('Invalid state "'.concat(B[0],'", should be "endsolid" or "facet normal"'));O=new t.default.Vector(parseFloat(B[2]),parseFloat(B[3]),parseFloat(B[4])),M.vertexNormals.push(O,O,O),P="facet normal"}break;default:console.error('Invalid state "'.concat(P,'"'))}}})(v,S)}})(i,m),l&&i.normalize(),a._decrementPreload(),typeof n=="function"&&n(i)},r):o.match(/\.obj$/i)?this.loadStrings(d,function(m){(function(v,b){for(var x={v:[],vt:[],vn:[]},S={},M=0;M<b.length;++M){var C=b[M].trim().split(/\b\s+/);if(0<C.length){if(C[0]==="v"||C[0]==="vn"){var O=new t.default.Vector(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));x[C[0]].push(O)}else if(C[0]==="vt"){var R=[parseFloat(C[1]),1-parseFloat(C[2])];x[C[0]].push(R)}else if(C[0]==="f")for(var P=3;P<C.length;++P){for(var L=[],U=[1,P-1,P],A=0;A<U.length;++A){var B=C[U[A]],F=0;if(S[B]!==void 0)F=S[B];else{for(var K=B.split("/"),re=0;re<K.length;re++)K[re]=parseInt(K[re])-1;F=S[B]=v.vertices.length,v.vertices.push(x.v[K[0]].copy()),x.vt[K[1]]?v.uvs.push(x.vt[K[1]].slice()):v.uvs.push([0,0]),x.vn[K[2]]&&v.vertexNormals.push(x.vn[K[2]].copy())}L.push(F)}L[0]!==L[1]&&L[0]!==L[2]&&L[1]!==L[2]&&v.faces.push(L)}}}v.vertexNormals.length===0&&v.computeNormals()})(i,m),l&&i.normalize(),a._decrementPreload(),typeof n=="function"&&n(i)},r):(t.default._friendlyFileLoadError(3,d),r?r():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),i},t.default.prototype.model=function(d){this._assert3d("model"),t.default._validateParameters("model",arguments),0<d.vertices.length&&(this._renderer.geometryInHash(d.gid)||(d._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(d.gid,d)),this._renderer.drawBuffers(d.gid))};var u=t.default;p.default=u},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.join"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Texture"),c.default.prototype.loadShader=function(n,r,o,i){c.default._validateParameters("loadShader",arguments),i=i||console.error;function a(){v._decrementPreload(),o&&o(m)}var m=new c.default.Shader,v=this,b=!1,x=!1;return this.loadStrings(n,function(S){m._vertSrc=S.join(`
`),x=!0,b&&a()},i),this.loadStrings(r,function(S){m._fragSrc=S.join(`
`),b=!0,x&&a()},i),m},c.default.prototype.createShader=function(n,r){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,n,r)},c.default.prototype.shader=function(n){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),n._renderer===void 0&&(n._renderer=this._renderer),n.init(),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(n){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(n){n!==u.IMAGE&&n!==u.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},c.default.prototype.textureWrap=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n;this._renderer.textureWrapX=n,this._renderer.textureWrapY=r;for(var o=this._renderer.textures,i=0;i<o.length;i++)o[i].setWrapMode(n,r)},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c.default._validateParameters("normalMaterial",r),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(n,r,o){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var i=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(n,r,o,i){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var a=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=a._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.specularMaterial=function(n,r,o,i){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var a=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=a._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.shininess=function(n){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),n<1&&(n=1),this._renderer._useShininess=n,this},c.default.RendererGL.prototype._applyColorBlend=function(n){var r=this.GL,o=this.drawMode===u.TEXTURE||n[n.length-1]<1||this._isErasing;return o!==this._isBlending&&(o||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=o),this._applyBlendMode(),n},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case u.BLEND:case u.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);break;case u.REMOVE:n.blendEquation(n.FUNC_REVERSE_SUBTRACT),n.blendFunc(n.SRC_ALPHA,n.DST_ALPHA);break;case u.MULTIPLY:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ONE,n.ONE);break;case u.SCREEN:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE,n.ONE,n.ONE);break;case u.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case u.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case u.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case u.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var l=c.default;p.default=l},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,y,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.camera=function(){var u;this._assert3d("camera");for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("camera",l),(u=this._renderer._curCamera).camera.apply(u,l),this},t.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("perspective",l),(u=this._renderer._curCamera).perspective.apply(u,l),this},t.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("ortho",l),(u=this._renderer._curCamera).ortho.apply(u,l),this},t.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var d=arguments.length,l=new Array(d),n=0;n<d;n++)l[n]=arguments[n];return t.default._validateParameters("frustum",l),(u=this._renderer._curCamera).frustum.apply(u,l),this},t.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new t.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},t.default.Camera=function(u){this._renderer=u,this.cameraType="default",this.cameraMatrix=new t.default.Matrix,this.projMatrix=new t.default.Matrix},t.default.Camera.prototype.perspective=function(u,d,l,n){this.cameraType=0<arguments.length?"custom":"default",u===void 0?(u=this.defaultCameraFOV,this.cameraFOV=u):this.cameraFOV=this._renderer._pInst._toRadians(u),d===void 0&&(d=this.defaultAspectRatio),l===void 0&&(l=this.defaultCameraNear),n===void 0&&(n=this.defaultCameraFar),l<=1e-4&&(l=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),n<l&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=d,this.cameraNear=l,this.cameraFar=n,this.projMatrix=t.default.Matrix.identity();var r=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(r/d,0,0,0,0,-r,0,0,0,0,(n+l)*o,-1,0,0,2*n*l*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},t.default.Camera.prototype.ortho=function(u,d,l,n,r,o){u===void 0&&(u=-this._renderer.width/2),d===void 0&&(d=this._renderer.width/2),l===void 0&&(l=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),r===void 0&&(r=0),o===void 0&&(o=Math.max(this._renderer.width,this._renderer.height));var i=d-u,a=n-l,m=o-r,v=2/i,b=2/a,x=-2/m,S=-(d+u)/i,M=-(n+l)/a,C=-(o+r)/m;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(v,0,0,0,0,-b,0,0,0,0,x,0,S,M,C,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype.frustum=function(u,d,l,n,r,o){u===void 0&&(u=-this._renderer.width/2),d===void 0&&(d=this._renderer.width/2),l===void 0&&(l=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),r===void 0&&(r=0),o===void 0&&(o=Math.max(this._renderer.width,this._renderer.height));var i=d-u,a=n-l,m=o-r,v=2*r/i,b=2*r/a,x=-2*o*r/m,S=(d+u)/i,M=(n+l)/a,C=-(o+r)/m;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(v,0,0,0,0,b,0,0,S,M,C,-1,0,0,x,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype._rotateView=function(u,d,l,n){var r=this.centerX,o=this.centerY,i=this.centerZ;r-=this.eyeX,o-=this.eyeY,i-=this.eyeZ;var a=t.default.Matrix.identity(this._renderer._pInst);a.rotate(this._renderer._pInst._toRadians(u),d,l,n);var m=[r*a.mat4[0]+o*a.mat4[4]+i*a.mat4[8],r*a.mat4[1]+o*a.mat4[5]+i*a.mat4[9],r*a.mat4[2]+o*a.mat4[6]+i*a.mat4[10]];m[0]+=this.eyeX,m[1]+=this.eyeY,m[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,m[0],m[1],m[2],this.upX,this.upY,this.upZ)},t.default.Camera.prototype.pan=function(u){var d=this._getLocalAxes();this._rotateView(u,d.y[0],d.y[1],d.y[2])},t.default.Camera.prototype.tilt=function(u){var d=this._getLocalAxes();this._rotateView(u,d.x[0],d.x[1],d.x[2])},t.default.Camera.prototype.lookAt=function(u,d,l){this.camera(this.eyeX,this.eyeY,this.eyeZ,u,d,l,this.upX,this.upY,this.upZ)},t.default.Camera.prototype.camera=function(u,d,l,n,r,o,i,a,m){u===void 0&&(u=this.defaultEyeX,d=this.defaultEyeY,l=this.defaultEyeZ,n=u,r=d,a=1,m=i=o=0),this.eyeX=u,this.eyeY=d,this.eyeZ=l,n!==void 0&&(this.centerX=n,this.centerY=r,this.centerZ=o),i!==void 0&&(this.upX=i,this.upY=a,this.upZ=m);var v=this._getLocalAxes();this.cameraMatrix.set(v.x[0],v.y[0],v.z[0],0,v.x[1],v.y[1],v.z[1],0,v.x[2],v.y[2],v.z[2],0,0,0,0,1);var b=-u,x=-d,S=-l;return this.cameraMatrix.translate([b,x,S]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},t.default.Camera.prototype.move=function(u,d,l){var n=this._getLocalAxes(),r=[n.x[0]*u,n.x[1]*u,n.x[2]*u],o=[n.y[0]*d,n.y[1]*d,n.y[2]*d],i=[n.z[0]*l,n.z[1]*l,n.z[2]*l];this.camera(this.eyeX+r[0]+o[0]+i[0],this.eyeY+r[1]+o[1]+i[1],this.eyeZ+r[2]+o[2]+i[2],this.centerX+r[0]+o[0]+i[0],this.centerY+r[1]+o[1]+i[1],this.centerZ+r[2]+o[2]+i[2],0,1,0)},t.default.Camera.prototype.setPosition=function(u,d,l){var n=u-this.eyeX,r=d-this.eyeY,o=l-this.eyeZ;this.camera(u,d,l,this.centerX+n,this.centerY+r,this.centerZ+o,0,1,0)},t.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},t.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},t.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},t.default.Camera.prototype.copy=function(){var u=new t.default.Camera(this._renderer);return u.cameraFOV=this.cameraFOV,u.aspectRatio=this.aspectRatio,u.eyeX=this.eyeX,u.eyeY=this.eyeY,u.eyeZ=this.eyeZ,u.centerX=this.centerX,u.centerY=this.centerY,u.centerZ=this.centerZ,u.cameraNear=this.cameraNear,u.cameraFar=this.cameraFar,u.cameraType=this.cameraType,u.cameraMatrix=this.cameraMatrix.copy(),u.projMatrix=this.projMatrix.copy(),u},t.default.Camera.prototype._getLocalAxes=function(){var u=this.eyeX-this.centerX,d=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,n=Math.sqrt(u*u+d*d+l*l);n!==0&&(u/=n,d/=n,l/=n);var r=this.upX,o=this.upY,i=this.upZ,a=o*l-i*d,m=-r*l+i*u,v=r*d-o*u;r=d*v-l*m,o=-u*v+l*a,i=u*m-d*a;var b=Math.sqrt(a*a+m*m+v*v);b!==0&&(a/=b,m/=b,v/=b);var x=Math.sqrt(r*r+o*o+i*i);return x!==0&&(r/=x,o/=x,i/=x),{x:[a,m,v],y:[r,o,i],z:[u,d,l]}},t.default.Camera.prototype._orbit=function(u,d,l){var n=this.eyeX-this.centerX,r=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,i=Math.sqrt(n*n+r*r+o*o),a=Math.atan2(n,o),m=Math.acos(Math.max(-1,Math.min(1,r/i)));a+=u,(i+=l)<0&&(i=.1),(m+=d)>Math.PI?m=Math.PI:m<=0&&(m=.001);var v=Math.sin(m)*i*Math.sin(a),b=Math.cos(m)*i,x=Math.sin(m)*i*Math.cos(a);this.camera(v+this.centerX,b+this.centerY,x+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},t.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},t.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix.mat4[0],u.projMatrix.mat4[1],u.projMatrix.mat4[2],u.projMatrix.mat4[3],u.projMatrix.mat4[4],u.projMatrix.mat4[5],u.projMatrix.mat4[6],u.projMatrix.mat4[7],u.projMatrix.mat4[8],u.projMatrix.mat4[9],u.projMatrix.mat4[10],u.projMatrix.mat4[11],u.projMatrix.mat4[12],u.projMatrix.mat4[13],u.projMatrix.mat4[14],u.projMatrix.mat4[15])};var c=t.default.Camera;p.default=c},{"../core/main":264}],313:[function(e,y,p){e("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Geometry=function(u,d,l){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=u!==void 0?u:1,this.detailY=d!==void 0?d:1,this.dirtyFlags={},l instanceof Function&&l.call(this),this},t.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},t.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var u,d,l,n,r=this.detailX+1,o=0;o<this.detailY;o++)for(var i=0;i<this.detailX;i++)d=(u=o*r+i)+1,l=(o+1)*r+i+1,n=(o+1)*r+i,this.faces.push([u,d,n]),this.faces.push([n,d,l]);return this},t.default.Geometry.prototype._getFaceNormal=function(u){var d=this.faces[u],l=this.vertices[d[0]],n=this.vertices[d[1]],r=this.vertices[d[2]],o=t.default.Vector.sub(n,l),i=t.default.Vector.sub(r,l),a=t.default.Vector.cross(o,i),m=t.default.Vector.mag(a),v=m/(t.default.Vector.mag(o)*t.default.Vector.mag(i));return v===0||isNaN(v)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),a):(1<v&&(v=1),a.mult(Math.asin(v)/m))},t.default.Geometry.prototype.computeNormals=function(){var u,d=this.vertexNormals,l=this.vertices,n=this.faces;for(u=d.length=0;u<l.length;++u)d.push(new t.default.Vector);for(var r=0;r<n.length;++r)for(var o=n[r],i=this._getFaceNormal(r),a=0;a<3;++a)d[o[a]].add(i);for(u=0;u<l.length;++u)d[u].normalize();return this},t.default.Geometry.prototype.averageNormals=function(){for(var u=0;u<=this.detailY;u++){var d=this.detailX+1,l=t.default.Vector.add(this.vertexNormals[u*d],this.vertexNormals[u*d+this.detailX]);l=t.default.Vector.div(l,2),this.vertexNormals[u*d]=l,this.vertexNormals[u*d+this.detailX]=l}return this},t.default.Geometry.prototype.averagePoleNormals=function(){for(var u=new t.default.Vector(0,0,0),d=0;d<this.detailX;d++)u.add(this.vertexNormals[d]);u=t.default.Vector.div(u,this.detailX);for(var l=0;l<this.detailX;l++)this.vertexNormals[l]=u;u=new t.default.Vector(0,0,0);for(var n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)u.add(this.vertexNormals[n]);u=t.default.Vector.div(u,this.detailX);for(var r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=u;return this},t.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var u=0,d=this.strokeIndices.length;u<d;u++)this.edges.push(this.strokeIndices[u]);else for(var l=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this},t.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var u=this.lineNormals.length=0;u<this.edges.length;u++){var d=this.vertices[this.edges[u][0]],l=this.vertices[this.edges[u][1]],n=l.copy().sub(d).normalize(),r=d.array(),o=d.array(),i=l.array(),a=l.array(),m=n.array(),v=n.array();m.push(1),v.push(-1),this.lineNormals.push(m,v,m,m,v,v),this.lineVertices.push(r,o,i,i,o,a)}return this},t.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var u=this.vertices[0].copy(),d=this.vertices[0].copy(),l=0;l<this.vertices.length;l++)u.x=Math.max(u.x,this.vertices[l].x),d.x=Math.min(d.x,this.vertices[l].x),u.y=Math.max(u.y,this.vertices[l].y),d.y=Math.min(d.y,this.vertices[l].y),u.z=Math.max(u.z,this.vertices[l].z),d.z=Math.min(d.z,this.vertices[l].z);for(var n=t.default.Vector.lerp(u,d,.5),r=t.default.Vector.sub(u,d),o=200/Math.max(Math.max(r.x,r.y),r.z),i=0;i<this.vertices.length;i++)this.vertices[i].sub(n),this.vertices[i].mult(o)}return this};var c=t.default.Geometry;p.default=c},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,y,p){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},c=Array,u=function(l){return l instanceof Array};typeof Float32Array!="undefined"&&(c=Float32Array,u=function(l){return l instanceof Array||l instanceof Float32Array}),t.default.Matrix=function(){for(var l=new Array(arguments.length),n=0;n<l.length;++n)l[n]=arguments[n];return l.length&&l[l.length-1]instanceof t.default&&(this.p5=l[l.length-1]),l[0]==="mat3"?this.mat3=Array.isArray(l[1])?l[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(l[0])?l[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.default.Matrix.prototype.set=function(l){return l instanceof t.default.Matrix?this.mat4=l.mat4:u(l)?this.mat4=l:arguments.length===16&&(this.mat4[0]=l,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},t.default.Matrix.prototype.get=function(){return new t.default.Matrix(this.mat4,this.p5)},t.default.Matrix.prototype.copy=function(){var l=new t.default.Matrix(this.p5);return l.mat4[0]=this.mat4[0],l.mat4[1]=this.mat4[1],l.mat4[2]=this.mat4[2],l.mat4[3]=this.mat4[3],l.mat4[4]=this.mat4[4],l.mat4[5]=this.mat4[5],l.mat4[6]=this.mat4[6],l.mat4[7]=this.mat4[7],l.mat4[8]=this.mat4[8],l.mat4[9]=this.mat4[9],l.mat4[10]=this.mat4[10],l.mat4[11]=this.mat4[11],l.mat4[12]=this.mat4[12],l.mat4[13]=this.mat4[13],l.mat4[14]=this.mat4[14],l.mat4[15]=this.mat4[15],l},t.default.Matrix.identity=function(l){return new t.default.Matrix(l)},t.default.Matrix.prototype.transpose=function(l){var n,r,o,i,a,m;return l instanceof t.default.Matrix?(n=l.mat4[1],r=l.mat4[2],o=l.mat4[3],i=l.mat4[6],a=l.mat4[7],m=l.mat4[11],this.mat4[0]=l.mat4[0],this.mat4[1]=l.mat4[4],this.mat4[2]=l.mat4[8],this.mat4[3]=l.mat4[12],this.mat4[4]=n,this.mat4[5]=l.mat4[5],this.mat4[6]=l.mat4[9],this.mat4[7]=l.mat4[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=l.mat4[10],this.mat4[11]=l.mat4[14],this.mat4[12]=o,this.mat4[13]=a,this.mat4[14]=m,this.mat4[15]=l.mat4[15]):u(l)&&(n=l[1],r=l[2],o=l[3],i=l[6],a=l[7],m=l[11],this.mat4[0]=l[0],this.mat4[1]=l[4],this.mat4[2]=l[8],this.mat4[3]=l[12],this.mat4[4]=n,this.mat4[5]=l[5],this.mat4[6]=l[9],this.mat4[7]=l[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=l[10],this.mat4[11]=l[14],this.mat4[12]=o,this.mat4[13]=a,this.mat4[14]=m,this.mat4[15]=l[15]),this},t.default.Matrix.prototype.invert=function(l){var n,r,o,i,a,m,v,b,x,S,M,C,O,R,P,L;l instanceof t.default.Matrix?(n=l.mat4[0],r=l.mat4[1],o=l.mat4[2],i=l.mat4[3],a=l.mat4[4],m=l.mat4[5],v=l.mat4[6],b=l.mat4[7],x=l.mat4[8],S=l.mat4[9],M=l.mat4[10],C=l.mat4[11],O=l.mat4[12],R=l.mat4[13],P=l.mat4[14],L=l.mat4[15]):u(l)&&(n=l[0],r=l[1],o=l[2],i=l[3],a=l[4],m=l[5],v=l[6],b=l[7],x=l[8],S=l[9],M=l[10],C=l[11],O=l[12],R=l[13],P=l[14],L=l[15]);var U=n*m-r*a,A=n*v-o*a,B=n*b-i*a,F=r*v-o*m,K=r*b-i*m,re=o*b-i*v,Q=x*R-S*O,ne=x*P-M*O,ee=x*L-C*O,ue=S*P-M*R,pe=S*L-C*R,_e=M*L-C*P,ce=U*_e-A*pe+B*ue+F*ee-K*ne+re*Q;return ce?(ce=1/ce,this.mat4[0]=(m*_e-v*pe+b*ue)*ce,this.mat4[1]=(o*pe-r*_e-i*ue)*ce,this.mat4[2]=(R*re-P*K+L*F)*ce,this.mat4[3]=(M*K-S*re-C*F)*ce,this.mat4[4]=(v*ee-a*_e-b*ne)*ce,this.mat4[5]=(n*_e-o*ee+i*ne)*ce,this.mat4[6]=(P*B-O*re-L*A)*ce,this.mat4[7]=(x*re-M*B+C*A)*ce,this.mat4[8]=(a*pe-m*ee+b*Q)*ce,this.mat4[9]=(r*ee-n*pe-i*Q)*ce,this.mat4[10]=(O*K-R*B+L*U)*ce,this.mat4[11]=(S*B-x*K-C*U)*ce,this.mat4[12]=(m*ne-a*ue-v*Q)*ce,this.mat4[13]=(n*ue-r*ne+o*Q)*ce,this.mat4[14]=(R*A-O*F-P*U)*ce,this.mat4[15]=(x*F-S*A+M*U)*ce,this):null},t.default.Matrix.prototype.invert3x3=function(){var l=this.mat3[0],n=this.mat3[1],r=this.mat3[2],o=this.mat3[3],i=this.mat3[4],a=this.mat3[5],m=this.mat3[6],v=this.mat3[7],b=this.mat3[8],x=b*i-a*v,S=-b*o+a*m,M=v*o-i*m,C=l*x+n*S+r*M;return C?(C=1/C,this.mat3[0]=x*C,this.mat3[1]=(-b*n+r*v)*C,this.mat3[2]=(a*n-r*i)*C,this.mat3[3]=S*C,this.mat3[4]=(b*l-r*m)*C,this.mat3[5]=(-a*l+r*o)*C,this.mat3[6]=M*C,this.mat3[7]=(-v*l+n*m)*C,this.mat3[8]=(i*l-n*o)*C,this):null},t.default.Matrix.prototype.transpose3x3=function(l){var n=l[1],r=l[2],o=l[5];return this.mat3[1]=l[3],this.mat3[2]=l[6],this.mat3[3]=n,this.mat3[5]=l[7],this.mat3[6]=r,this.mat3[7]=o,this},t.default.Matrix.prototype.inverseTranspose=function(l){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=l.mat4[0],this.mat3[1]=l.mat4[1],this.mat3[2]=l.mat4[2],this.mat3[3]=l.mat4[4],this.mat3[4]=l.mat4[5],this.mat3[5]=l.mat4[6],this.mat3[6]=l.mat4[8],this.mat3[7]=l.mat4[9],this.mat3[8]=l.mat4[10]);var n=this.invert3x3();if(n)n.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},t.default.Matrix.prototype.determinant=function(){var l=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],n=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],o=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],a=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],m=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],v=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],b=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],x=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],S=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return l*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-n*S+r*x+o*b-i*v+a*m},t.default.Matrix.prototype.mult=function(l){var n;if(l===this||l===this.mat4)n=this.copy().mat4;else if(l instanceof t.default.Matrix)n=l.mat4;else if(u(l))n=l;else{if(arguments.length!==16)return;n=arguments}var r=this.mat4[0],o=this.mat4[1],i=this.mat4[2],a=this.mat4[3];return this.mat4[0]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[1]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[2]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[3]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[4],o=this.mat4[5],i=this.mat4[6],a=this.mat4[7],this.mat4[4]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[5]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[6]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[7]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[8],o=this.mat4[9],i=this.mat4[10],a=this.mat4[11],this.mat4[8]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[9]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[10]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[11]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[12],o=this.mat4[13],i=this.mat4[14],a=this.mat4[15],this.mat4[12]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[13]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[14]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[15]=r*n[3]+o*n[7]+i*n[11]+a*n[15],this},t.default.Matrix.prototype.apply=function(l){var n;if(l===this||l===this.mat4)n=this.copy().mat4;else if(l instanceof t.default.Matrix)n=l.mat4;else if(u(l))n=l;else{if(arguments.length!==16)return;n=arguments}var r=this.mat4,o=r[0],i=r[4],a=r[8],m=r[12];r[0]=n[0]*o+n[1]*i+n[2]*a+n[3]*m,r[4]=n[4]*o+n[5]*i+n[6]*a+n[7]*m,r[8]=n[8]*o+n[9]*i+n[10]*a+n[11]*m,r[12]=n[12]*o+n[13]*i+n[14]*a+n[15]*m;var v=r[1],b=r[5],x=r[9],S=r[13];r[1]=n[0]*v+n[1]*b+n[2]*x+n[3]*S,r[5]=n[4]*v+n[5]*b+n[6]*x+n[7]*S,r[9]=n[8]*v+n[9]*b+n[10]*x+n[11]*S,r[13]=n[12]*v+n[13]*b+n[14]*x+n[15]*S;var M=r[2],C=r[6],O=r[10],R=r[14];r[2]=n[0]*M+n[1]*C+n[2]*O+n[3]*R,r[6]=n[4]*M+n[5]*C+n[6]*O+n[7]*R,r[10]=n[8]*M+n[9]*C+n[10]*O+n[11]*R,r[14]=n[12]*M+n[13]*C+n[14]*O+n[15]*R;var P=r[3],L=r[7],U=r[11],A=r[15];return r[3]=n[0]*P+n[1]*L+n[2]*U+n[3]*A,r[7]=n[4]*P+n[5]*L+n[6]*U+n[7]*A,r[11]=n[8]*P+n[9]*L+n[10]*U+n[11]*A,r[15]=n[12]*P+n[13]*L+n[14]*U+n[15]*A,this},t.default.Matrix.prototype.scale=function(l,n,r){return l instanceof t.default.Vector?(n=l.y,r=l.z,l=l.x):l instanceof Array&&(n=l[1],r=l[2],l=l[0]),this.mat4[0]*=l,this.mat4[1]*=l,this.mat4[2]*=l,this.mat4[3]*=l,this.mat4[4]*=n,this.mat4[5]*=n,this.mat4[6]*=n,this.mat4[7]*=n,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},t.default.Matrix.prototype.rotate=function(l,n,r,o){n instanceof t.default.Vector?(r=n.y,o=n.z,n=n.x):n instanceof Array&&(r=n[1],o=n[2],n=n[0]);var i=Math.sqrt(n*n+r*r+o*o);n*=1/i,r*=1/i,o*=1/i;var a=this.mat4[0],m=this.mat4[1],v=this.mat4[2],b=this.mat4[3],x=this.mat4[4],S=this.mat4[5],M=this.mat4[6],C=this.mat4[7],O=this.mat4[8],R=this.mat4[9],P=this.mat4[10],L=this.mat4[11],U=Math.sin(l),A=Math.cos(l),B=1-A,F=n*n*B+A,K=r*n*B+o*U,re=o*n*B-r*U,Q=n*r*B-o*U,ne=r*r*B+A,ee=o*r*B+n*U,ue=n*o*B+r*U,pe=r*o*B-n*U,_e=o*o*B+A;return this.mat4[0]=a*F+x*K+O*re,this.mat4[1]=m*F+S*K+R*re,this.mat4[2]=v*F+M*K+P*re,this.mat4[3]=b*F+C*K+L*re,this.mat4[4]=a*Q+x*ne+O*ee,this.mat4[5]=m*Q+S*ne+R*ee,this.mat4[6]=v*Q+M*ne+P*ee,this.mat4[7]=b*Q+C*ne+L*ee,this.mat4[8]=a*ue+x*pe+O*_e,this.mat4[9]=m*ue+S*pe+R*_e,this.mat4[10]=v*ue+M*pe+P*_e,this.mat4[11]=b*ue+C*pe+L*_e,this},t.default.Matrix.prototype.translate=function(l){var n=l[0],r=l[1],o=l[2]||0;this.mat4[12]+=this.mat4[0]*n+this.mat4[4]*r+this.mat4[8]*o,this.mat4[13]+=this.mat4[1]*n+this.mat4[5]*r+this.mat4[9]*o,this.mat4[14]+=this.mat4[2]*n+this.mat4[6]*r+this.mat4[10]*o,this.mat4[15]+=this.mat4[3]*n+this.mat4[7]*r+this.mat4[11]*o},t.default.Matrix.prototype.rotateX=function(l){this.rotate(l,1,0,0)},t.default.Matrix.prototype.rotateY=function(l){this.rotate(l,0,1,0)},t.default.Matrix.prototype.rotateZ=function(l){this.rotate(l,0,0,1)},t.default.Matrix.prototype.perspective=function(l,n,r,o){var i=1/Math.tan(l/2),a=1/(r-o);return this.mat4[0]=i/n,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(o+r)*a,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*o*r*a,this.mat4[15]=0,this},t.default.Matrix.prototype.ortho=function(l,n,r,o,i,a){var m=1/(l-n),v=1/(r-o),b=1/(i-a);return this.mat4[0]=-2*m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*v,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*b,this.mat4[11]=0,this.mat4[12]=(l+n)*m,this.mat4[13]=(o+r)*v,this.mat4[14]=(a+i)*b,this.mat4[15]=1,this};var d=t.default.Matrix;p.default=d},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,y,p){e("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.RenderBuffer=function(u,d,l,n,r,o){this.size=u,this.src=d,this.dst=l,this.attr=n,this._renderer=r,this.map=o},t.default.RenderBuffer.prototype._prepareBuffer=function(u,d){var l,n=d.attributes,r=this._renderer.GL;l=u.model?u.model:u;var o=n[this.attr];if(o){var i=u[this.dst],a=l[this.src];if(0<a.length){var m=!i;if(m&&(u[this.dst]=i=r.createBuffer()),r.bindBuffer(r.ARRAY_BUFFER,i),m||l.dirtyFlags[this.src]!==!1){var v=this.map,b=v?v(a):a;this._renderer._bindBuffer(i,r.ARRAY_BUFFER,b),l.dirtyFlags[this.src]=!1}d.enableAttrib(o,this.size)}}};var c=t.default.RenderBuffer;p.default=c},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(n){return this.immediateMode.shapeMode=n!==void 0?n:u.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},c.default.RendererGL.prototype.vertex=function(n,r){var o,i,a;o=i=a=0,arguments.length===3?o=arguments[2]:arguments.length===4?(i=arguments[2],a=arguments[3]):arguments.length===5&&(o=arguments[2],i=arguments[3],a=arguments[4]);var m=new c.default.Vector(n,r,o);this.immediateMode.geometry.vertices.push(m),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var v=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(v[0],v[1],v[2],v[3]),this.textureMode===u.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(i/=this._tex.width,a/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(i,a),this.immediateMode._bezierVertex[0]=n,this.immediateMode._bezierVertex[1]=r,this.immediateMode._bezierVertex[2]=o,this.immediateMode._quadraticVertex[0]=n,this.immediateMode._quadraticVertex[1]=r,this.immediateMode._quadraticVertex[2]=o,this},c.default.RendererGL.prototype.normal=function(n,r,o){return n instanceof c.default.Vector?this._currentNormal=n:this._currentNormal=new c.default.Vector(n,r,o),this},c.default.RendererGL.prototype.endShape=function(n,r,o,i,a,m){return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(n){if(this.immediateMode.geometry.vertices.length!==0){var r=this._doStroke&&this.drawMode!==u.TEXTURE,o=n===u.CLOSE;r&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.immediateMode.geometry._edgesToVertices());var i=this.immediateMode.shapeMode===u.TESS;(this.isBezier||this.isQuadratic||this.isCurve||i)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape()}},c.default.RendererGL.prototype._calculateEdges=function(n,r,o){var i=[],a=0;switch(n){case u.TRIANGLE_STRIP:for(a=0;a<r.length-2;a++)i.push([a,a+1]),i.push([a,a+2]);i.push([a,a+1]);break;case u.TRIANGLES:for(a=0;a<r.length-2;a+=3)i.push([a,a+1]),i.push([a+1,a+2]),i.push([a+2,a]);break;case u.LINES:for(a=0;a<r.length-1;a+=2)i.push([a,a+1]);break;default:for(a=0;a<r.length-1;a++)i.push([a,a+1])}return o&&i.push([r.length-1,0]),i},c.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=u.TRIANGLES;var n=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],r=this._triangulate(n);this.immediateMode.geometry.vertices=[];for(var o=0,i=r.length;o<i;o+=3)this.vertex(r[o],r[o+1],r[o+2])},c.default.RendererGL.prototype._drawImmediateFill=function(){var n=this.GL,r=this._getImmediateFillShader();this._setFillUniforms(r);var o=!0,i=!1,a=void 0;try{for(var m,v=this.immediateMode.buffers.fill[Symbol.iterator]();!(o=(m=v.next()).done);o=!0)m.value._prepareBuffer(this.immediateMode.geometry,r)}catch(b){i=!0,a=b}finally{try{o||v.return==null||v.return()}finally{if(i)throw a}}this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),n.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),r.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var n=this.GL,r=this._getImmediateStrokeShader();this._setStrokeUniforms(r);var o=!0,i=!1,a=void 0;try{for(var m,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(o=(m=v.next()).done);o=!0)m.value._prepareBuffer(this.immediateMode.geometry,r)}catch(b){i=!0,a=b}finally{try{o||v.return==null||v.return()}finally{if(i)throw a}}this._applyColorBlend(this.curStrokeColor),n.drawArrays(n.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),r.unbindShader()};var l=c.default.RendererGL;p.default=l},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./p5.RendererGL"),e("./p5.RenderBuffer");var c=0;t.default.RendererGL.prototype._initBufferDefaults=function(d){if(this._freeBuffers(d),1e3<++c){var l=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[l],c--}return this.retainedMode.geometry[d]={}},t.default.RendererGL.prototype._freeBuffers=function(d){var l=this.retainedMode.geometry[d];if(l){delete this.retainedMode.geometry[d],c--;var n=this.GL;l.indexBuffer&&n.deleteBuffer(l.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill)}function r(o){var i=!0,a=!1,m=void 0;try{for(var v,b=o[Symbol.iterator]();!(i=(v=b.next()).done);i=!0){var x=v.value;l[x.dst]&&(n.deleteBuffer(l[x.dst]),l[x.dst]=null)}}catch(S){a=!0,m=S}finally{try{i||b.return==null||b.return()}finally{if(a)throw m}}}},t.default.RendererGL.prototype.createBuffers=function(d,l){var n=this.GL,r=this._initBufferDefaults(d);r.model=l;var o=r.indexBuffer;if(l.faces.length){o=o||(r.indexBuffer=n.createBuffer());var i=t.default.RendererGL.prototype._flatten(l.faces),a=i.some(function(v){return 65535<v}),m=a?Uint32Array:Uint16Array;this._bindBuffer(o,n.ELEMENT_ARRAY_BUFFER,i,m),r.indexBufferType=a?n.UNSIGNED_INT:n.UNSIGNED_SHORT,r.vertexCount=3*l.faces.length}else o&&(n.deleteBuffer(o),r.indexBuffer=null),r.vertexCount=l.vertices?l.vertices.length:0;return r.lineVertexCount=l.lineVertices?l.lineVertices.length:0,r},t.default.RendererGL.prototype.drawBuffers=function(d){var l=this.GL,n=this.retainedMode.geometry[d];if(this._doStroke&&0<n.lineVertexCount){var r=this._getRetainedStrokeShader();this._setStrokeUniforms(r);var o=!0,i=!1,a=void 0;try{for(var m,v=this.retainedMode.buffers.stroke[Symbol.iterator]();!(o=(m=v.next()).done);o=!0)m.value._prepareBuffer(n,r)}catch(R){i=!0,a=R}finally{try{o||v.return==null||v.return()}finally{if(i)throw a}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(l.TRIANGLES,d),r.unbindShader()}if(this._doFill){var b=this._getRetainedFillShader();this._setFillUniforms(b);var x=!0,S=!1,M=void 0;try{for(var C,O=this.retainedMode.buffers.fill[Symbol.iterator]();!(x=(C=O.next()).done);x=!0)C.value._prepareBuffer(n,b)}catch(R){S=!0,M=R}finally{try{x||O.return==null||O.return()}finally{if(S)throw M}}n.indexBuffer&&this._bindBuffer(n.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(l.TRIANGLES,d),b.unbindShader()}return this},t.default.RendererGL.prototype.drawBuffersScaled=function(d,l,n,r){var o=this.uMVMatrix.copy();try{this.uMVMatrix.scale(l,n,r),this.drawBuffers(d)}finally{this.uMVMatrix=o}},t.default.RendererGL.prototype._drawArrays=function(d,l){return this.GL.drawArrays(d,0,this.retainedMode.geometry[l].lineVertexCount),this},t.default.RendererGL.prototype._drawElements=function(d,l){var n=this.retainedMode.geometry[l],r=this.GL;if(n.indexBuffer){if(n.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,n.vertexCount,n.indexBufferType,0)}else r.drawArrays(d||r.TRIANGLES,0,n.vertexCount)},t.default.RendererGL.prototype._drawPoints=function(d,l){var n=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(l,n.ARRAY_BUFFER,this._vToNArray(d),Float32Array,n.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),n.drawArrays(n.Points,0,d.length),r.unbindShader()};var u=t.default.RendererGL;p.default=u},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,y,p){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t=l(e("../core/main")),c=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var m=d();if(m&&m.has(a))return m.get(a);var v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in a)if(Object.prototype.hasOwnProperty.call(a,x)){var S=b?Object.getOwnPropertyDescriptor(a,x):null;S&&(S.get||S.set)?Object.defineProperty(v,x,S):v[x]=a[x]}return v.default=a,m&&m.set(a,v),v}(e("../core/constants")),u=l(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function d(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return d=function(){return a},a}function l(a){return a&&a.__esModule?a:{default:a}}function n(a){return function(m){if(Array.isArray(m)){for(var v=0,b=new Array(m.length);v<m.length;v++)b[v]=m[v];return b}}(a)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,o={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:r+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:r+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};t.default.RendererGL=function(a,m,v,b){return t.default.Renderer.call(this,a,m,v),this._setAttributeDefaults(m),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=c.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=c.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new t.default.Matrix,this.uPMatrix=new t.default.Matrix,this.uNMatrix=new t.default.Matrix("mat3"),this._currentNormal=new t.default.Vector(0,0,1),this._curCamera=new t.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new t.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=c.IMAGE,this.textureWrapX=c.CLAMP,this.textureWrapY=c.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},t.default.RendererGL.prototype=Object.create(t.default.Renderer.prototype),t.default.RendererGL.prototype._setAttributeDefaults=function(a){var m={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};a._glAttributes===null?a._glAttributes=m:a._glAttributes=Object.assign(m,a._glAttributes)},t.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var a=this.drawingContext;a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(m){throw m}},t.default.RendererGL.prototype._resetContext=function(a,m){var v=this.width,b=this.height,x=this.canvas.id,S=this._pInst instanceof t.default.Graphics;if(S){var M=this._pInst;M.canvas.parentNode.removeChild(M.canvas),M.canvas=document.createElement("canvas"),(M._pInst._userNode||document.body).appendChild(M.canvas),t.default.Element.call(M,M.canvas,M._pInst),M.width=v,M.height=b}else{var C=this.canvas;C&&C.parentNode.removeChild(C),(C=document.createElement("canvas")).id=x,this._pInst._userNode?this._pInst._userNode.appendChild(C):document.body.appendChild(C),this._pInst.canvas=C}var O=new t.default.RendererGL(this._pInst.canvas,this._pInst,!S);this._pInst._setProperty("_renderer",O),O.resize(v,b),O._applyDefaults(),S||this._pInst._elements.push(O),typeof m=="function"&&setTimeout(function(){m.apply(window._renderer,a)},0)},t.default.prototype.setAttributes=function(a,m){if(this._glAttributes!==void 0){var v=!0;if(m!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[a]!==m&&(this._glAttributes[a]=m,v=!1)):a instanceof Object&&this._glAttributes!==a&&(this._glAttributes=a,v=!1),this._renderer.isP3D&&!v){if(!this._setupDone){for(var b in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(b))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},t.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.background=function(){var a,m=(a=this._pInst).color.apply(a,arguments),v=m.levels[0]/255,b=m.levels[1]/255,x=m.levels[2]/255,S=m.levels[3]/255;this.GL.clearColor(v,b,x,S),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},t.default.RendererGL.prototype.fill=function(a,m,v,b){var x=t.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=x._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null},t.default.RendererGL.prototype.stroke=function(a,m,v,b){arguments[3]=255;var x=t.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=x._array},t.default.RendererGL.prototype.strokeCap=function(a){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.strokeJoin=function(a){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.filter=function(a){console.error("filter() does not work in WEBGL mode")},t.default.RendererGL.prototype.blendMode=function(a){a===c.DARKEST||a===c.LIGHTEST||a===c.ADD||a===c.BLEND||a===c.SUBTRACT||a===c.SCREEN||a===c.EXCLUSION||a===c.REPLACE||a===c.MULTIPLY||a===c.REMOVE?this.curBlendMode=a:a!==c.BURN&&a!==c.OVERLAY&&a!==c.HARD_LIGHT&&a!==c.SOFT_LIGHT&&a!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},t.default.RendererGL.prototype.erase=function(a,m){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,a/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,m/255])},t.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},t.default.RendererGL.prototype.strokeWeight=function(a){this.curStrokeWeight!==a&&(this.pointSize=a,this.curStrokeWeight=a)},t.default.RendererGL.prototype._getPixel=function(a,m){var v;return v=new Uint8Array(4),this.drawingContext.readPixels(a,m,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,v),[v[0],v[1],v[2],v[3]]},t.default.RendererGL.prototype.loadPixels=function(){var a=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var m=a.pixels,v=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;m instanceof Uint8Array&&m.length===v||(m=new Uint8Array(v),this._pixelsState._setProperty("pixels",m));var b=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*b,this.height*b,this.GL.RGBA,this.GL.UNSIGNED_BYTE,m)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},t.default.RendererGL.prototype.geometryInHash=function(a){return this.retainedMode.geometry[a]!==void 0},t.default.RendererGL.prototype.resize=function(a,m){t.default.Renderer.prototype.resize.call(this,a,m),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var v=this._pixelsState;v.pixels!==void 0&&v._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},t.default.RendererGL.prototype.clear=function(){var a=(arguments.length<=0?void 0:arguments[0])||0,m=(arguments.length<=1?void 0:arguments[1])||0,v=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(a,m,v,b),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.applyMatrix=function(a,m,v,b,x,S){arguments.length===16?t.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([a,m,0,0,v,b,0,0,0,0,1,0,x,S,0,1])},t.default.RendererGL.prototype.translate=function(a,m,v){return a instanceof t.default.Vector&&(v=a.z,m=a.y,a=a.x),this.uMVMatrix.translate([a,m,v]),this},t.default.RendererGL.prototype.scale=function(a,m,v){return this.uMVMatrix.scale(a,m,v),this},t.default.RendererGL.prototype.rotate=function(a,m){return m===void 0?this.rotateZ(a):(t.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},t.default.RendererGL.prototype.rotateX=function(a){return this.rotate(a,1,0,0),this},t.default.RendererGL.prototype.rotateY=function(a){return this.rotate(a,0,1,0),this},t.default.RendererGL.prototype.rotateZ=function(a){return this.rotate(a,0,0,1),this},t.default.RendererGL.prototype.push=function(){var a=t.default.Renderer.prototype.push.apply(this),m=a.properties;return m.uMVMatrix=this.uMVMatrix.copy(),m.uPMatrix=this.uPMatrix.copy(),m._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),m.ambientLightColors=this.ambientLightColors.slice(),m.specularColors=this.specularColors.slice(),m.directionalLightDirections=this.directionalLightDirections.slice(),m.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),m.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),m.pointLightPositions=this.pointLightPositions.slice(),m.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),m.pointLightSpecularColors=this.pointLightSpecularColors.slice(),m.spotLightPositions=this.spotLightPositions.slice(),m.spotLightDirections=this.spotLightDirections.slice(),m.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),m.spotLightSpecularColors=this.spotLightSpecularColors.slice(),m.spotLightAngle=this.spotLightAngle.slice(),m.spotLightConc=this.spotLightConc.slice(),m.userFillShader=this.userFillShader,m.userStrokeShader=this.userStrokeShader,m.userPointShader=this.userPointShader,m.pointSize=this.pointSize,m.curStrokeWeight=this.curStrokeWeight,m.curStrokeColor=this.curStrokeColor,m.curFillColor=this.curFillColor,m._useSpecularMaterial=this._useSpecularMaterial,m._useEmissiveMaterial=this._useEmissiveMaterial,m._useShininess=this._useShininess,m.constantAttenuation=this.constantAttenuation,m.linearAttenuation=this.linearAttenuation,m.quadraticAttenuation=this.quadraticAttenuation,m._enableLighting=this._enableLighting,m._useNormalMaterial=this._useNormalMaterial,m._tex=this._tex,m.drawMode=this.drawMode,m._currentNormal=this._currentNormal,a},t.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=t.default.Matrix.identity(this._pInst),this},t.default.RendererGL.prototype._getImmediateStrokeShader=function(){var a=this.userStrokeShader;return a&&a.isStrokeShader()?a:this._getLineShader()},t.default.RendererGL.prototype._getRetainedStrokeShader=t.default.RendererGL.prototype._getImmediateStrokeShader,t.default.RendererGL.prototype._getImmediateFillShader=function(){var a=this.userFillShader;if(this._useNormalMaterial&&(!a||!a.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getImmediateModeShader();return a},t.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var a=this.userFillShader;if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getColorShader();return a},t.default.RendererGL.prototype._getImmediatePointShader=function(){var a=this.userPointShader;return a&&a.isPointShader()?a:this._getPointShader()},t.default.RendererGL.prototype._getRetainedLineShader=t.default.RendererGL.prototype._getImmediateLineShader,t.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new t.default.Shader(this,o.phongVert,o.phongFrag):this._defaultLightShader=new t.default.Shader(this,o.lightVert,o.lightTextureFrag)),this._defaultLightShader},t.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new t.default.Shader(this,o.immediateVert,o.vertexColorFrag)),this._defaultImmediateModeShader},t.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new t.default.Shader(this,o.normalVert,o.normalFrag)),this._defaultNormalShader},t.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new t.default.Shader(this,o.normalVert,o.basicFrag)),this._defaultColorShader},t.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new t.default.Shader(this,o.pointVert,o.pointFrag)),this._defaultPointShader},t.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new t.default.Shader(this,o.lineVert,o.lineFrag)),this._defaultLineShader},t.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new t.default.Shader(this,o.fontVert,o.fontFrag)),this._defaultFontShader},t.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var a=new t.default.Image(1,1);a.set(0,0,255),this._emptyTexture=new t.default.Texture(this,a)}return this._emptyTexture},t.default.RendererGL.prototype.getTexture=function(a){var m=this.textures,v=!0,b=!1,x=void 0;try{for(var S,M=m[Symbol.iterator]();!(v=(S=M.next()).done);v=!0){var C=S.value;if(C.src===a)return C}}catch(R){b=!0,x=R}finally{try{v||M.return==null||M.return()}finally{if(b)throw x}}var O=new t.default.Texture(this,a);return m.push(O),O},t.default.RendererGL.prototype._setStrokeUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curStrokeColor),a.setUniform("uStrokeWeight",this.curStrokeWeight)},t.default.RendererGL.prototype._setFillUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curFillColor),a.setUniform("isTexture",!!this._tex),this._tex&&a.setUniform("uSampler",this._tex),a.setUniform("uTint",this._tint),a.setUniform("uSpecular",this._useSpecularMaterial),a.setUniform("uEmissive",this._useEmissiveMaterial),a.setUniform("uShininess",this._useShininess),a.setUniform("uUseLighting",this._enableLighting);var m=this.pointLightDiffuseColors.length/3;a.setUniform("uPointLightCount",m),a.setUniform("uPointLightLocation",this.pointLightPositions),a.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),a.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var v=this.directionalLightDiffuseColors.length/3;a.setUniform("uDirectionalLightCount",v),a.setUniform("uLightingDirection",this.directionalLightDirections),a.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),a.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var b=this.ambientLightColors.length/3;a.setUniform("uAmbientLightCount",b),a.setUniform("uAmbientColor",this.ambientLightColors);var x=this.spotLightDiffuseColors.length/3;a.setUniform("uSpotLightCount",x),a.setUniform("uSpotLightAngle",this.spotLightAngle),a.setUniform("uSpotLightConc",this.spotLightConc),a.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),a.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),a.setUniform("uSpotLightLocation",this.spotLightPositions),a.setUniform("uSpotLightDirection",this.spotLightDirections),a.setUniform("uConstantAttenuation",this.constantAttenuation),a.setUniform("uLinearAttenuation",this.linearAttenuation),a.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),a.bindTextures()},t.default.RendererGL.prototype._setPointUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curStrokeColor),a.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},t.default.RendererGL.prototype._bindBuffer=function(a,m,v,b,x){if(m=m||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(m,a),v!==void 0){var S=new(b||Float32Array)(v);this.GL.bufferData(m,S,x||this.GL.STATIC_DRAW)}},t.default.RendererGL.prototype._arraysEqual=function(a,m){var v=a.length;if(v!==m.length)return!1;for(var b=0;b<v;b++)if(a[b]!==m[b])return!1;return!0},t.default.RendererGL.prototype._isTypedArray=function(a){return a instanceof Uint32Array},t.default.RendererGL.prototype._flatten=function(a){if(a.length===0)return[];if(2e4<a.length){var m,v=Object.prototype.toString,b=[],x=a.slice();for(m=x.pop();v.call(m)==="[object Array]"?x.push.apply(x,n(m)):b.push(m),x.length&&(m=x.pop())!==void 0;);return b.reverse(),b}var S;return(S=[]).concat.apply(S,n(a))},t.default.RendererGL.prototype._vToNArray=function(a){var m=[],v=!0,b=!1,x=void 0;try{for(var S,M=a[Symbol.iterator]();!(v=(S=M.next()).done);v=!0){var C=S.value;m.push(C.x,C.y,C.z)}}catch(O){b=!0,x=O}finally{try{v||M.return==null||M.return()}finally{if(b)throw x}}return m},t.default.prototype._assert3d=function(a){if(!this._renderer.isP3D)throw new Error("".concat(a,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},t.default.RendererGL.prototype._initTessy=function(){var a=new u.default.GluTesselator;return a.gluTessCallback(u.default.gluEnum.GLU_TESS_VERTEX_DATA,function(m,v){v[v.length]=m[0],v[v.length]=m[1],v[v.length]=m[2]}),a.gluTessCallback(u.default.gluEnum.GLU_TESS_BEGIN,function(m){m!==u.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(m))}),a.gluTessCallback(u.default.gluEnum.GLU_TESS_ERROR,function(m){console.log("error callback"),console.log("error number: ".concat(m))}),a.gluTessCallback(u.default.gluEnum.GLU_TESS_COMBINE,function(m,v,b){return[m[0],m[1],m[2]]}),a.gluTessCallback(u.default.gluEnum.GLU_TESS_EDGE_FLAG,function(m){}),a},t.default.RendererGL.prototype._triangulate=function(a){this._tessy.gluTessNormal(0,0,1);var m=[];this._tessy.gluTessBeginPolygon(m);for(var v=0;v<a.length;v++){this._tessy.gluTessBeginContour();for(var b=a[v],x=0;x<b.length;x+=3){var S=[b[x],b[x+1],b[x+2]];this._tessy.gluTessVertex(S,S)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),m},t.default.RendererGL.prototype._bezierCoefficients=function(a){var m=a*a,v=1-a,b=v*v;return[b*v,3*b*a,3*v*m,m*a]},t.default.RendererGL.prototype._quadraticCoefficients=function(a){var m=1-a;return[m*m,2*m*a,a*a]},t.default.RendererGL.prototype._bezierToCatmull=function(a){return[a[1],a[1]+(a[2]-a[0])/this._curveTightness,a[2]-(a[3]-a[1])/this._curveTightness,a[2]]};var i=t.default.RendererGL;p.default=i},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,y,p){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Shader=function(u,d,l){this._renderer=u,this._vertSrc=d,this._fragSrc=l,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},t.default.Shader.prototype.init=function(){if(this._glProgram===0){var u=this._renderer.GL;if(this._vertShader=u.createShader(u.VERTEX_SHADER),u.shaderSource(this._vertShader,this._vertSrc),u.compileShader(this._vertShader),!u.getShaderParameter(this._vertShader,u.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(u.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(this._fragShader,this._fragSrc),u.compileShader(this._fragShader),!u.getShaderParameter(this._fragShader,u.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(u.getShaderInfoLog(this._fragShader))),null;this._glProgram=u.createProgram(),u.attachShader(this._glProgram,this._vertShader),u.attachShader(this._glProgram,this._fragShader),u.linkProgram(this._glProgram),u.getProgramParameter(this._glProgram,u.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(u.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},t.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var u=this._renderer.GL,d=u.getProgramParameter(this._glProgram,u.ACTIVE_ATTRIBUTES),l=0;l<d;++l){var n=u.getActiveAttrib(this._glProgram,l),r=n.name,o=u.getAttribLocation(this._glProgram,r),i={};i.name=r,i.location=o,i.index=l,i.type=n.type,i.size=n.size,this.attributes[r]=i}this._loadedAttributes=!0}},t.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var u=this._renderer.GL,d=u.getProgramParameter(this._glProgram,u.ACTIVE_UNIFORMS),l=0,n=0;n<d;++n){var r=u.getActiveUniform(this._glProgram,n),o={};o.location=u.getUniformLocation(this._glProgram,r.name),o.size=r.size;var i=r.name;1<r.size&&(i=i.substring(0,i.indexOf("[0]"))),o.name=i,o.type=r.type,o._cachedData=void 0,o.type===u.SAMPLER_2D&&(o.samplerIndex=l,l++,this.samplers.push(o)),o.isArray=1<r.size||o.type===u.FLOAT_MAT3||o.type===u.FLOAT_MAT4||o.type===u.FLOAT_VEC2||o.type===u.FLOAT_VEC3||o.type===u.FLOAT_VEC4||o.type===u.INT_VEC2||o.type===u.INT_VEC4||o.type===u.INT_VEC3,this.uniforms[i]=o}this._loadedUniforms=!0}},t.default.Shader.prototype.compile=function(){},t.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},t.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},t.default.Shader.prototype.bindTextures=function(){var u=this._renderer.GL,d=!0,l=!1,n=void 0;try{for(var r,o=this.samplers[Symbol.iterator]();!(d=(r=o.next()).done);d=!0){var i=r.value,a=i.texture;a===void 0&&(a=this._renderer._getEmptyTexture()),u.activeTexture(u.TEXTURE0+i.samplerIndex),a.bindTexture(),a.update(),u.uniform1i(i.location,i.samplerIndex)}}catch(m){l=!0,n=m}finally{try{d||o.return==null||o.return()}finally{if(l)throw n}}},t.default.Shader.prototype.updateTextures=function(){var u=!0,d=!1,l=void 0;try{for(var n,r=this.samplers[Symbol.iterator]();!(u=(n=r.next()).done);u=!0){var o=n.value.texture;o&&o.update()}}catch(i){d=!0,l=i}finally{try{u||r.return==null||r.return()}finally{if(d)throw l}}},t.default.Shader.prototype.unbindTextures=function(){},t.default.Shader.prototype._setMatrixUniforms=function(){var u=this._renderer._curCamera.cameraMatrix,d=this._renderer.uPMatrix,l=this._renderer.uMVMatrix,n=l.copy();n.mult(d),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",u.mat4),this.setUniform("uProjectionMatrix",d.mat4),this.setUniform("uModelViewMatrix",l.mat4),this.setUniform("uModelViewProjectionMatrix",n.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},t.default.Shader.prototype.useProgram=function(){var u=this._renderer.GL;return this._renderer._curShader!==this&&(u.useProgram(this._glProgram),this._renderer._curShader=this),this},t.default.Shader.prototype.setUniform=function(u,d){var l=this.uniforms[u];if(l){var n=this._renderer.GL;if(l.isArray){if(l._cachedData&&this._renderer._arraysEqual(l._cachedData,d))return;l._cachedData=d.slice(0)}else{if(l._cachedData&&l._cachedData===d)return;Array.isArray(d)?l._cachedData=d.slice(0):l._cachedData=d}var r=l.location;switch(this.useProgram(),l.type){case n.BOOL:d===!0?n.uniform1i(r,1):n.uniform1i(r,0);break;case n.INT:1<l.size?d.length&&n.uniform1iv(r,d):n.uniform1i(r,d);break;case n.FLOAT:1<l.size?d.length&&n.uniform1fv(r,d):n.uniform1f(r,d);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r,!1,d);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r,!1,d);break;case n.FLOAT_VEC2:1<l.size?d.length&&n.uniform2fv(r,d):n.uniform2f(r,d[0],d[1]);break;case n.FLOAT_VEC3:1<l.size?d.length&&n.uniform3fv(r,d):n.uniform3f(r,d[0],d[1],d[2]);break;case n.FLOAT_VEC4:1<l.size?d.length&&n.uniform4fv(r,d):n.uniform4f(r,d[0],d[1],d[2],d[3]);break;case n.INT_VEC2:1<l.size?d.length&&n.uniform2iv(r,d):n.uniform2i(r,d[0],d[1]);break;case n.INT_VEC3:1<l.size?d.length&&n.uniform3iv(r,d):n.uniform3i(r,d[0],d[1],d[2]);break;case n.INT_VEC4:1<l.size?d.length&&n.uniform4iv(r,d):n.uniform4i(r,d[0],d[1],d[2],d[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+l.samplerIndex),l.texture=d instanceof t.default.Texture?d:this._renderer.getTexture(d),n.uniform1i(r,l.samplerIndex)}return this}},t.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},t.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},t.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},t.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},t.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},t.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},t.default.Shader.prototype.enableAttrib=function(u,d,l,n,r,o){if(u){var i=u.location;if(i!==-1){var a=this._renderer.GL;u.enabled||(a.enableVertexAttribArray(i),u.enabled=!0),this._renderer.GL.vertexAttribPointer(i,d,l||a.FLOAT,n||!1,r||0,o||0)}}return this};var c=t.default.Shader;p.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,y,p){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=d();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var m=i?Object.getOwnPropertyDescriptor(n,a):null;m&&(m.get||m.set)?Object.defineProperty(o,a,m):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}c.default.Texture=function(n,r,o){this._renderer=n;var i=this._renderer.GL;(o=o||{}).dataType===i.FLOAT&&(i.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),i.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=r,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=o.format||i.RGBA,this.mipmaps=!1,this.glMinFilter=o.minFilter||i.LINEAR,this.glMagFilter=o.magFilter||i.LINEAR,this.glWrapS=o.wrapS||i.CLAMP_TO_EDGE,this.glWrapT=o.wrapT||i.CLAMP_TO_EDGE,this.glDataType=o.dataType||i.UNSIGNED_BYTE,this.isSrcMediaElement=c.default.MediaElement!==void 0&&r instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&r instanceof c.default.Element&&!(r instanceof c.default.Graphics),this.isSrcP5Image=r instanceof c.default.Image,this.isSrcP5Graphics=r instanceof c.default.Graphics,this.isImageData=typeof ImageData!="undefined"&&r instanceof ImageData;var a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this},c.default.Texture.prototype._getTextureDataFromSource=function(){var n;return this.isSrcP5Image?n=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?n=this.src.elt:this.isImageData&&(n=this.src),n},c.default.Texture.prototype.init=function(n){var r=this._renderer.GL;if(this.glTex=r.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var o=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,o)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)},c.default.Texture.prototype.update=function(){var n=this.src;if(n.width===0||n.height===0)return!1;var r=this._getTextureDataFromSource(),o=!1,i=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(o=!0,this.width=r.width,this.height=r.height,this.isSrcP5Image?n.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&n.setModified(!0)):this.isSrcP5Image?n.isModified()&&(o=!0,n.setModified(!1)):this.isSrcMediaElement?n.isModified()?(o=!0,n.setModified(!1)):n.loadedmetadata&&this._videoPrevUpdateTime!==n.time()&&(this._videoPrevUpdateTime=n.time(),o=!0):this.isImageData?n._dirty&&(o=!(n._dirty=!1)):o=!0,o&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),o},c.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},c.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},c.default.Texture.prototype.setInterpolation=function(n,r){var o=this._renderer.GL;n===u.NEAREST?this.glMinFilter=o.NEAREST:this.glMinFilter=o.LINEAR,r===u.NEAREST?this.glMagFilter=o.NEAREST:this.glMagFilter=o.LINEAR,this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.glMinFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},c.default.Texture.prototype.setWrapMode=function(n,r){function o(v){return(v&v-1)==0}var i=this._renderer.GL,a=o(this.width),m=o(this.height);n===u.REPEAT?a&&m?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):n===u.MIRROR?a&&m?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===u.REPEAT?a&&m?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===u.MIRROR?a&&m?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var l=c.default.Texture;p.default=l},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,y,p){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},u=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var a=d();if(a&&a.has(i))return a.get(i);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in i)if(Object.prototype.hasOwnProperty.call(i,b)){var x=v?Object.getOwnPropertyDescriptor(i,b):null;x&&(x.get||x.set)?Object.defineProperty(m,b,x):m[b]=i[b]}return m.default=i,a&&a.set(i,m),m}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return d=function(){return i},i}e("./p5.Shader"),e("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(i){return this._isOpenType()?this._textFont._textWidth(i,this._textSize):0};function l(i,a){this.width=i,this.height=a,this.infos=[],this.findImage=function(m){var v,b,x=this.width*this.height;if(x<m)throw new Error("font is too complex to render in 3D");for(var S=this.infos.length-1;0<=S;--S){var M=this.infos[S];if(M.index+m<x){b=(v=M).imageData;break}}if(!v){try{b=new ImageData(this.width,this.height)}catch{var C=document.getElementsByTagName("canvas")[0],O=!C;C||((C=document.createElement("canvas")).style.display="none",document.body.appendChild(C));var R=C.getContext("2d");R&&(b=R.createImageData(this.width,this.height)),O&&document.body.removeChild(C)}v={index:0,imageData:b},this.infos.push(v)}var P=v.index;return v.index+=m,b._dirty=!0,{imageData:b,index:P}}}function n(i,a,m,v,b){var x=i.imageData.data,S=4*i.index++;x[S++]=a,x[S++]=m,x[S++]=v,x[S++]=b}function r(i){this.font=i,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={},this.getGlyphInfo=function(a){var m=this.glyphInfos[a.index];if(m)return m;var v,b=a.getBoundingBox(),x=b.x1,S=b.y1,M=b.x2-x,C=b.y2-S,O=a.path.commands;if(M==0||C==0||!O.length)return this.glyphInfos[a.index]={};var R,P,L,U,A=[],B=[],F=[];for(v=8;0<=v;--v)F.push([]);for(v=8;0<=v;--v)B.push([]);function K(je,Ge,Qe){var Ze=A.length;function Be(Y,H,$){for(var ae=Y.length;0<ae--;){var xe=Y[ae];xe<H&&(H=xe),$<xe&&($=xe)}return{min:H,max:$}}A.push(Qe);for(var xt=Be(je,1,0),Re=Math.max(Math.floor(9*xt.min),0),Le=Math.min(Math.ceil(9*xt.max),9),qe=Re;qe<Le;++qe)F[qe].push(Ze);for(var We=Be(Ge,1,0),ye=Math.max(Math.floor(9*We.min),0),nt=Math.min(Math.ceil(9*We.max),9),z=ye;z<nt;++z)B[z].push(Ze)}function re(je){return(Ge=(Ze=255)*je)<(Qe=0)?Qe:Ze<Ge?Ze:Ge;var Ge,Qe,Ze}function Q(je,Ge,Qe,Ze){this.p0=je,this.c0=Ge,this.c1=Qe,this.p1=Ze,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Be){var xt=c.default.Vector.lerp(this.p0,this.c0,Be),Re=c.default.Vector.lerp(this.c0,this.c1,Be),Le=c.default.Vector.lerp(xt,Re,Be);this.c1=c.default.Vector.lerp(this.c1,this.p1,Be),this.c0=c.default.Vector.lerp(Re,this.c1,Be);var qe=c.default.Vector.lerp(Le,this.c0,Be),We=new Q(this.p0,xt,Le,qe);return this.p0=qe,We},this.splitInflections=function(){var Be=c.default.Vector.sub(this.c0,this.p0),xt=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Be),Re=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Be),c.default.Vector.mult(xt,2)),Le=[],qe=xt.x*Re.y-xt.y*Re.x;if(qe!==0){var We=Be.x*Re.y-Be.y*Re.x,ye=Be.x*xt.y-Be.y*xt.x,nt=We*We-4*qe*ye;if(0<=nt){qe<0&&(qe=-qe,We=-We,ye=-ye);var z=Math.sqrt(nt),Y=(-We-z)/(2*qe),H=(-We+z)/(2*qe);0<Y&&Y<1&&(Le.push(this.split(Y)),H=1-(1-H)/(1-Y)),0<H&&H<1&&Le.push(this.split(H))}}return Le.push(this),Le}}function ne(je,Ge,Qe,Ze,Be,xt,Re,Le){var qe=new Q(new c.default.Vector(je,Ge),new c.default.Vector(Qe,Ze),new c.default.Vector(Be,xt),new c.default.Vector(Re,Le)).splitInflections(),We=[],ye=30/o,nt=!0,z=!1,Y=void 0;try{for(var H,$=qe[Symbol.iterator]();!(nt=(H=$.next()).done);nt=!0){for(var ae=H.value,xe=[],Ce=void 0;!(.125<=(Ce=ye/ae.quadError()));){var Ne=Math.pow(Ce,.3333333333333333),fe=ae.split(Ne),ze=ae.split(1-Ne/(1-Ne));We.push(fe),xe.push(ae),ae=ze}Ce<1&&We.push(ae.split(.5)),We.push(ae),Array.prototype.push.apply(We,xe.reverse())}}catch(st){z=!0,Y=st}finally{try{nt||$.return==null||$.return()}finally{if(z)throw Y}}return We}function ee(je,Ge,Qe,Ze){K([je,Qe],[Ge,Ze],{x:je,y:Ge,cx:(je+Qe)/2,cy:(Ge+Ze)/2})}function ue(je,Ge,Qe,Ze){return Math.abs(Qe-je)<1e-5&&Math.abs(Ze-Ge)<1e-5}var pe=!0,_e=!1,ce=void 0;try{for(var De,ve=O[Symbol.iterator]();!(pe=(De=ve.next()).done);pe=!0){var ge=De.value,I=(ge.x-x)/M,V=(ge.y-S)/C;if(!ue(R,P,I,V)){switch(ge.type){case"M":L=I,U=V;break;case"L":ee(R,P,I,V);break;case"Q":var W=(ge.x1-x)/M,Z=(ge.y1-S)/C;K([R,I,W],[P,V,Z],{x:R,y:P,cx:W,cy:Z});break;case"Z":ue(R,P,L,U)?A.push({x:R,y:P}):(ee(R,P,L,U),A.push({x:L,y:U}));break;case"C":for(var ie=ne(R,P,(ge.x1-x)/M,(ge.y1-S)/C,(ge.x2-x)/M,(ge.y2-S)/C,I,V),te=0;te<ie.length;te++){var Te=ie[te].toQuadratic();K([Te.x,Te.x1,Te.cx],[Te.y,Te.y1,Te.cy],Te)}break;default:throw new Error("unknown command type: ".concat(ge.type))}R=I,P=V}}}catch(je){_e=!0,ce=je}finally{try{pe||ve.return==null||ve.return()}finally{if(_e)throw ce}}for(var oe=A.length,be=this.strokeImageInfos.findImage(oe),me=be.index,de=0;de<oe;++de){var Me=A[de];n(be,re(Me.x),re(Me.y),re(Me.cx),re(Me.cy))}function Oe(je,Ge,Qe){for(var Ze=je.length,Be=Ge.findImage(Ze),xt=Be.index,Re=0,Le=0;Le<Ze;++Le)Re+=je[Le].length;for(var qe=Qe.findImage(Re),We=0;We<Ze;++We){var ye=je[We],nt=ye.length,z=qe.index;n(Be,z>>7,127&z,nt>>7,127&nt);for(var Y=0;Y<nt;++Y){var H=ye[Y]+me;n(qe,H>>7,127&H,0,0)}}return{cellImageInfo:qe,dimOffset:xt,dimImageInfo:Be}}return(m=this.glyphInfos[a.index]={glyph:a,uGlyphRect:[b.x1,-b.y1,b.x2,-b.y2],strokeImageInfo:be,strokes:A,colInfo:Oe(F,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Oe(B,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[m.colInfo.dimOffset,m.rowInfo.dimOffset],m}}var o=Math.sqrt(3);c.default.RendererGL.prototype._renderText=function(i,a,m,v,b){if(this._textFont&&typeof this._textFont!="string"){if(!(b<=v)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),i;i.push();var x=this._doStroke,S=this.drawMode;this._doStroke=!1,this.drawMode=u.TEXTURE;var M=this._textFont.font,C=this._textFont._fontInfo;C=C||(this._textFont._fontInfo=new r(M));var O=this._textFont._handleAlignment(this,a,m,v),R=this._textSize/M.unitsPerEm;this.translate(O.x,O.y,0),this.scale(R,R,1);var P=this.GL,L=!this._defaultFontShader,U=this._getFontShader();U.init(),U.bindShader(),L&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var A=this.retainedMode.geometry.glyph;if(!A){var B=this._textGeom=new c.default.Geometry(1,1,function(){for(var ie=0;ie<=1;ie++)for(var te=0;te<=1;te++)this.vertices.push(new c.default.Vector(te,ie,0)),this.uvs.push(te,ie)});B.computeFaces().computeNormals(),A=this.createBuffers("glyph",B)}var F=!0,K=!1,re=void 0;try{for(var Q,ne=this.retainedMode.buffers.text[Symbol.iterator]();!(F=(Q=ne.next()).done);F=!0)Q.value._prepareBuffer(A,U)}catch(ie){K=!0,re=ie}finally{try{F||ne.return==null||ne.return()}finally{if(K)throw re}}this._bindBuffer(A.indexBuffer,P.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor);try{var ee=0,ue=null,pe=M.stringToGlyphs(a),_e=!0,ce=!1,De=void 0;try{for(var ve,ge=pe[Symbol.iterator]();!(_e=(ve=ge.next()).done);_e=!0){var I=ve.value;ue&&(ee+=M.getKerningValue(ue,I));var V=C.getGlyphInfo(I);if(V.uGlyphRect){var W=V.rowInfo,Z=V.colInfo;U.setUniform("uSamplerStrokes",V.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",W.cellImageInfo.imageData),U.setUniform("uSamplerRows",W.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",Z.cellImageInfo.imageData),U.setUniform("uSamplerCols",Z.dimImageInfo.imageData),U.setUniform("uGridOffset",V.uGridOffset),U.setUniform("uGlyphRect",V.uGlyphRect),U.setUniform("uGlyphOffset",ee),U.bindTextures(),P.drawElements(P.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}ee+=I.advanceWidth,ue=I}}catch(ie){ce=!0,De=ie}finally{try{_e||ge.return==null||ge.return()}finally{if(ce)throw De}}}finally{U.unbindShader(),this._doStroke=x,this.drawMode=S,i.pop()}return i}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(_d);var Kf=Zf(_d.exports);function Qf(_){let s,f=_[0].name+"",e,y,p=`${_[1].minutes}:${_[1].seconds}`,h;return{c(){s=fn("div"),e=ki(f),y=Qn(),h=ki(p),In(s,"id","player")},m(t,c){Qs(t,s,c),_r(s,e),_r(s,y),_r(s,h)},p(t,[c]){c&1&&f!==(f=t[0].name+"")&&Ia(e,f),c&2&&p!==(p=`${t[1].minutes}:${t[1].seconds}`)&&Ia(h,p)},i:Os,o:Os,d(t){t&&Zi(s)}}}function Jf(_,s,f){let e,{player:y}=s;return y.events.ontimechanged=(p,h)=>{f(1,e=h)},_.$$set=p=>{"player"in p&&f(0,y=p.player)},_.$$.update=()=>{_.$$.dirty&1&&f(1,e=y.currentTime)},[y,e]}class Ju extends wl{constructor(s){super(),bl(this,s,Jf,Qf,gl,{player:0})}}function ec(_,s,f){const e=_.slice();return e[1]=s[f],e[3]=f,e}function tc(_){let s,f,e=_[3]+1+"",y,p,h,t=_[1].an+"",c,u;return{c(){s=fn("tr"),f=fn("td"),y=ki(e),p=Qn(),h=fn("td"),c=ki(t),u=Qn()},m(d,l){Qs(d,s,l),_r(s,f),_r(f,y),_r(s,p),_r(s,h),_r(h,c),_r(s,u)},p(d,l){l&1&&t!==(t=d[1].an+"")&&Ia(c,t)},d(d){d&&Zi(s)}}}function ep(_){let s,f,e,y,p,h,t,c,u,d,l,n,r;e=new Ju({props:{player:_[0].dark}}),t=new Ju({props:{player:_[0].light}});let o=_[0].board.history,i=[];for(let a=0;a<o.length;a+=1)i[a]=tc(ec(_,o,a));return{c(){s=fn("section"),f=fn("div"),Ba(e.$$.fragment),y=Qn(),p=fn("div"),h=Qn(),Ba(t.$$.fragment),c=Qn(),u=fn("div"),d=fn("table"),l=fn("tr"),l.innerHTML=`<th>Num. of Moves</th> 
        <th>Desc.</th>`,n=Qn();for(let a=0;a<i.length;a+=1)i[a].c();In(p,"id","game"),In(f,"id","game-wrapper"),In(f,"class","svelte-1xamruw"),In(d,"class","svelte-1xamruw"),In(u,"id","history"),In(u,"class","svelte-1xamruw"),In(s,"id","main"),In(s,"class","svelte-1xamruw")},m(a,m){Qs(a,s,m),_r(s,f),Ps(e,f,null),_r(f,y),_r(f,p),_r(f,h),Ps(t,f,null),_r(s,c),_r(s,u),_r(u,d),_r(d,l),_r(d,n);for(let v=0;v<i.length;v+=1)i[v].m(d,null);r=!0},p(a,[m]){const v={};m&1&&(v.player=a[0].dark),e.$set(v);const b={};if(m&1&&(b.player=a[0].light),t.$set(b),m&1){o=a[0].board.history;let x;for(x=0;x<o.length;x+=1){const S=ec(a,o,x);i[x]?i[x].p(S,m):(i[x]=tc(S),i[x].c(),i[x].m(d,null))}for(;x<i.length;x+=1)i[x].d(1);i.length=o.length}},i(a){r||(ks(e.$$.fragment,a),ks(t.$$.fragment,a),r=!0)},o(a){Fa(e.$$.fragment,a),Fa(t.$$.fragment,a),r=!1},d(a){a&&Zi(s),Ls(e),Ls(t),$d(i,a)}}}function tp(_,s,f){let{game:e}=s;return _.$$set=y=>{"game"in y&&f(0,e=y.game)},[e]}class rp extends wl{constructor(s){super(),bl(this,s,tp,ep,gl,{game:0})}}function np(_){let s,f,e,y,p,h,t,c,u;return f=new rp({props:{game:_[1]}}),{c(){s=fn("main"),Ba(f.$$.fragment),e=Qn(),y=fn("button"),y.textContent="Start",p=Qn(),h=fn("button"),h.textContent="Pause",Bu(s,"--game-height",_[0].canvasSize+"px"),In(s,"class","svelte-1910pwy")},m(d,l){Qs(d,s,l),Ps(f,s,null),_r(s,e),_r(s,y),_r(s,p),_r(s,h),t=!0,c||(u=[Fu(y,"click",_[2]),Fu(h,"click",_[3])],c=!0)},p(d,[l]){const n={};l&2&&(n.game=d[1]),f.$set(n),(!t||l&1)&&Bu(s,"--game-height",d[0].canvasSize+"px")},i(d){t||(ks(f.$$.fragment,d),t=!0)},o(d){Fa(f.$$.fragment,d),t=!1},d(d){d&&Zi(s),Ls(f),c=!1,Xi(u)}}}function op(_,s,f){let e;const y=new URL(location.href);y.searchParams.get("fen")&&(Cn.game.board.fen=y.searchParams.get("fen")),Cn.canvasParent="game",Cn.canvasSize=700,wd.onpiecemove=(t,c,u)=>{f(1,e=Cn.game)},new Kf(Xf);const p=t=>f(1,e.hasStarted=!0,e),h=t=>e.isPaused?e.start():e.pause();return _.$$.update=()=>{_.$$.dirty&1&&f(1,e=Cn.game)},[Cn,e,p,h]}class ip extends wl{constructor(s){super(),bl(this,s,op,np,gl,{})}}new ip({target:document.getElementById("app")});
